import{r as db,a as Nv,g as Iv,R as hb,b as j,j as C,c as on,B as qv,I as Rv,u as ve,S as me,d as Vu,E as Gu,C as pb,e as gb,f as Xc}from"./index-DDrJZNCd.js";db();function ue(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=ue(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var vb={value:()=>{}};function kn(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new gn(n)}function gn(e){this._=e}function mb(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}gn.prototype=kn.prototype={constructor:gn,on:function(e,t){var n=this._,r=mb(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=yb(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=Kc(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Kc(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new gn(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function yb(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Kc(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=vb,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Uu="http://www.w3.org/1999/xhtml";const Zc={svg:"http://www.w3.org/2000/svg",xhtml:Uu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function On(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Zc.hasOwnProperty(t)?{space:Zc[t],local:e}:e}function bb(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Uu&&t.documentElement.namespaceURI===Uu?t.createElement(e):t.createElementNS(n,e)}}function _b(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Av(e){var t=On(e);return(t.local?_b:bb)(t)}function xb(){}function sc(e){return e==null?xb:function(){return this.querySelector(e)}}function wb(e){typeof e!="function"&&(e=sc(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=new Array(a),u,c,l=0;l<a;++l)(u=o[l])&&(c=e.call(u,u.__data__,l,o))&&("__data__"in u&&(c.__data__=u.__data__),s[l]=c);return new ge(r,this._parents)}function Eb(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Sb(){return[]}function Mv(e){return e==null?Sb:function(){return this.querySelectorAll(e)}}function Cb(e){return function(){return Eb(e.apply(this,arguments))}}function Nb(e){typeof e=="function"?e=Cb(e):e=Mv(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a=t[o],s=a.length,u,c=0;c<s;++c)(u=a[c])&&(r.push(e.call(u,u.__data__,c,a)),i.push(u));return new ge(r,i)}function Tv(e){return function(){return this.matches(e)}}function Pv(e){return function(t){return t.matches(e)}}var Ib=Array.prototype.find;function qb(e){return function(){return Ib.call(this.children,e)}}function Rb(){return this.firstElementChild}function Ab(e){return this.select(e==null?Rb:qb(typeof e=="function"?e:Pv(e)))}var Mb=Array.prototype.filter;function Tb(){return Array.from(this.children)}function Pb(e){return function(){return Mb.call(this.children,e)}}function kb(e){return this.selectAll(e==null?Tb:Pb(typeof e=="function"?e:Pv(e)))}function Ob(e){typeof e!="function"&&(e=Tv(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],u,c=0;c<a;++c)(u=o[c])&&e.call(u,u.__data__,c,o)&&s.push(u);return new ge(r,this._parents)}function kv(e){return new Array(e.length)}function Lb(){return new ge(this._enter||this._groups.map(kv),this._parents)}function _n(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}_n.prototype={constructor:_n,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Db(e){return function(){return e}}function jb(e,t,n,r,i,o){for(var a=0,s,u=t.length,c=o.length;a<c;++a)(s=t[a])?(s.__data__=o[a],r[a]=s):n[a]=new _n(e,o[a]);for(;a<u;++a)(s=t[a])&&(i[a]=s)}function $b(e,t,n,r,i,o,a){var s,u,c=new Map,l=t.length,d=o.length,f=new Array(l),h;for(s=0;s<l;++s)(u=t[s])&&(f[s]=h=a.call(u,u.__data__,s,t)+"",c.has(h)?i[s]=u:c.set(h,u));for(s=0;s<d;++s)h=a.call(e,o[s],s,o)+"",(u=c.get(h))?(r[s]=u,u.__data__=o[s],c.delete(h)):n[s]=new _n(e,o[s]);for(s=0;s<l;++s)(u=t[s])&&c.get(f[s])===u&&(i[s]=u)}function Fb(e){return e.__data__}function Bb(e,t){if(!arguments.length)return Array.from(this,Fb);var n=t?$b:jb,r=this._parents,i=this._groups;typeof e!="function"&&(e=Db(e));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),c=0;c<o;++c){var l=r[c],d=i[c],f=d.length,h=Hb(e.call(l,l&&l.__data__,c,r)),m=h.length,p=s[c]=new Array(m),v=a[c]=new Array(m),y=u[c]=new Array(f);n(l,d,p,v,y,h,t);for(var _=0,g=0,b,x;_<m;++_)if(b=p[_]){for(_>=g&&(g=_+1);!(x=v[g])&&++g<m;);b._next=x||null}}return a=new ge(a,r),a._enter=s,a._exit=u,a}function Hb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function zb(){return new ge(this._exit||this._groups.map(kv),this._parents)}function Vb(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Gb(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var c=n[u],l=r[u],d=c.length,f=s[u]=new Array(d),h,m=0;m<d;++m)(h=c[m]||l[m])&&(f[m]=h);for(;u<i;++u)s[u]=n[u];return new ge(s,this._parents)}function Ub(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Yb(e){e||(e=Wb);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,u=i[o]=new Array(s),c,l=0;l<s;++l)(c=a[l])&&(u[l]=c);u.sort(t)}return new ge(i,this._parents).order()}function Wb(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Xb(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Kb(){return Array.from(this)}function Zb(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function Qb(){let e=0;for(const t of this)++e;return e}function Jb(){return!this.node()}function e_(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function t_(e){return function(){this.removeAttribute(e)}}function n_(e){return function(){this.removeAttributeNS(e.space,e.local)}}function r_(e,t){return function(){this.setAttribute(e,t)}}function i_(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function o_(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function a_(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function s_(e,t){var n=On(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?n_:t_:typeof t=="function"?n.local?a_:o_:n.local?i_:r_)(n,t))}function Ov(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function u_(e){return function(){this.style.removeProperty(e)}}function c_(e,t,n){return function(){this.style.setProperty(e,t,n)}}function l_(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function f_(e,t,n){return arguments.length>1?this.each((t==null?u_:typeof t=="function"?l_:c_)(e,t,n??"")):vt(this.node(),e)}function vt(e,t){return e.style.getPropertyValue(t)||Ov(e).getComputedStyle(e,null).getPropertyValue(t)}function d_(e){return function(){delete this[e]}}function h_(e,t){return function(){this[e]=t}}function p_(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function g_(e,t){return arguments.length>1?this.each((t==null?d_:typeof t=="function"?p_:h_)(e,t)):this.node()[e]}function Lv(e){return e.trim().split(/^|\s+/)}function uc(e){return e.classList||new Dv(e)}function Dv(e){this._node=e,this._names=Lv(e.getAttribute("class")||"")}Dv.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function jv(e,t){for(var n=uc(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function $v(e,t){for(var n=uc(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function v_(e){return function(){jv(this,e)}}function m_(e){return function(){$v(this,e)}}function y_(e,t){return function(){(t.apply(this,arguments)?jv:$v)(this,e)}}function b_(e,t){var n=Lv(e+"");if(arguments.length<2){for(var r=uc(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?y_:t?v_:m_)(n,t))}function __(){this.textContent=""}function x_(e){return function(){this.textContent=e}}function w_(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function E_(e){return arguments.length?this.each(e==null?__:(typeof e=="function"?w_:x_)(e)):this.node().textContent}function S_(){this.innerHTML=""}function C_(e){return function(){this.innerHTML=e}}function N_(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function I_(e){return arguments.length?this.each(e==null?S_:(typeof e=="function"?N_:C_)(e)):this.node().innerHTML}function q_(){this.nextSibling&&this.parentNode.appendChild(this)}function R_(){return this.each(q_)}function A_(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function M_(){return this.each(A_)}function T_(e){var t=typeof e=="function"?e:Av(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function P_(){return null}function k_(e,t){var n=typeof e=="function"?e:Av(e),r=t==null?P_:typeof t=="function"?t:sc(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function O_(){var e=this.parentNode;e&&e.removeChild(this)}function L_(){return this.each(O_)}function D_(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function j_(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function $_(e){return this.select(e?j_:D_)}function F_(e){return arguments.length?this.property("__data__",e):this.node().__data__}function B_(e){return function(t){e.call(this,t,this.__data__)}}function H_(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function z_(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function V_(e,t,n){return function(){var r=this.__on,i,o=B_(t);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function G_(e,t,n){var r=H_(e+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,c=s.length,l;u<c;++u)for(i=0,l=s[u];i<o;++i)if((a=r[i]).type===l.type&&a.name===l.name)return l.value}return}for(s=t?V_:z_,i=0;i<o;++i)this.each(s(r[i],t,n));return this}function Fv(e,t,n){var r=Ov(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function U_(e,t){return function(){return Fv(this,e,t)}}function Y_(e,t){return function(){return Fv(this,e,t.apply(this,arguments))}}function W_(e,t){return this.each((typeof t=="function"?Y_:U_)(e,t))}function*X_(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var Bv=[null];function ge(e,t){this._groups=e,this._parents=t}function Ut(){return new ge([[document.documentElement]],Bv)}function K_(){return this}ge.prototype=Ut.prototype={constructor:ge,select:wb,selectAll:Nb,selectChild:Ab,selectChildren:kb,filter:Ob,data:Bb,enter:Lb,exit:zb,join:Vb,merge:Gb,selection:K_,order:Ub,sort:Yb,call:Xb,nodes:Kb,node:Zb,size:Qb,empty:Jb,each:e_,attr:s_,style:f_,property:g_,classed:b_,text:E_,html:I_,raise:R_,lower:M_,append:T_,insert:k_,remove:L_,clone:$_,datum:F_,on:G_,dispatch:W_,[Symbol.iterator]:X_};function pe(e){return typeof e=="string"?new ge([[document.querySelector(e)]],[document.documentElement]):new ge([[e]],Bv)}function Z_(e){let t;for(;t=e.sourceEvent;)e=t;return e}function xe(e,t){if(e=Z_(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const Q_={passive:!1},Dt={capture:!0,passive:!1};function hr(e){e.stopImmediatePropagation()}function pt(e){e.preventDefault(),e.stopImmediatePropagation()}function Hv(e){var t=e.document.documentElement,n=pe(e).on("dragstart.drag",pt,Dt);"onselectstart"in t?n.on("selectstart.drag",pt,Dt):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function zv(e,t){var n=e.document.documentElement,r=pe(e).on("dragstart.drag",null);t&&(r.on("click.drag",pt,Dt),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const an=e=>()=>e;function Yu(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:u,dy:c,dispatch:l}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:l}})}Yu.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function J_(e){return!e.ctrlKey&&!e.button}function ex(){return this.parentNode}function tx(e,t){return t??{x:e.x,y:e.y}}function nx(){return navigator.maxTouchPoints||"ontouchstart"in this}function Vv(){var e=J_,t=ex,n=tx,r=nx,i={},o=kn("start","drag","end"),a=0,s,u,c,l,d=0;function f(b){b.on("mousedown.drag",h).filter(r).on("touchstart.drag",v).on("touchmove.drag",y,Q_).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(b,x){if(!(l||!e.call(this,b,x))){var w=g(this,t.call(this,b,x),b,x,"mouse");w&&(pe(b.view).on("mousemove.drag",m,Dt).on("mouseup.drag",p,Dt),Hv(b.view),hr(b),c=!1,s=b.clientX,u=b.clientY,w("start",b))}}function m(b){if(pt(b),!c){var x=b.clientX-s,w=b.clientY-u;c=x*x+w*w>d}i.mouse("drag",b)}function p(b){pe(b.view).on("mousemove.drag mouseup.drag",null),zv(b.view,c),pt(b),i.mouse("end",b)}function v(b,x){if(e.call(this,b,x)){var w=b.changedTouches,E=t.call(this,b,x),N=w.length,I,T;for(I=0;I<N;++I)(T=g(this,E,b,x,w[I].identifier,w[I]))&&(hr(b),T("start",b,w[I]))}}function y(b){var x=b.changedTouches,w=x.length,E,N;for(E=0;E<w;++E)(N=i[x[E].identifier])&&(pt(b),N("drag",b,x[E]))}function _(b){var x=b.changedTouches,w=x.length,E,N;for(l&&clearTimeout(l),l=setTimeout(function(){l=null},500),E=0;E<w;++E)(N=i[x[E].identifier])&&(hr(b),N("end",b,x[E]))}function g(b,x,w,E,N,I){var T=o.copy(),q=xe(I||w,x),P,L,S;if((S=n.call(b,new Yu("beforestart",{sourceEvent:w,target:f,identifier:N,active:a,x:q[0],y:q[1],dx:0,dy:0,dispatch:T}),E))!=null)return P=S.x-q[0]||0,L=S.y-q[1]||0,function R(M,k,F){var $=q,H;switch(M){case"start":i[N]=R,H=a++;break;case"end":delete i[N],--a;case"drag":q=xe(F||k,x),H=a;break}T.call(M,b,new Yu(M,{sourceEvent:k,subject:S,target:f,identifier:N,active:H,x:q[0]+P,y:q[1]+L,dx:q[0]-$[0],dy:q[1]-$[1],dispatch:T}),E)}}return f.filter=function(b){return arguments.length?(e=typeof b=="function"?b:an(!!b),f):e},f.container=function(b){return arguments.length?(t=typeof b=="function"?b:an(b),f):t},f.subject=function(b){return arguments.length?(n=typeof b=="function"?b:an(b),f):n},f.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:an(!!b),f):r},f.on=function(){var b=o.on.apply(o,arguments);return b===o?f:b},f.clickDistance=function(b){return arguments.length?(d=(b=+b)*b,f):Math.sqrt(d)},f}function cc(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Gv(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Yt(){}var jt=.7,xn=1/jt,gt="\\s*([+-]?\\d+)\\s*",$t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ae="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rx=/^#([0-9a-f]{3,8})$/,ix=new RegExp(`^rgb\\(${gt},${gt},${gt}\\)$`),ox=new RegExp(`^rgb\\(${Ae},${Ae},${Ae}\\)$`),ax=new RegExp(`^rgba\\(${gt},${gt},${gt},${$t}\\)$`),sx=new RegExp(`^rgba\\(${Ae},${Ae},${Ae},${$t}\\)$`),ux=new RegExp(`^hsl\\(${$t},${Ae},${Ae}\\)$`),cx=new RegExp(`^hsla\\(${$t},${Ae},${Ae},${$t}\\)$`),Qc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cc(Yt,nt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Jc,formatHex:Jc,formatHex8:lx,formatHsl:fx,formatRgb:el,toString:el});function Jc(){return this.rgb().formatHex()}function lx(){return this.rgb().formatHex8()}function fx(){return Uv(this).formatHsl()}function el(){return this.rgb().formatRgb()}function nt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=rx.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?tl(t):n===3?new fe(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?sn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?sn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ix.exec(e))?new fe(t[1],t[2],t[3],1):(t=ox.exec(e))?new fe(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ax.exec(e))?sn(t[1],t[2],t[3],t[4]):(t=sx.exec(e))?sn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ux.exec(e))?il(t[1],t[2]/100,t[3]/100,1):(t=cx.exec(e))?il(t[1],t[2]/100,t[3]/100,t[4]):Qc.hasOwnProperty(e)?tl(Qc[e]):e==="transparent"?new fe(NaN,NaN,NaN,0):null}function tl(e){return new fe(e>>16&255,e>>8&255,e&255,1)}function sn(e,t,n,r){return r<=0&&(e=t=n=NaN),new fe(e,t,n,r)}function dx(e){return e instanceof Yt||(e=nt(e)),e?(e=e.rgb(),new fe(e.r,e.g,e.b,e.opacity)):new fe}function Wu(e,t,n,r){return arguments.length===1?dx(e):new fe(e,t,n,r??1)}function fe(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}cc(fe,Wu,Gv(Yt,{brighter(e){return e=e==null?xn:Math.pow(xn,e),new fe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?jt:Math.pow(jt,e),new fe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new fe(et(this.r),et(this.g),et(this.b),wn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nl,formatHex:nl,formatHex8:hx,formatRgb:rl,toString:rl}));function nl(){return`#${Je(this.r)}${Je(this.g)}${Je(this.b)}`}function hx(){return`#${Je(this.r)}${Je(this.g)}${Je(this.b)}${Je((isNaN(this.opacity)?1:this.opacity)*255)}`}function rl(){const e=wn(this.opacity);return`${e===1?"rgb(":"rgba("}${et(this.r)}, ${et(this.g)}, ${et(this.b)}${e===1?")":`, ${e})`}`}function wn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function et(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Je(e){return e=et(e),(e<16?"0":"")+e.toString(16)}function il(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new we(e,t,n,r)}function Uv(e){if(e instanceof we)return new we(e.h,e.s,e.l,e.opacity);if(e instanceof Yt||(e=nt(e)),!e)return new we;if(e instanceof we)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new we(a,s,u,e.opacity)}function px(e,t,n,r){return arguments.length===1?Uv(e):new we(e,t,n,r??1)}function we(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}cc(we,px,Gv(Yt,{brighter(e){return e=e==null?xn:Math.pow(xn,e),new we(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?jt:Math.pow(jt,e),new we(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new fe(pr(e>=240?e-240:e+120,i,r),pr(e,i,r),pr(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new we(ol(this.h),un(this.s),un(this.l),wn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=wn(this.opacity);return`${e===1?"hsl(":"hsla("}${ol(this.h)}, ${un(this.s)*100}%, ${un(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ol(e){return e=(e||0)%360,e<0?e+360:e}function un(e){return Math.max(0,Math.min(1,e||0))}function pr(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const lc=e=>()=>e;function gx(e,t){return function(n){return e+n*t}}function vx(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function mx(e){return(e=+e)==1?Yv:function(t,n){return n-t?vx(t,n,e):lc(isNaN(t)?n:t)}}function Yv(e,t){var n=t-e;return n?gx(e,n):lc(isNaN(e)?t:e)}const En=function e(t){var n=mx(t);function r(i,o){var a=n((i=Wu(i)).r,(o=Wu(o)).r),s=n(i.g,o.g),u=n(i.b,o.b),c=Yv(i.opacity,o.opacity);return function(l){return i.r=a(l),i.g=s(l),i.b=u(l),i.opacity=c(l),i+""}}return r.gamma=e,r}(1);function yx(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function bx(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function _x(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Ot(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function xx(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function qe(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function wx(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Ot(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Xu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gr=new RegExp(Xu.source,"g");function Ex(e){return function(){return e}}function Sx(e){return function(t){return e(t)+""}}function Wv(e,t){var n=Xu.lastIndex=gr.lastIndex=0,r,i,o,a=-1,s=[],u=[];for(e=e+"",t=t+"";(r=Xu.exec(e))&&(i=gr.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:qe(r,i)})),n=gr.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?Sx(u[0].x):Ex(t):(t=u.length,function(c){for(var l=0,d;l<t;++l)s[(d=u[l]).i]=d.x(c);return s.join("")})}function Ot(e,t){var n=typeof t,r;return t==null||n==="boolean"?lc(t):(n==="number"?qe:n==="string"?(r=nt(t))?(t=r,En):Wv:t instanceof nt?En:t instanceof Date?xx:bx(t)?yx:Array.isArray(t)?_x:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?wx:qe)(e,t)}var al=180/Math.PI,Ku={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Xv(e,t,n,r,i,o){var a,s,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),e*r<t*n&&(e=-e,t=-t,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*al,skewX:Math.atan(u)*al,scaleX:a,scaleY:s}}var cn;function Cx(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ku:Xv(t.a,t.b,t.c,t.d,t.e,t.f)}function Nx(e){return e==null||(cn||(cn=document.createElementNS("http://www.w3.org/2000/svg","g")),cn.setAttribute("transform",e),!(e=cn.transform.baseVal.consolidate()))?Ku:(e=e.matrix,Xv(e.a,e.b,e.c,e.d,e.e,e.f))}function Kv(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,l,d,f,h,m){if(c!==d||l!==f){var p=h.push("translate(",null,t,null,n);m.push({i:p-4,x:qe(c,d)},{i:p-2,x:qe(l,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function a(c,l,d,f){c!==l?(c-l>180?l+=360:l-c>180&&(c+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:qe(c,l)})):l&&d.push(i(d)+"rotate("+l+r)}function s(c,l,d,f){c!==l?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:qe(c,l)}):l&&d.push(i(d)+"skewX("+l+r)}function u(c,l,d,f,h,m){if(c!==d||l!==f){var p=h.push(i(h)+"scale(",null,",",null,")");m.push({i:p-4,x:qe(c,d)},{i:p-2,x:qe(l,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(c,l){var d=[],f=[];return c=e(c),l=e(l),o(c.translateX,c.translateY,l.translateX,l.translateY,d,f),a(c.rotate,l.rotate,d,f),s(c.skewX,l.skewX,d,f),u(c.scaleX,c.scaleY,l.scaleX,l.scaleY,d,f),c=l=null,function(h){for(var m=-1,p=f.length,v;++m<p;)d[(v=f[m]).i]=v.x(h);return d.join("")}}}var Ix=Kv(Cx,"px, ","px)","deg)"),qx=Kv(Nx,", ",")",")"),Rx=1e-12;function sl(e){return((e=Math.exp(e))+1/e)/2}function Ax(e){return((e=Math.exp(e))-1/e)/2}function Mx(e){return((e=Math.exp(2*e))-1)/(e+1)}const vn=function e(t,n,r){function i(o,a){var s=o[0],u=o[1],c=o[2],l=a[0],d=a[1],f=a[2],h=l-s,m=d-u,p=h*h+m*m,v,y;if(p<Rx)y=Math.log(f/c)/t,v=function(E){return[s+E*h,u+E*m,c*Math.exp(t*E*y)]};else{var _=Math.sqrt(p),g=(f*f-c*c+r*p)/(2*c*n*_),b=(f*f-c*c-r*p)/(2*f*n*_),x=Math.log(Math.sqrt(g*g+1)-g),w=Math.log(Math.sqrt(b*b+1)-b);y=(w-x)/t,v=function(E){var N=E*y,I=sl(x),T=c/(n*_)*(I*Mx(t*N+x)-Ax(x));return[s+T*h,u+T*m,c*I/sl(t*N+x)]}}return v.duration=y*1e3*t/Math.SQRT2,v}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,u=s*s;return e(a,s,u)},i}(Math.SQRT2,2,4);var mt=0,At=0,qt=0,Zv=1e3,Sn,Mt,Cn=0,rt=0,Ln=0,Ft=typeof performance=="object"&&performance.now?performance:Date,Qv=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function fc(){return rt||(Qv(Tx),rt=Ft.now()+Ln)}function Tx(){rt=0}function Nn(){this._call=this._time=this._next=null}Nn.prototype=Jv.prototype={constructor:Nn,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?fc():+n)+(t==null?0:+t),!this._next&&Mt!==this&&(Mt?Mt._next=this:Sn=this,Mt=this),this._call=e,this._time=n,Zu()},stop:function(){this._call&&(this._call=null,this._time=1/0,Zu())}};function Jv(e,t,n){var r=new Nn;return r.restart(e,t,n),r}function Px(){fc(),++mt;for(var e=Sn,t;e;)(t=rt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--mt}function ul(){rt=(Cn=Ft.now())+Ln,mt=At=0;try{Px()}finally{mt=0,Ox(),rt=0}}function kx(){var e=Ft.now(),t=e-Cn;t>Zv&&(Ln-=t,Cn=e)}function Ox(){for(var e,t=Sn,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Sn=n);Mt=e,Zu(r)}function Zu(e){if(!mt){At&&(At=clearTimeout(At));var t=e-rt;t>24?(e<1/0&&(At=setTimeout(ul,e-Ft.now()-Ln)),qt&&(qt=clearInterval(qt))):(qt||(Cn=Ft.now(),qt=setInterval(kx,Zv)),mt=1,Qv(ul))}}function cl(e,t,n){var r=new Nn;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Lx=kn("start","end","cancel","interrupt"),Dx=[],em=0,ll=1,Qu=2,mn=3,fl=4,Ju=5,yn=6;function Dn(e,t,n,r,i,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;jx(e,n,{name:t,index:r,group:i,on:Lx,tween:Dx,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:em})}function dc(e,t){var n=Ce(e,t);if(n.state>em)throw new Error("too late; already scheduled");return n}function Te(e,t){var n=Ce(e,t);if(n.state>mn)throw new Error("too late; already running");return n}function Ce(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function jx(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Jv(o,0,n.time);function o(c){n.state=ll,n.timer.restart(a,n.delay,n.time),n.delay<=c&&a(c-n.delay)}function a(c){var l,d,f,h;if(n.state!==ll)return u();for(l in r)if(h=r[l],h.name===n.name){if(h.state===mn)return cl(a);h.state===fl?(h.state=yn,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[l]):+l<t&&(h.state=yn,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[l])}if(cl(function(){n.state===mn&&(n.state=fl,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=Qu,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Qu){for(n.state=mn,i=new Array(f=n.tween.length),l=0,d=-1;l<f;++l)(h=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function s(c){for(var l=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=Ju,1),d=-1,f=i.length;++d<f;)i[d].call(e,l);n.state===Ju&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=yn,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function bn(e,t){var n=e.__transition,r,i,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){o=!1;continue}i=r.state>Qu&&r.state<Ju,r.state=yn,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}o&&delete e.__transition}}function $x(e){return this.each(function(){bn(this,e)})}function Fx(e,t){var n,r;return function(){var i=Te(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Bx(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Te(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===t){i[u]=s;break}u===c&&i.push(s)}o.tween=i}}function Hx(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Ce(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?Fx:Bx)(n,e,t))}function hc(e,t,n){var r=e._id;return e.each(function(){var i=Te(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Ce(i,r).value[t]}}function tm(e,t){var n;return(typeof t=="number"?qe:t instanceof nt?En:(n=nt(t))?(t=n,En):Wv)(e,t)}function zx(e){return function(){this.removeAttribute(e)}}function Vx(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Gx(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function Ux(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function Yx(e,t,n){var r,i,o;return function(){var a,s=n(this),u;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),u=s+"",a===u?null:a===r&&u===i?o:(i=u,o=t(r=a,s)))}}function Wx(e,t,n){var r,i,o;return function(){var a,s=n(this),u;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),u=s+"",a===u?null:a===r&&u===i?o:(i=u,o=t(r=a,s)))}}function Xx(e,t){var n=On(e),r=n==="transform"?qx:tm;return this.attrTween(e,typeof t=="function"?(n.local?Wx:Yx)(n,r,hc(this,"attr."+e,t)):t==null?(n.local?Vx:zx)(n):(n.local?Ux:Gx)(n,r,t))}function Kx(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Zx(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Qx(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Zx(e,o)),n}return i._value=t,i}function Jx(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Kx(e,o)),n}return i._value=t,i}function ew(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=On(e);return this.tween(n,(r.local?Qx:Jx)(r,t))}function tw(e,t){return function(){dc(this,e).delay=+t.apply(this,arguments)}}function nw(e,t){return t=+t,function(){dc(this,e).delay=t}}function rw(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?tw:nw)(t,e)):Ce(this.node(),t).delay}function iw(e,t){return function(){Te(this,e).duration=+t.apply(this,arguments)}}function ow(e,t){return t=+t,function(){Te(this,e).duration=t}}function aw(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?iw:ow)(t,e)):Ce(this.node(),t).duration}function sw(e,t){if(typeof t!="function")throw new Error;return function(){Te(this,e).ease=t}}function uw(e){var t=this._id;return arguments.length?this.each(sw(t,e)):Ce(this.node(),t).ease}function cw(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Te(this,e).ease=n}}function lw(e){if(typeof e!="function")throw new Error;return this.each(cw(this._id,e))}function fw(e){typeof e!="function"&&(e=Tv(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],u,c=0;c<a;++c)(u=o[c])&&e.call(u,u.__data__,c,o)&&s.push(u);return new Fe(r,this._parents,this._name,this._id)}function dw(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u=t[s],c=n[s],l=u.length,d=a[s]=new Array(l),f,h=0;h<l;++h)(f=u[h]||c[h])&&(d[h]=f);for(;s<r;++s)a[s]=t[s];return new Fe(a,this._parents,this._name,this._id)}function hw(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function pw(e,t,n){var r,i,o=hw(t)?dc:Te;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}function gw(e,t){var n=this._id;return arguments.length<2?Ce(this.node(),n).on.on(e):this.each(pw(n,e,t))}function vw(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function mw(){return this.on("end.remove",vw(this._id))}function yw(e){var t=this._name,n=this._id;typeof e!="function"&&(e=sc(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],u=s.length,c=o[a]=new Array(u),l,d,f=0;f<u;++f)(l=s[f])&&(d=e.call(l,l.__data__,f,s))&&("__data__"in l&&(d.__data__=l.__data__),c[f]=d,Dn(c[f],t,n,f,c,Ce(l,n)));return new Fe(o,this._parents,t,n)}function bw(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Mv(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u=r[s],c=u.length,l,d=0;d<c;++d)if(l=u[d]){for(var f=e.call(l,l.__data__,d,u),h,m=Ce(l,n),p=0,v=f.length;p<v;++p)(h=f[p])&&Dn(h,t,n,p,f,m);o.push(f),a.push(l)}return new Fe(o,a,t,n)}var _w=Ut.prototype.constructor;function xw(){return new _w(this._groups,this._parents)}function ww(e,t){var n,r,i;return function(){var o=vt(this,e),a=(this.style.removeProperty(e),vt(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function nm(e){return function(){this.style.removeProperty(e)}}function Ew(e,t,n){var r,i=n+"",o;return function(){var a=vt(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function Sw(e,t,n){var r,i,o;return function(){var a=vt(this,e),s=n(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(e),vt(this,e))),a===u?null:a===r&&u===i?o:(i=u,o=t(r=a,s))}}function Cw(e,t){var n,r,i,o="style."+t,a="end."+o,s;return function(){var u=Te(this,e),c=u.on,l=u.value[o]==null?s||(s=nm(t)):void 0;(c!==n||i!==l)&&(r=(n=c).copy()).on(a,i=l),u.on=r}}function Nw(e,t,n){var r=(e+="")=="transform"?Ix:tm;return t==null?this.styleTween(e,ww(e,r)).on("end.style."+e,nm(e)):typeof t=="function"?this.styleTween(e,Sw(e,r,hc(this,"style."+e,t))).each(Cw(this._id,e)):this.styleTween(e,Ew(e,r,t),n).on("end.style."+e,null)}function Iw(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function qw(e,t,n){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&Iw(e,a,n)),r}return o._value=t,o}function Rw(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,qw(e,t,n??""))}function Aw(e){return function(){this.textContent=e}}function Mw(e){return function(){var t=e(this);this.textContent=t??""}}function Tw(e){return this.tween("text",typeof e=="function"?Mw(hc(this,"text",e)):Aw(e==null?"":e+""))}function Pw(e){return function(t){this.textContent=e.call(this,t)}}function kw(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Pw(i)),t}return r._value=e,r}function Ow(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,kw(e))}function Lw(){for(var e=this._name,t=this._id,n=rm(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,u,c=0;c<s;++c)if(u=a[c]){var l=Ce(u,t);Dn(u,e,n,c,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Fe(r,this._parents,e,n)}function Dw(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},u={value:function(){--i===0&&o()}};n.each(function(){var c=Te(this,r),l=c.on;l!==e&&(t=(e=l).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(u)),c.on=t}),i===0&&o()})}var jw=0;function Fe(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function rm(){return++jw}var je=Ut.prototype;Fe.prototype={constructor:Fe,select:yw,selectAll:bw,selectChild:je.selectChild,selectChildren:je.selectChildren,filter:fw,merge:dw,selection:xw,transition:Lw,call:je.call,nodes:je.nodes,node:je.node,size:je.size,empty:je.empty,each:je.each,on:gw,attr:Xx,attrTween:ew,style:Nw,styleTween:Rw,text:Tw,textTween:Ow,remove:mw,tween:Hx,delay:rw,duration:aw,ease:uw,easeVarying:lw,end:Dw,[Symbol.iterator]:je[Symbol.iterator]};function $w(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Fw={time:null,delay:0,duration:250,ease:$w};function Bw(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Hw(e){var t,n;e instanceof Fe?(t=e._id,e=e._name):(t=rm(),(n=Fw).time=fc(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,u,c=0;c<s;++c)(u=a[c])&&Dn(u,e,t,c,a,n||Bw(u,t));return new Fe(r,this._parents,e,t)}Ut.prototype.interrupt=$x;Ut.prototype.transition=Hw;const ln=e=>()=>e;function zw(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function $e(e,t,n){this.k=e,this.x=t,this.y=n}$e.prototype={constructor:$e,scale:function(e){return e===1?this:new $e(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new $e(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var jn=new $e(1,0,0);im.prototype=$e.prototype;function im(e){for(;!e.__zoom;)if(!(e=e.parentNode))return jn;return e.__zoom}function vr(e){e.stopImmediatePropagation()}function Rt(e){e.preventDefault(),e.stopImmediatePropagation()}function Vw(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Gw(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function dl(){return this.__zoom||jn}function Uw(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Yw(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ww(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function om(){var e=Vw,t=Gw,n=Ww,r=Uw,i=Yw,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,u=vn,c=kn("start","zoom","end"),l,d,f,h=500,m=150,p=0,v=10;function y(S){S.property("__zoom",dl).on("wheel.zoom",N,{passive:!1}).on("mousedown.zoom",I).on("dblclick.zoom",T).filter(i).on("touchstart.zoom",q).on("touchmove.zoom",P).on("touchend.zoom touchcancel.zoom",L).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(S,R,M,k){var F=S.selection?S.selection():S;F.property("__zoom",dl),S!==F?x(S,R,M,k):F.interrupt().each(function(){w(this,arguments).event(k).start().zoom(null,typeof R=="function"?R.apply(this,arguments):R).end()})},y.scaleBy=function(S,R,M,k){y.scaleTo(S,function(){var F=this.__zoom.k,$=typeof R=="function"?R.apply(this,arguments):R;return F*$},M,k)},y.scaleTo=function(S,R,M,k){y.transform(S,function(){var F=t.apply(this,arguments),$=this.__zoom,H=M==null?b(F):typeof M=="function"?M.apply(this,arguments):M,z=$.invert(H),G=typeof R=="function"?R.apply(this,arguments):R;return n(g(_($,G),H,z),F,a)},M,k)},y.translateBy=function(S,R,M,k){y.transform(S,function(){return n(this.__zoom.translate(typeof R=="function"?R.apply(this,arguments):R,typeof M=="function"?M.apply(this,arguments):M),t.apply(this,arguments),a)},null,k)},y.translateTo=function(S,R,M,k,F){y.transform(S,function(){var $=t.apply(this,arguments),H=this.__zoom,z=k==null?b($):typeof k=="function"?k.apply(this,arguments):k;return n(jn.translate(z[0],z[1]).scale(H.k).translate(typeof R=="function"?-R.apply(this,arguments):-R,typeof M=="function"?-M.apply(this,arguments):-M),$,a)},k,F)};function _(S,R){return R=Math.max(o[0],Math.min(o[1],R)),R===S.k?S:new $e(R,S.x,S.y)}function g(S,R,M){var k=R[0]-M[0]*S.k,F=R[1]-M[1]*S.k;return k===S.x&&F===S.y?S:new $e(S.k,k,F)}function b(S){return[(+S[0][0]+ +S[1][0])/2,(+S[0][1]+ +S[1][1])/2]}function x(S,R,M,k){S.on("start.zoom",function(){w(this,arguments).event(k).start()}).on("interrupt.zoom end.zoom",function(){w(this,arguments).event(k).end()}).tween("zoom",function(){var F=this,$=arguments,H=w(F,$).event(k),z=t.apply(F,$),G=M==null?b(z):typeof M=="function"?M.apply(F,$):M,Y=Math.max(z[1][0]-z[0][0],z[1][1]-z[0][1]),A=F.__zoom,O=typeof R=="function"?R.apply(F,$):R,D=u(A.invert(G).concat(Y/A.k),O.invert(G).concat(Y/O.k));return function(B){if(B===1)B=O;else{var V=D(B),U=Y/V[2];B=new $e(U,G[0]-V[0]*U,G[1]-V[1]*U)}H.zoom(null,B)}})}function w(S,R,M){return!M&&S.__zooming||new E(S,R)}function E(S,R){this.that=S,this.args=R,this.active=0,this.sourceEvent=null,this.extent=t.apply(S,R),this.taps=0}E.prototype={event:function(S){return S&&(this.sourceEvent=S),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(S,R){return this.mouse&&S!=="mouse"&&(this.mouse[1]=R.invert(this.mouse[0])),this.touch0&&S!=="touch"&&(this.touch0[1]=R.invert(this.touch0[0])),this.touch1&&S!=="touch"&&(this.touch1[1]=R.invert(this.touch1[0])),this.that.__zoom=R,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(S){var R=pe(this.that).datum();c.call(S,this.that,new zw(S,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:c}),R)}};function N(S,...R){if(!e.apply(this,arguments))return;var M=w(this,R).event(S),k=this.__zoom,F=Math.max(o[0],Math.min(o[1],k.k*Math.pow(2,r.apply(this,arguments)))),$=xe(S);if(M.wheel)(M.mouse[0][0]!==$[0]||M.mouse[0][1]!==$[1])&&(M.mouse[1]=k.invert(M.mouse[0]=$)),clearTimeout(M.wheel);else{if(k.k===F)return;M.mouse=[$,k.invert($)],bn(this),M.start()}Rt(S),M.wheel=setTimeout(H,m),M.zoom("mouse",n(g(_(k,F),M.mouse[0],M.mouse[1]),M.extent,a));function H(){M.wheel=null,M.end()}}function I(S,...R){if(f||!e.apply(this,arguments))return;var M=S.currentTarget,k=w(this,R,!0).event(S),F=pe(S.view).on("mousemove.zoom",G,!0).on("mouseup.zoom",Y,!0),$=xe(S,M),H=S.clientX,z=S.clientY;Hv(S.view),vr(S),k.mouse=[$,this.__zoom.invert($)],bn(this),k.start();function G(A){if(Rt(A),!k.moved){var O=A.clientX-H,D=A.clientY-z;k.moved=O*O+D*D>p}k.event(A).zoom("mouse",n(g(k.that.__zoom,k.mouse[0]=xe(A,M),k.mouse[1]),k.extent,a))}function Y(A){F.on("mousemove.zoom mouseup.zoom",null),zv(A.view,k.moved),Rt(A),k.event(A).end()}}function T(S,...R){if(e.apply(this,arguments)){var M=this.__zoom,k=xe(S.changedTouches?S.changedTouches[0]:S,this),F=M.invert(k),$=M.k*(S.shiftKey?.5:2),H=n(g(_(M,$),k,F),t.apply(this,R),a);Rt(S),s>0?pe(this).transition().duration(s).call(x,H,k,S):pe(this).call(y.transform,H,k,S)}}function q(S,...R){if(e.apply(this,arguments)){var M=S.touches,k=M.length,F=w(this,R,S.changedTouches.length===k).event(S),$,H,z,G;for(vr(S),H=0;H<k;++H)z=M[H],G=xe(z,this),G=[G,this.__zoom.invert(G),z.identifier],F.touch0?!F.touch1&&F.touch0[2]!==G[2]&&(F.touch1=G,F.taps=0):(F.touch0=G,$=!0,F.taps=1+!!l);l&&(l=clearTimeout(l)),$&&(F.taps<2&&(d=G[0],l=setTimeout(function(){l=null},h)),bn(this),F.start())}}function P(S,...R){if(this.__zooming){var M=w(this,R).event(S),k=S.changedTouches,F=k.length,$,H,z,G;for(Rt(S),$=0;$<F;++$)H=k[$],z=xe(H,this),M.touch0&&M.touch0[2]===H.identifier?M.touch0[0]=z:M.touch1&&M.touch1[2]===H.identifier&&(M.touch1[0]=z);if(H=M.that.__zoom,M.touch1){var Y=M.touch0[0],A=M.touch0[1],O=M.touch1[0],D=M.touch1[1],B=(B=O[0]-Y[0])*B+(B=O[1]-Y[1])*B,V=(V=D[0]-A[0])*V+(V=D[1]-A[1])*V;H=_(H,Math.sqrt(B/V)),z=[(Y[0]+O[0])/2,(Y[1]+O[1])/2],G=[(A[0]+D[0])/2,(A[1]+D[1])/2]}else if(M.touch0)z=M.touch0[0],G=M.touch0[1];else return;M.zoom("touch",n(g(H,z,G),M.extent,a))}}function L(S,...R){if(this.__zooming){var M=w(this,R).event(S),k=S.changedTouches,F=k.length,$,H;for(vr(S),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),$=0;$<F;++$)H=k[$],M.touch0&&M.touch0[2]===H.identifier?delete M.touch0:M.touch1&&M.touch1[2]===H.identifier&&delete M.touch1;if(M.touch1&&!M.touch0&&(M.touch0=M.touch1,delete M.touch1),M.touch0)M.touch0[1]=this.__zoom.invert(M.touch0[0]);else if(M.end(),M.taps===2&&(H=xe(H,this),Math.hypot(d[0]-H[0],d[1]-H[1])<v)){var z=pe(this).on("dblclick.zoom");z&&z.apply(this,arguments)}}}return y.wheelDelta=function(S){return arguments.length?(r=typeof S=="function"?S:ln(+S),y):r},y.filter=function(S){return arguments.length?(e=typeof S=="function"?S:ln(!!S),y):e},y.touchable=function(S){return arguments.length?(i=typeof S=="function"?S:ln(!!S),y):i},y.extent=function(S){return arguments.length?(t=typeof S=="function"?S:ln([[+S[0][0],+S[0][1]],[+S[1][0],+S[1][1]]]),y):t},y.scaleExtent=function(S){return arguments.length?(o[0]=+S[0],o[1]=+S[1],y):[o[0],o[1]]},y.translateExtent=function(S){return arguments.length?(a[0][0]=+S[0][0],a[1][0]=+S[1][0],a[0][1]=+S[0][1],a[1][1]=+S[1][1],y):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},y.constrain=function(S){return arguments.length?(n=S,y):n},y.duration=function(S){return arguments.length?(s=+S,y):s},y.interpolate=function(S){return arguments.length?(u=S,y):u},y.on=function(){var S=c.on.apply(c,arguments);return S===c?y:S},y.clickDistance=function(S){return arguments.length?(p=(S=+S)*S,y):Math.sqrt(p)},y.tapDistance=function(S){return arguments.length?(v=+S,y):v},y}const Me={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Bt=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],am=["Enter"," ","Escape"],sm={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var yt;(function(e){e.Strict="strict",e.Loose="loose"})(yt||(yt={}));var tt;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(tt||(tt={}));var Ht;(function(e){e.Partial="partial",e.Full="full"})(Ht||(Ht={}));const um={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Xe;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Xe||(Xe={}));var In;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(In||(In={}));var K;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(K||(K={}));const hl={[K.Left]:K.Right,[K.Right]:K.Left,[K.Top]:K.Bottom,[K.Bottom]:K.Top};function cm(e){return e===null?null:e?"valid":"invalid"}const lm=e=>"id"in e&&"source"in e&&"target"in e,Xw=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),pc=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Wt=(e,t=[0,0])=>{const{width:n,height:r}=Be(e),i=e.origin??t,o=n*i[0],a=r*i[1];return{x:e.position.x-o,y:e.position.y-a}},Kw=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const o=typeof i=="string";let a=!t.nodeLookup&&!o?i:void 0;t.nodeLookup&&(a=o?t.nodeLookup.get(i):pc(i)?i:t.nodeLookup.get(i.id));const s=a?qn(a,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return $n(r,s)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Fn(n)},Xt=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(r=>{if(t.filter===void 0||t.filter(r)){const i=qn(r);n=$n(n,i)}}),Fn(n)},gc=(e,t,[n,r,i]=[0,0,1],o=!1,a=!1)=>{const s={...Kt(t,[n,r,i]),width:t.width/i,height:t.height/i},u=[];for(const c of e.values()){const{measured:l,selectable:d=!0,hidden:f=!1}=c;if(a&&!d||f)continue;const h=l.width??c.width??c.initialWidth??null,m=l.height??c.height??c.initialHeight??null,p=zt(s,_t(c)),v=(h??0)*(m??0),y=o&&p>0;(!c.internals.handleBounds||y||p>=v||c.dragging)&&u.push(c)}return u},Zw=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function Qw(e,t){const n=new Map,r=t?.nodes?new Set(t.nodes.map(i=>i.id)):null;return e.forEach(i=>{i.measured.width&&i.measured.height&&(t?.includeHiddenNodes||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function Jw({nodes:e,width:t,height:n,panZoom:r,minZoom:i,maxZoom:o},a){if(e.size===0)return Promise.resolve(!0);const s=Qw(e,a),u=Xt(s),c=vc(u,t,n,a?.minZoom??i,a?.maxZoom??o,a?.padding??.1);return await r.setViewport(c,{duration:a?.duration,ease:a?.ease,interpolate:a?.interpolate}),Promise.resolve(!0)}function fm({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:o}){const a=n.get(e),s=a.parentId?n.get(a.parentId):void 0,{x:u,y:c}=s?s.internals.positionAbsolute:{x:0,y:0},l=a.origin??r;let d=a.extent||i;if(a.extent==="parent"&&!a.expandParent)if(!s)o?.("005",Me.error005());else{const h=s.measured.width,m=s.measured.height;h&&m&&(d=[[u,c],[u+h,c+m]])}else s&&xt(a.extent)&&(d=[[a.extent[0][0]+u,a.extent[0][1]+c],[a.extent[1][0]+u,a.extent[1][1]+c]]);const f=xt(d)?it(t,d,a.measured):t;return(a.measured.width===void 0||a.measured.height===void 0)&&o?.("015",Me.error015()),{position:{x:f.x-u+(a.measured.width??0)*l[0],y:f.y-c+(a.measured.height??0)*l[1]},positionAbsolute:f}}async function e1({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:i}){const o=new Set(e.map(f=>f.id)),a=[];for(const f of n){if(f.deletable===!1)continue;const h=o.has(f.id),m=!h&&f.parentId&&a.find(p=>p.id===f.parentId);(h||m)&&a.push(f)}const s=new Set(t.map(f=>f.id)),u=r.filter(f=>f.deletable!==!1),l=Zw(a,u);for(const f of u)s.has(f.id)&&!l.find(m=>m.id===f.id)&&l.push(f);if(!i)return{edges:l,nodes:a};const d=await i({nodes:a,edges:l});return typeof d=="boolean"?d?{edges:l,nodes:a}:{edges:[],nodes:[]}:d}const bt=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),it=(e={x:0,y:0},t,n)=>({x:bt(e.x,t[0][0],t[1][0]-(n?.width??0)),y:bt(e.y,t[0][1],t[1][1]-(n?.height??0))});function dm(e,t,n){const{width:r,height:i}=Be(n),{x:o,y:a}=n.internals.positionAbsolute;return it(e,[[o,a],[o+r,a+i]],t)}const pl=(e,t,n)=>e<t?bt(Math.abs(e-t),1,t)/t:e>n?-bt(Math.abs(e-n),1,t)/t:0,hm=(e,t,n=15,r=40)=>{const i=pl(e.x,r,t.width-r)*n,o=pl(e.y,r,t.height-r)*n;return[i,o]},$n=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),ec=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Fn=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),_t=(e,t=[0,0])=>{const{x:n,y:r}=pc(e)?e.internals.positionAbsolute:Wt(e,t);return{x:n,y:r,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},qn=(e,t=[0,0])=>{const{x:n,y:r}=pc(e)?e.internals.positionAbsolute:Wt(e,t);return{x:n,y:r,x2:n+(e.measured?.width??e.width??e.initialWidth??0),y2:r+(e.measured?.height??e.height??e.initialHeight??0)}},pm=(e,t)=>Fn($n(ec(e),ec(t))),zt=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},gl=e=>Ee(e.width)&&Ee(e.height)&&Ee(e.x)&&Ee(e.y),Ee=e=>!isNaN(e)&&isFinite(e),t1=(e,t)=>{},Bn=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Kt=({x:e,y:t},[n,r,i],o=!1,a=[1,1])=>{const s={x:(e-n)/i,y:(t-r)/i};return o?Bn(s,a):s},Rn=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r});function ft(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function n1(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=ft(e,n),i=ft(e,t);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof e=="object"){const r=ft(e.top??e.y??0,n),i=ft(e.bottom??e.y??0,n),o=ft(e.left??e.x??0,t),a=ft(e.right??e.x??0,t);return{top:r,right:a,bottom:i,left:o,x:o+a,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function r1(e,t,n,r,i,o){const{x:a,y:s}=Rn(e,[t,n,r]),{x:u,y:c}=Rn({x:e.x+e.width,y:e.y+e.height},[t,n,r]),l=i-u,d=o-c;return{left:Math.floor(a),top:Math.floor(s),right:Math.floor(l),bottom:Math.floor(d)}}const vc=(e,t,n,r,i,o)=>{const a=n1(o,t,n),s=(t-a.x)/e.width,u=(n-a.y)/e.height,c=Math.min(s,u),l=bt(c,r,i),d=e.x+e.width/2,f=e.y+e.height/2,h=t/2-d*l,m=n/2-f*l,p=r1(e,h,m,l,t,n),v={left:Math.min(p.left-a.left,0),top:Math.min(p.top-a.top,0),right:Math.min(p.right-a.right,0),bottom:Math.min(p.bottom-a.bottom,0)};return{x:h-v.left+v.right,y:m-v.top+v.bottom,zoom:l}},An=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function xt(e){return e!==void 0&&e!=="parent"}function Be(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function gm(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function vm(e,t={width:0,height:0},n,r,i){const o={...e},a=r.get(n);if(a){const s=a.origin||i;o.x+=a.internals.positionAbsolute.x-(t.width??0)*s[0],o.y+=a.internals.positionAbsolute.y-(t.height??0)*s[1]}return o}function vl(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function i1(){let e,t;return{promise:new Promise((r,i)=>{e=r,t=i}),resolve:e,reject:t}}function o1(e){return{...sm,...e||{}}}function Lt(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:o,y:a}=Re(e),s=Kt({x:o-(i?.left??0),y:a-(i?.top??0)},r),{x:u,y:c}=n?Bn(s,t):s;return{xSnapped:u,ySnapped:c,...s}}const mc=e=>({width:e.offsetWidth,height:e.offsetHeight}),mm=e=>e?.getRootNode?.()||window?.document,a1=["INPUT","SELECT","TEXTAREA"];function ym(e){const t=e.composedPath?.()?.[0]||e.target;return t?.nodeType!==1?!1:a1.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const bm=e=>"clientX"in e,Re=(e,t)=>{const n=bm(e),r=n?e.clientX:e.touches?.[0].clientX,i=n?e.clientY:e.touches?.[0].clientY;return{x:r-(t?.left??0),y:i-(t?.top??0)}},ml=(e,t,n,r,i)=>{const o=t.querySelectorAll(`.${e}`);return!o||!o.length?null:Array.from(o).map(a=>{const s=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),type:e,nodeId:i,position:a.getAttribute("data-handlepos"),x:(s.left-n.left)/r,y:(s.top-n.top)/r,...mc(a)}})};function _m({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:a,targetControlY:s}){const u=e*.125+i*.375+a*.375+n*.125,c=t*.125+o*.375+s*.375+r*.125,l=Math.abs(u-e),d=Math.abs(c-t);return[u,c,l,d]}function fn(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function yl({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case K.Left:return[t-fn(t-r,o),n];case K.Right:return[t+fn(r-t,o),n];case K.Top:return[t,n-fn(n-i,o)];case K.Bottom:return[t,n+fn(i-n,o)]}}function xm({sourceX:e,sourceY:t,sourcePosition:n=K.Bottom,targetX:r,targetY:i,targetPosition:o=K.Top,curvature:a=.25}){const[s,u]=yl({pos:n,x1:e,y1:t,x2:r,y2:i,c:a}),[c,l]=yl({pos:o,x1:r,y1:i,x2:e,y2:t,c:a}),[d,f,h,m]=_m({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:u,targetControlX:c,targetControlY:l});return[`M${e},${t} C${s},${u} ${c},${l} ${r},${i}`,d,f,h,m]}function wm({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,a=Math.abs(r-t)/2,s=r<t?r+a:r-a;return[o,s,i,a]}function s1({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r,elevateOnSelect:i=!1}){if(r!==void 0)return r;const o=i&&n?1e3:0,a=Math.max(e.parentId?e.internals.z:0,t.parentId?t.internals.z:0);return o+a}function u1({sourceNode:e,targetNode:t,width:n,height:r,transform:i}){const o=$n(qn(e),qn(t));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const a={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return zt(a,Fn(o))>0}const c1=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,l1=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),f1=(e,t)=>{if(!e.source||!e.target)return t;let n;return lm(e)?n={...e}:n={...e,id:c1(e)},l1(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function Em({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,a,s]=wm({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,a,s]}const bl={[K.Left]:{x:-1,y:0},[K.Right]:{x:1,y:0},[K.Top]:{x:0,y:-1},[K.Bottom]:{x:0,y:1}},d1=({source:e,sourcePosition:t=K.Bottom,target:n})=>t===K.Left||t===K.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},_l=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function h1({source:e,sourcePosition:t=K.Bottom,target:n,targetPosition:r=K.Top,center:i,offset:o,stepPosition:a}){const s=bl[t],u=bl[r],c={x:e.x+s.x*o,y:e.y+s.y*o},l={x:n.x+u.x*o,y:n.y+u.y*o},d=d1({source:c,sourcePosition:t,target:l}),f=d.x!==0?"x":"y",h=d[f];let m=[],p,v;const y={x:0,y:0},_={x:0,y:0},[,,g,b]=wm({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[f]*u[f]===-1){f==="x"?(p=i.x??c.x+(l.x-c.x)*a,v=i.y??(c.y+l.y)/2):(p=i.x??(c.x+l.x)/2,v=i.y??c.y+(l.y-c.y)*a);const w=[{x:p,y:c.y},{x:p,y:l.y}],E=[{x:c.x,y:v},{x:l.x,y:v}];s[f]===h?m=f==="x"?w:E:m=f==="x"?E:w}else{const w=[{x:c.x,y:l.y}],E=[{x:l.x,y:c.y}];if(f==="x"?m=s.x===h?E:w:m=s.y===h?w:E,t===r){const P=Math.abs(e[f]-n[f]);if(P<=o){const L=Math.min(o-1,o-P);s[f]===h?y[f]=(c[f]>e[f]?-1:1)*L:_[f]=(l[f]>n[f]?-1:1)*L}}if(t!==r){const P=f==="x"?"y":"x",L=s[f]===u[P],S=c[P]>l[P],R=c[P]<l[P];(s[f]===1&&(!L&&S||L&&R)||s[f]!==1&&(!L&&R||L&&S))&&(m=f==="x"?w:E)}const N={x:c.x+y.x,y:c.y+y.y},I={x:l.x+_.x,y:l.y+_.y},T=Math.max(Math.abs(N.x-m[0].x),Math.abs(I.x-m[0].x)),q=Math.max(Math.abs(N.y-m[0].y),Math.abs(I.y-m[0].y));T>=q?(p=(N.x+I.x)/2,v=m[0].y):(p=m[0].x,v=(N.y+I.y)/2)}return[[e,{x:c.x+y.x,y:c.y+y.y},...m,{x:l.x+_.x,y:l.y+_.y},n],p,v,g,b]}function p1(e,t,n,r){const i=Math.min(_l(e,t)/2,_l(t,n)/2,r),{x:o,y:a}=t;if(e.x===o&&o===n.x||e.y===a&&a===n.y)return`L${o} ${a}`;if(e.y===a){const c=e.x<n.x?-1:1,l=e.y<n.y?1:-1;return`L ${o+i*c},${a}Q ${o},${a} ${o},${a+i*l}`}const s=e.x<n.x?1:-1,u=e.y<n.y?-1:1;return`L ${o},${a+i*u}Q ${o},${a} ${o+i*s},${a}`}function tc({sourceX:e,sourceY:t,sourcePosition:n=K.Bottom,targetX:r,targetY:i,targetPosition:o=K.Top,borderRadius:a=5,centerX:s,centerY:u,offset:c=20,stepPosition:l=.5}){const[d,f,h,m,p]=h1({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:s,y:u},offset:c,stepPosition:l});return[d.reduce((y,_,g)=>{let b="";return g>0&&g<d.length-1?b=p1(d[g-1],_,d[g+1],a):b=`${g===0?"M":"L"}${_.x} ${_.y}`,y+=b,y},""),f,h,m,p]}function xl(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function g1(e){const{sourceNode:t,targetNode:n}=e;if(!xl(t)||!xl(n))return null;const r=t.internals.handleBounds||wl(t.handles),i=n.internals.handleBounds||wl(n.handles),o=El(r?.source??[],e.sourceHandle),a=El(e.connectionMode===yt.Strict?i?.target??[]:(i?.target??[]).concat(i?.source??[]),e.targetHandle);if(!o||!a)return e.onError?.("008",Me.error008(o?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const s=o?.position||K.Bottom,u=a?.position||K.Top,c=Vt(t,o,s),l=Vt(n,a,u);return{sourceX:c.x,sourceY:c.y,targetX:l.x,targetY:l.y,sourcePosition:s,targetPosition:u}}function wl(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Vt(e,t,n=K.Left,r=!1){const i=(t?.x??0)+e.internals.positionAbsolute.x,o=(t?.y??0)+e.internals.positionAbsolute.y,{width:a,height:s}=t??Be(e);if(r)return{x:i+a/2,y:o+s/2};switch(t?.position??n){case K.Top:return{x:i+a/2,y:o};case K.Right:return{x:i+a,y:o+s/2};case K.Bottom:return{x:i+a/2,y:o+s};case K.Left:return{x:i,y:o+s/2}}}function El(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function nc(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function v1(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const o=new Set;return e.reduce((a,s)=>([s.markerStart||r,s.markerEnd||i].forEach(u=>{if(u&&typeof u=="object"){const c=nc(u,t);o.has(c)||(a.push({id:c,color:u.color||n,...u}),o.add(c))}}),a),[]).sort((a,s)=>a.id.localeCompare(s.id))}const yc={nodeOrigin:[0,0],nodeExtent:Bt,elevateNodesOnSelect:!0,defaults:{}},m1={...yc,checkEquality:!0};function bc(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function y1(e,t,n){const r=bc(yc,n);for(const i of e.values())if(i.parentId)_c(i,e,t,r);else{const o=Wt(i,r.nodeOrigin),a=xt(i.extent)?i.extent:r.nodeExtent,s=it(o,a,Be(i));i.internals.positionAbsolute=s}}function rc(e,t,n,r){const i=bc(m1,r);let o=e.length>0;const a=new Map(t),s=i?.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const u of e){let c=a.get(u.id);if(i.checkEquality&&u===c?.internals.userNode)t.set(u.id,c);else{const l=Wt(u,i.nodeOrigin),d=xt(u.extent)?u.extent:i.nodeExtent,f=it(l,d,Be(u));c={...i.defaults,...u,measured:{width:u.measured?.width,height:u.measured?.height},internals:{positionAbsolute:f,handleBounds:u.measured?c?.internals.handleBounds:void 0,z:Sm(u,s),userNode:u}},t.set(u.id,c)}(c.measured===void 0||c.measured.width===void 0||c.measured.height===void 0)&&!c.hidden&&(o=!1),u.parentId&&_c(c,t,n,r)}return o}function b1(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function _c(e,t,n,r){const{elevateNodesOnSelect:i,nodeOrigin:o,nodeExtent:a}=bc(yc,r),s=e.parentId,u=t.get(s);if(!u){console.warn(`Parent node ${s} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}b1(e,n);const c=i?1e3:0,{x:l,y:d,z:f}=_1(e,u,o,a,c),{positionAbsolute:h}=e.internals,m=l!==h.x||d!==h.y;(m||f!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:m?{x:l,y:d}:h,z:f}})}function Sm(e,t){return(Ee(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function _1(e,t,n,r,i){const{x:o,y:a}=t.internals.positionAbsolute,s=Be(e),u=Wt(e,n),c=xt(e.extent)?it(u,e.extent,s):u;let l=it({x:o+c.x,y:a+c.y},r,s);e.extent==="parent"&&(l=dm(l,s,t));const d=Sm(e,i),f=t.internals.z??0;return{x:l.x,y:l.y,z:f>=d?f+1:d}}function xc(e,t,n,r=[0,0]){const i=[],o=new Map;for(const a of e){const s=t.get(a.parentId);if(!s)continue;const u=o.get(a.parentId)?.expandedRect??_t(s),c=pm(u,a.rect);o.set(a.parentId,{expandedRect:c,parent:s})}return o.size>0&&o.forEach(({expandedRect:a,parent:s},u)=>{const c=s.internals.positionAbsolute,l=Be(s),d=s.origin??r,f=a.x<c.x?Math.round(Math.abs(c.x-a.x)):0,h=a.y<c.y?Math.round(Math.abs(c.y-a.y)):0,m=Math.max(l.width,Math.round(a.width)),p=Math.max(l.height,Math.round(a.height)),v=(m-l.width)*d[0],y=(p-l.height)*d[1];(f>0||h>0||v||y)&&(i.push({id:u,type:"position",position:{x:s.position.x-f+v,y:s.position.y-h+y}}),n.get(u)?.forEach(_=>{e.some(g=>g.id===_.id)||i.push({id:_.id,type:"position",position:{x:_.position.x+f,y:_.position.y+h}})})),(l.width<a.width||l.height<a.height||f||h)&&i.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:m+(f?d[0]*f-v:0),height:p+(h?d[1]*h-y:0)}})}),i}function x1(e,t,n,r,i,o){const a=r?.querySelector(".xyflow__viewport");let s=!1;if(!a)return{changes:[],updatedInternals:s};const u=[],c=window.getComputedStyle(a),{m22:l}=new window.DOMMatrixReadOnly(c.transform),d=[];for(const f of e.values()){const h=t.get(f.id);if(!h)continue;if(h.hidden){t.set(h.id,{...h,internals:{...h.internals,handleBounds:void 0}}),s=!0;continue}const m=mc(f.nodeElement),p=h.measured.width!==m.width||h.measured.height!==m.height;if(!!(m.width&&m.height&&(p||!h.internals.handleBounds||f.force))){const y=f.nodeElement.getBoundingClientRect(),_=xt(h.extent)?h.extent:o;let{positionAbsolute:g}=h.internals;h.parentId&&h.extent==="parent"?g=dm(g,m,t.get(h.parentId)):_&&(g=it(g,_,m));const b={...h,measured:m,internals:{...h.internals,positionAbsolute:g,handleBounds:{source:ml("source",f.nodeElement,y,l,h.id),target:ml("target",f.nodeElement,y,l,h.id)}}};t.set(h.id,b),h.parentId&&_c(b,t,n,{nodeOrigin:i}),s=!0,p&&(u.push({id:h.id,type:"dimensions",dimensions:m}),h.expandParent&&h.parentId&&d.push({id:h.id,parentId:h.parentId,rect:_t(b,i)}))}}if(d.length>0){const f=xc(d,t,n,i);u.push(...f)}return{changes:u,updatedInternals:s}}async function w1({delta:e,panZoom:t,transform:n,translateExtent:r,width:i,height:o}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const a=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[i,o]],r),s=!!a&&(a.x!==n[0]||a.y!==n[1]||a.k!==n[2]);return Promise.resolve(s)}function Sl(e,t,n,r,i,o){let a=i;const s=r.get(a)||new Map;r.set(a,s.set(n,t)),a=`${i}-${e}`;const u=r.get(a)||new Map;if(r.set(a,u.set(n,t)),o){a=`${i}-${e}-${o}`;const c=r.get(a)||new Map;r.set(a,c.set(n,t))}}function Cm(e,t,n){e.clear(),t.clear();for(const r of n){const{source:i,target:o,sourceHandle:a=null,targetHandle:s=null}=r,u={edgeId:r.id,source:i,target:o,sourceHandle:a,targetHandle:s},c=`${i}-${a}--${o}-${s}`,l=`${o}-${s}--${i}-${a}`;Sl("source",u,l,e,i,a),Sl("target",u,c,e,o,s),t.set(r.id,r)}}function Nm(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:Nm(n,t):!1}function Cl(e,t,n){let r=e;do{if(r?.matches?.(t))return!0;if(r===n)return!1;r=r?.parentElement}while(r);return!1}function E1(e,t,n,r){const i=new Map;for(const[o,a]of e)if((a.selected||a.id===r)&&(!a.parentId||!Nm(a,e))&&(a.draggable||t&&typeof a.draggable>"u")){const s=e.get(o);s&&i.set(o,{id:o,position:s.position||{x:0,y:0},distance:{x:n.x-s.internals.positionAbsolute.x,y:n.y-s.internals.positionAbsolute.y},extent:s.extent,parentId:s.parentId,origin:s.origin,expandParent:s.expandParent,internals:{positionAbsolute:s.internals.positionAbsolute||{x:0,y:0}},measured:{width:s.measured.width??0,height:s.measured.height??0}})}return i}function mr({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){const i=[];for(const[a,s]of t){const u=n.get(a)?.internals.userNode;u&&i.push({...u,position:s.position,dragging:r})}if(!e)return[i[0],i];const o=n.get(e)?.internals.userNode;return[o?{...o,position:t.get(e)?.position||o.position,dragging:r}:i[0],i]}function S1({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:i}){let o={x:null,y:null},a=0,s=new Map,u=!1,c={x:0,y:0},l=null,d=!1,f=null,h=!1,m=!1;function p({noDragClassName:y,handleSelector:_,domNode:g,isSelectable:b,nodeId:x,nodeClickDistance:w=0}){f=pe(g);function E({x:q,y:P},L){const{nodeLookup:S,nodeExtent:R,snapGrid:M,snapToGrid:k,nodeOrigin:F,onNodeDrag:$,onSelectionDrag:H,onError:z,updateNodePositions:G}=t();o={x:q,y:P};let Y=!1,A={x:0,y:0,x2:0,y2:0};if(s.size>1&&R){const O=Xt(s);A=ec(O)}for(const[O,D]of s){if(!S.has(O))continue;let B={x:q-D.distance.x,y:P-D.distance.y};k&&(B=Bn(B,M));let V=[[R[0][0],R[0][1]],[R[1][0],R[1][1]]];if(s.size>1&&R&&!D.extent){const{positionAbsolute:ee}=D.internals,Q=ee.x-A.x+R[0][0],J=ee.x+D.measured.width-A.x2+R[1][0],W=ee.y-A.y+R[0][1],X=ee.y+D.measured.height-A.y2+R[1][1];V=[[Q,W],[J,X]]}const{position:U,positionAbsolute:Z}=fm({nodeId:O,nextPosition:B,nodeLookup:S,nodeExtent:V,nodeOrigin:F,onError:z});Y=Y||D.position.x!==U.x||D.position.y!==U.y,D.position=U,D.internals.positionAbsolute=Z}if(m=m||Y,!!Y&&(G(s,!0),L&&(r||$||!x&&H))){const[O,D]=mr({nodeId:x,dragItems:s,nodeLookup:S});r?.(L,s,O,D),$?.(L,O,D),x||H?.(L,D)}}async function N(){if(!l)return;const{transform:q,panBy:P,autoPanSpeed:L,autoPanOnNodeDrag:S}=t();if(!S){u=!1,cancelAnimationFrame(a);return}const[R,M]=hm(c,l,L);(R!==0||M!==0)&&(o.x=(o.x??0)-R/q[2],o.y=(o.y??0)-M/q[2],await P({x:R,y:M})&&E(o,null)),a=requestAnimationFrame(N)}function I(q){const{nodeLookup:P,multiSelectionActive:L,nodesDraggable:S,transform:R,snapGrid:M,snapToGrid:k,selectNodesOnDrag:F,onNodeDragStart:$,onSelectionDragStart:H,unselectNodesAndEdges:z}=t();d=!0,(!F||!b)&&!L&&x&&(P.get(x)?.selected||z()),b&&F&&x&&e?.(x);const G=Lt(q.sourceEvent,{transform:R,snapGrid:M,snapToGrid:k,containerBounds:l});if(o=G,s=E1(P,S,G,x),s.size>0&&(n||$||!x&&H)){const[Y,A]=mr({nodeId:x,dragItems:s,nodeLookup:P});n?.(q.sourceEvent,s,Y,A),$?.(q.sourceEvent,Y,A),x||H?.(q.sourceEvent,A)}}const T=Vv().clickDistance(w).on("start",q=>{const{domNode:P,nodeDragThreshold:L,transform:S,snapGrid:R,snapToGrid:M}=t();l=P?.getBoundingClientRect()||null,h=!1,m=!1,L===0&&I(q),o=Lt(q.sourceEvent,{transform:S,snapGrid:R,snapToGrid:M,containerBounds:l}),c=Re(q.sourceEvent,l)}).on("drag",q=>{const{autoPanOnNodeDrag:P,transform:L,snapGrid:S,snapToGrid:R,nodeDragThreshold:M,nodeLookup:k}=t(),F=Lt(q.sourceEvent,{transform:L,snapGrid:S,snapToGrid:R,containerBounds:l});if((q.sourceEvent.type==="touchmove"&&q.sourceEvent.touches.length>1||x&&!k.has(x))&&(h=!0),!h){if(!u&&P&&d&&(u=!0,N()),!d){const $=F.xSnapped-(o.x??0),H=F.ySnapped-(o.y??0);Math.sqrt($*$+H*H)>M&&I(q)}(o.x!==F.xSnapped||o.y!==F.ySnapped)&&s&&d&&(c=Re(q.sourceEvent,l),E(F,q.sourceEvent))}}).on("end",q=>{if(!(!d||h)&&(u=!1,d=!1,cancelAnimationFrame(a),s.size>0)){const{nodeLookup:P,updateNodePositions:L,onNodeDragStop:S,onSelectionDragStop:R}=t();if(m&&(L(s,!1),m=!1),i||S||!x&&R){const[M,k]=mr({nodeId:x,dragItems:s,nodeLookup:P,dragging:!1});i?.(q.sourceEvent,s,M,k),S?.(q.sourceEvent,M,k),x||R?.(q.sourceEvent,k)}}}).filter(q=>{const P=q.target;return!q.button&&(!y||!Cl(P,`.${y}`,g))&&(!_||Cl(P,_,g))});f.call(T)}function v(){f?.on(".drag",null)}return{update:p,destroy:v}}function C1(e,t,n){const r=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const o of t.values())zt(i,_t(o))>0&&r.push(o);return r}const N1=250;function I1(e,t,n,r){let i=[],o=1/0;const a=C1(e,n,t+N1);for(const s of a){const u=[...s.internals.handleBounds?.source??[],...s.internals.handleBounds?.target??[]];for(const c of u){if(r.nodeId===c.nodeId&&r.type===c.type&&r.id===c.id)continue;const{x:l,y:d}=Vt(s,c,c.position,!0),f=Math.sqrt(Math.pow(l-e.x,2)+Math.pow(d-e.y,2));f>t||(f<o?(i=[{...c,x:l,y:d}],o=f):f===o&&i.push({...c,x:l,y:d}))}}if(!i.length)return null;if(i.length>1){const s=r.type==="source"?"target":"source";return i.find(u=>u.type===s)??i[0]}return i[0]}function Im(e,t,n,r,i,o=!1){const a=r.get(e);if(!a)return null;const s=i==="strict"?a.internals.handleBounds?.[t]:[...a.internals.handleBounds?.source??[],...a.internals.handleBounds?.target??[]],u=(n?s?.find(c=>c.id===n):s?.[0])??null;return u&&o?{...u,...Vt(a,u,u.position,!0)}:u}function qm(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function q1(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const Rm=()=>!0;function R1(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:o,isTarget:a,domNode:s,nodeLookup:u,lib:c,autoPanOnConnect:l,flowId:d,panBy:f,cancelConnection:h,onConnectStart:m,onConnect:p,onConnectEnd:v,isValidConnection:y=Rm,onReconnectEnd:_,updateConnection:g,getTransform:b,getFromHandle:x,autoPanSpeed:w,dragThreshold:E=1}){const N=mm(e.target);let I=0,T;const{x:q,y:P}=Re(e),L=N?.elementFromPoint(q,P),S=qm(o,L),R=s?.getBoundingClientRect();let M=!1;if(!R||!S)return;const k=Im(i,S,r,u,t);if(!k)return;let F=Re(e,R),$=!1,H=null,z=!1,G=null;function Y(){if(!l||!R)return;const[ee,Q]=hm(F,R,w);f({x:ee,y:Q}),I=requestAnimationFrame(Y)}const A={...k,nodeId:i,type:S,position:k.position},O=u.get(i);let B={inProgress:!0,isValid:null,from:Vt(O,A,K.Left,!0),fromHandle:A,fromPosition:A.position,fromNode:O,to:F,toHandle:null,toPosition:hl[A.position],toNode:null};function V(){M=!0,g(B),m?.(e,{nodeId:i,handleId:r,handleType:S})}E===0&&V();function U(ee){if(!M){const{x:X,y:ae}=Re(ee),te=X-q,he=ae-P;if(!(te*te+he*he>E*E))return;V()}if(!x()||!A){Z(ee);return}const Q=b();F=Re(ee,R),T=I1(Kt(F,Q,!1,[1,1]),n,u,A),$||(Y(),$=!0);const J=Am(ee,{handle:T,connectionMode:t,fromNodeId:i,fromHandleId:r,fromType:a?"target":"source",isValidConnection:y,doc:N,lib:c,flowId:d,nodeLookup:u});G=J.handleDomNode,H=J.connection,z=q1(!!T,J.isValid);const W={...B,isValid:z,to:J.toHandle&&z?Rn({x:J.toHandle.x,y:J.toHandle.y},Q):F,toHandle:J.toHandle,toPosition:z&&J.toHandle?J.toHandle.position:hl[A.position],toNode:J.toHandle?u.get(J.toHandle.nodeId):null};z&&T&&B.toHandle&&W.toHandle&&B.toHandle.type===W.toHandle.type&&B.toHandle.nodeId===W.toHandle.nodeId&&B.toHandle.id===W.toHandle.id&&B.to.x===W.to.x&&B.to.y===W.to.y||(g(W),B=W)}function Z(ee){if(M){(T||G)&&H&&z&&p?.(H);const{inProgress:Q,...J}=B,W={...J,toPosition:B.toHandle?B.toPosition:null};v?.(ee,W),o&&_?.(ee,W)}h(),cancelAnimationFrame(I),$=!1,z=!1,H=null,G=null,N.removeEventListener("mousemove",U),N.removeEventListener("mouseup",Z),N.removeEventListener("touchmove",U),N.removeEventListener("touchend",Z)}N.addEventListener("mousemove",U),N.addEventListener("mouseup",Z),N.addEventListener("touchmove",U),N.addEventListener("touchend",Z)}function Am(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:a,lib:s,flowId:u,isValidConnection:c=Rm,nodeLookup:l}){const d=o==="target",f=t?a.querySelector(`.${s}-flow__handle[data-id="${u}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:h,y:m}=Re(e),p=a.elementFromPoint(h,m),v=p?.classList.contains(`${s}-flow__handle`)?p:f,y={handleDomNode:v,isValid:!1,connection:null,toHandle:null};if(v){const _=qm(void 0,v),g=v.getAttribute("data-nodeid"),b=v.getAttribute("data-handleid"),x=v.classList.contains("connectable"),w=v.classList.contains("connectableend");if(!g||!_)return y;const E={source:d?g:r,sourceHandle:d?b:i,target:d?r:g,targetHandle:d?i:b};y.connection=E;const I=x&&w&&(n===yt.Strict?d&&_==="source"||!d&&_==="target":g!==r||b!==i);y.isValid=I&&c(E),y.toHandle=Im(g,_,b,l,n,!0)}return y}const ic={onPointerDown:R1,isValid:Am};function A1({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const i=pe(e);function o({translateExtent:s,width:u,height:c,zoomStep:l=10,pannable:d=!0,zoomable:f=!0,inversePan:h=!1}){const m=g=>{const b=n();if(g.sourceEvent.type!=="wheel"||!t)return;const x=-g.sourceEvent.deltaY*(g.sourceEvent.deltaMode===1?.05:g.sourceEvent.deltaMode?1:.002)*l,w=b[2]*Math.pow(2,x);t.scaleTo(w)};let p=[0,0];const v=g=>{(g.sourceEvent.type==="mousedown"||g.sourceEvent.type==="touchstart")&&(p=[g.sourceEvent.clientX??g.sourceEvent.touches[0].clientX,g.sourceEvent.clientY??g.sourceEvent.touches[0].clientY])},y=g=>{const b=n();if(g.sourceEvent.type!=="mousemove"&&g.sourceEvent.type!=="touchmove"||!t)return;const x=[g.sourceEvent.clientX??g.sourceEvent.touches[0].clientX,g.sourceEvent.clientY??g.sourceEvent.touches[0].clientY],w=[x[0]-p[0],x[1]-p[1]];p=x;const E=r()*Math.max(b[2],Math.log(b[2]))*(h?-1:1),N={x:b[0]-w[0]*E,y:b[1]-w[1]*E},I=[[0,0],[u,c]];t.setViewportConstrained({x:N.x,y:N.y,zoom:b[2]},I,s)},_=om().on("start",v).on("zoom",d?y:null).on("zoom.wheel",f?m:null);i.call(_,{})}function a(){i.on("zoom",null)}return{update:o,destroy:a,pointer:xe}}const M1=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Hn=e=>({x:e.x,y:e.y,zoom:e.k}),yr=({x:e,y:t,zoom:n})=>jn.translate(e,t).scale(n),dt=(e,t)=>e.target.closest(`.${t}`),Mm=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),T1=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,br=(e,t=0,n=T1,r=()=>{})=>{const i=typeof t=="number"&&t>0;return i||r(),i?e.transition().duration(t).ease(n).on("end",r):e},Tm=e=>{const t=e.ctrlKey&&An()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function P1({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:o,zoomOnPinch:a,onPanZoomStart:s,onPanZoom:u,onPanZoomEnd:c}){return l=>{if(dt(l,t))return!1;l.preventDefault(),l.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(l.ctrlKey&&a){const v=xe(l),y=Tm(l),_=d*Math.pow(2,y);r.scaleTo(n,_,v,l);return}const f=l.deltaMode===1?20:1;let h=i===tt.Vertical?0:l.deltaX*f,m=i===tt.Horizontal?0:l.deltaY*f;!An()&&l.shiftKey&&i!==tt.Vertical&&(h=l.deltaY*f,m=0),r.translateBy(n,-(h/d)*o,-(m/d)*o,{internal:!0});const p=Hn(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,s?.(l,p)),e.isPanScrolling&&(u?.(l,p),e.panScrollTimeout=setTimeout(()=>{c?.(l,p),e.isPanScrolling=!1},150))}}function k1({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,i){const o=r.type==="wheel",a=!t&&o&&!r.ctrlKey,s=dt(r,e);if(r.ctrlKey&&o&&s&&r.preventDefault(),a||s)return null;r.preventDefault(),n.call(this,r,i)}}function O1({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const i=Hn(r.transform);e.mouseButton=r.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=i,r.sourceEvent?.type==="mousedown"&&t(!0),n&&n?.(r.sourceEvent,i)}}function L1({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return o=>{e.usedRightMouseButton=!!(n&&Mm(t,e.mouseButton??0)),o.sourceEvent?.sync||r([o.transform.x,o.transform.y,o.transform.k]),i&&!o.sourceEvent?.internal&&i?.(o.sourceEvent,Hn(o.transform))}}function D1({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:o}){return a=>{if(!a.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,o&&Mm(t,e.mouseButton??0)&&!e.usedRightMouseButton&&a.sourceEvent&&o(a.sourceEvent),e.usedRightMouseButton=!1,r(!1),i&&M1(e.prevViewport,a.transform))){const s=Hn(a.transform);e.prevViewport=s,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i?.(a.sourceEvent,s)},n?150:0)}}}function j1({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:o,userSelectionActive:a,noWheelClassName:s,noPanClassName:u,lib:c}){return l=>{const d=e||t,f=n&&l.ctrlKey;if(l.button===1&&l.type==="mousedown"&&(dt(l,`${c}-flow__node`)||dt(l,`${c}-flow__edge`)))return!0;if(!r&&!d&&!i&&!o&&!n||a||dt(l,s)&&l.type==="wheel"||dt(l,u)&&(l.type!=="wheel"||i&&l.type==="wheel"&&!e)||!n&&l.ctrlKey&&l.type==="wheel")return!1;if(!n&&l.type==="touchstart"&&l.touches?.length>1)return l.preventDefault(),!1;if(!d&&!i&&!f&&l.type==="wheel"||!r&&(l.type==="mousedown"||l.type==="touchstart")||Array.isArray(r)&&!r.includes(l.button)&&l.type==="mousedown")return!1;const h=Array.isArray(r)&&r.includes(l.button)||!l.button||l.button<=1;return(!l.ctrlKey||l.type==="wheel")&&h}}function $1({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:r,translateExtent:i,viewport:o,onPanZoom:a,onPanZoomStart:s,onPanZoomEnd:u,onDraggingChange:c}){const l={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),f=om().clickDistance(!Ee(r)||r<0?0:r).scaleExtent([t,n]).translateExtent(i),h=pe(e).call(f);g({x:o.x,y:o.y,zoom:bt(o.zoom,t,n)},[[0,0],[d.width,d.height]],i);const m=h.on("wheel.zoom"),p=h.on("dblclick.zoom");f.wheelDelta(Tm);function v(P,L){return h?new Promise(S=>{f?.interpolate(L?.interpolate==="linear"?Ot:vn).transform(br(h,L?.duration,L?.ease,()=>S(!0)),P)}):Promise.resolve(!1)}function y({noWheelClassName:P,noPanClassName:L,onPaneContextMenu:S,userSelectionActive:R,panOnScroll:M,panOnDrag:k,panOnScrollMode:F,panOnScrollSpeed:$,preventScrolling:H,zoomOnPinch:z,zoomOnScroll:G,zoomOnDoubleClick:Y,zoomActivationKeyPressed:A,lib:O,onTransformChange:D}){R&&!l.isZoomingOrPanning&&_();const V=M&&!A&&!R?P1({zoomPanValues:l,noWheelClassName:P,d3Selection:h,d3Zoom:f,panOnScrollMode:F,panOnScrollSpeed:$,zoomOnPinch:z,onPanZoomStart:s,onPanZoom:a,onPanZoomEnd:u}):k1({noWheelClassName:P,preventScrolling:H,d3ZoomHandler:m});if(h.on("wheel.zoom",V,{passive:!1}),!R){const Z=O1({zoomPanValues:l,onDraggingChange:c,onPanZoomStart:s});f.on("start",Z);const ee=L1({zoomPanValues:l,panOnDrag:k,onPaneContextMenu:!!S,onPanZoom:a,onTransformChange:D});f.on("zoom",ee);const Q=D1({zoomPanValues:l,panOnDrag:k,panOnScroll:M,onPaneContextMenu:S,onPanZoomEnd:u,onDraggingChange:c});f.on("end",Q)}const U=j1({zoomActivationKeyPressed:A,panOnDrag:k,zoomOnScroll:G,panOnScroll:M,zoomOnDoubleClick:Y,zoomOnPinch:z,userSelectionActive:R,noPanClassName:L,noWheelClassName:P,lib:O});f.filter(U),Y?h.on("dblclick.zoom",p):h.on("dblclick.zoom",null)}function _(){f.on("zoom",null)}async function g(P,L,S){const R=yr(P),M=f?.constrain()(R,L,S);return M&&await v(M),new Promise(k=>k(M))}async function b(P,L){const S=yr(P);return await v(S,L),new Promise(R=>R(S))}function x(P){if(h){const L=yr(P),S=h.property("__zoom");(S.k!==P.zoom||S.x!==P.x||S.y!==P.y)&&f?.transform(h,L,null,{sync:!0})}}function w(){const P=h?im(h.node()):{x:0,y:0,k:1};return{x:P.x,y:P.y,zoom:P.k}}function E(P,L){return h?new Promise(S=>{f?.interpolate(L?.interpolate==="linear"?Ot:vn).scaleTo(br(h,L?.duration,L?.ease,()=>S(!0)),P)}):Promise.resolve(!1)}function N(P,L){return h?new Promise(S=>{f?.interpolate(L?.interpolate==="linear"?Ot:vn).scaleBy(br(h,L?.duration,L?.ease,()=>S(!0)),P)}):Promise.resolve(!1)}function I(P){f?.scaleExtent(P)}function T(P){f?.translateExtent(P)}function q(P){const L=!Ee(P)||P<0?0:P;f?.clickDistance(L)}return{update:y,destroy:_,setViewport:b,setViewportConstrained:g,getViewport:w,scaleTo:E,scaleBy:N,setScaleExtent:I,setTranslateExtent:T,syncViewport:x,setClickDistance:q}}var wt;(function(e){e.Line="line",e.Handle="handle"})(wt||(wt={}));function F1({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:i,affectsY:o}){const a=e-t,s=n-r,u=[a>0?1:a<0?-1:0,s>0?1:s<0?-1:0];return a&&i&&(u[0]=u[0]*-1),s&&o&&(u[1]=u[1]*-1),u}function B1(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),i=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:i}}function Ye(e,t){return Math.max(0,t-e)}function We(e,t){return Math.max(0,e-t)}function dn(e,t,n){return Math.max(0,t-e,e-n)}function Nl(e,t){return e?!t:t}function H1(e,t,n,r,i,o,a,s){let{affectsX:u,affectsY:c}=t;const{isHorizontal:l,isVertical:d}=t,f=l&&d,{xSnapped:h,ySnapped:m}=n,{minWidth:p,maxWidth:v,minHeight:y,maxHeight:_}=r,{x:g,y:b,width:x,height:w,aspectRatio:E}=e;let N=Math.floor(l?h-e.pointerX:0),I=Math.floor(d?m-e.pointerY:0);const T=x+(u?-N:N),q=w+(c?-I:I),P=-o[0]*x,L=-o[1]*w;let S=dn(T,p,v),R=dn(q,y,_);if(a){let F=0,$=0;u&&N<0?F=Ye(g+N+P,a[0][0]):!u&&N>0&&(F=We(g+T+P,a[1][0])),c&&I<0?$=Ye(b+I+L,a[0][1]):!c&&I>0&&($=We(b+q+L,a[1][1])),S=Math.max(S,F),R=Math.max(R,$)}if(s){let F=0,$=0;u&&N>0?F=We(g+N,s[0][0]):!u&&N<0&&(F=Ye(g+T,s[1][0])),c&&I>0?$=We(b+I,s[0][1]):!c&&I<0&&($=Ye(b+q,s[1][1])),S=Math.max(S,F),R=Math.max(R,$)}if(i){if(l){const F=dn(T/E,y,_)*E;if(S=Math.max(S,F),a){let $=0;!u&&!c||u&&!c&&f?$=We(b+L+T/E,a[1][1])*E:$=Ye(b+L+(u?N:-N)/E,a[0][1])*E,S=Math.max(S,$)}if(s){let $=0;!u&&!c||u&&!c&&f?$=Ye(b+T/E,s[1][1])*E:$=We(b+(u?N:-N)/E,s[0][1])*E,S=Math.max(S,$)}}if(d){const F=dn(q*E,p,v)/E;if(R=Math.max(R,F),a){let $=0;!u&&!c||c&&!u&&f?$=We(g+q*E+P,a[1][0])/E:$=Ye(g+(c?I:-I)*E+P,a[0][0])/E,R=Math.max(R,$)}if(s){let $=0;!u&&!c||c&&!u&&f?$=Ye(g+q*E,s[1][0])/E:$=We(g+(c?I:-I)*E,s[0][0])/E,R=Math.max(R,$)}}}I=I+(I<0?R:-R),N=N+(N<0?S:-S),i&&(f?T>q*E?I=(Nl(u,c)?-N:N)/E:N=(Nl(u,c)?-I:I)*E:l?(I=N/E,c=u):(N=I*E,u=c));const M=u?g+N:g,k=c?b+I:b;return{width:x+(u?-N:N),height:w+(c?-I:I),x:o[0]*N*(u?-1:1)+M,y:o[1]*I*(c?-1:1)+k}}const Pm={width:0,height:0,x:0,y:0},z1={...Pm,pointerX:0,pointerY:0,aspectRatio:1};function V1(e){return[[0,0],[e.measured.width,e.measured.height]]}function G1(e,t,n){const r=t.position.x+e.position.x,i=t.position.y+e.position.y,o=e.measured.width??0,a=e.measured.height??0,s=n[0]*o,u=n[1]*a;return[[r-s,i-u],[r+o-s,i+a-u]]}function U1({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:i}){const o=pe(e);function a({controlPosition:u,boundaries:c,keepAspectRatio:l,resizeDirection:d,onResizeStart:f,onResize:h,onResizeEnd:m,shouldResize:p}){let v={...Pm},y={...z1};const _=B1(u);let g,b=null,x=[],w,E,N;const I=Vv().on("start",T=>{const{nodeLookup:q,transform:P,snapGrid:L,snapToGrid:S,nodeOrigin:R,paneDomNode:M}=n();if(g=q.get(t),!g)return;b=M?.getBoundingClientRect()??null;const{xSnapped:k,ySnapped:F}=Lt(T.sourceEvent,{transform:P,snapGrid:L,snapToGrid:S,containerBounds:b});v={width:g.measured.width??0,height:g.measured.height??0,x:g.position.x??0,y:g.position.y??0},y={...v,pointerX:k,pointerY:F,aspectRatio:v.width/v.height},w=void 0,g.parentId&&(g.extent==="parent"||g.expandParent)&&(w=q.get(g.parentId),E=w&&g.extent==="parent"?V1(w):void 0),x=[],N=void 0;for(const[$,H]of q)if(H.parentId===t&&(x.push({id:$,position:{...H.position},extent:H.extent}),H.extent==="parent"||H.expandParent)){const z=G1(H,g,H.origin??R);N?N=[[Math.min(z[0][0],N[0][0]),Math.min(z[0][1],N[0][1])],[Math.max(z[1][0],N[1][0]),Math.max(z[1][1],N[1][1])]]:N=z}f?.(T,{...v})}).on("drag",T=>{const{transform:q,snapGrid:P,snapToGrid:L,nodeOrigin:S}=n(),R=Lt(T.sourceEvent,{transform:q,snapGrid:P,snapToGrid:L,containerBounds:b}),M=[];if(!g)return;const{x:k,y:F,width:$,height:H}=v,z={},G=g.origin??S,{width:Y,height:A,x:O,y:D}=H1(y,_,R,c,l,G,E,N),B=Y!==$,V=A!==H,U=O!==k&&B,Z=D!==F&&V;if(!U&&!Z&&!B&&!V)return;if((U||Z||G[0]===1||G[1]===1)&&(z.x=U?O:v.x,z.y=Z?D:v.y,v.x=z.x,v.y=z.y,x.length>0)){const W=O-k,X=D-F;for(const ae of x)ae.position={x:ae.position.x-W+G[0]*(Y-$),y:ae.position.y-X+G[1]*(A-H)},M.push(ae)}if((B||V)&&(z.width=B&&(!d||d==="horizontal")?Y:v.width,z.height=V&&(!d||d==="vertical")?A:v.height,v.width=z.width,v.height=z.height),w&&g.expandParent){const W=G[0]*(z.width??0);z.x&&z.x<W&&(v.x=W,y.x=y.x-(z.x-W));const X=G[1]*(z.height??0);z.y&&z.y<X&&(v.y=X,y.y=y.y-(z.y-X))}const ee=F1({width:v.width,prevWidth:$,height:v.height,prevHeight:H,affectsX:_.affectsX,affectsY:_.affectsY}),Q={...v,direction:ee};p?.(T,Q)!==!1&&(h?.(T,Q),r(z,M))}).on("end",T=>{m?.(T,{...v}),i?.({...v})});o.call(I)}function s(){o.on(".drag",null)}return{update:a,destroy:s}}var _r={exports:{}},xr={},wr={exports:{}},Er={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Il;function Y1(){if(Il)return Er;Il=1;var e=Nv();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,a=e.useDebugValue;function s(d,f){var h=f(),m=r({inst:{value:h,getSnapshot:f}}),p=m[0].inst,v=m[1];return o(function(){p.value=h,p.getSnapshot=f,u(p)&&v({inst:p})},[d,h,f]),i(function(){return u(p)&&v({inst:p}),d(function(){u(p)&&v({inst:p})})},[d]),a(h),h}function u(d){var f=d.getSnapshot;d=d.value;try{var h=f();return!n(d,h)}catch{return!0}}function c(d,f){return f()}var l=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:s;return Er.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:l,Er}var ql;function W1(){return ql||(ql=1,wr.exports=Y1()),wr.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rl;function X1(){if(Rl)return xr;Rl=1;var e=Nv(),t=W1();function n(c,l){return c===l&&(c!==0||1/c===1/l)||c!==c&&l!==l}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,a=e.useEffect,s=e.useMemo,u=e.useDebugValue;return xr.useSyncExternalStoreWithSelector=function(c,l,d,f,h){var m=o(null);if(m.current===null){var p={hasValue:!1,value:null};m.current=p}else p=m.current;m=s(function(){function y(w){if(!_){if(_=!0,g=w,w=f(w),h!==void 0&&p.hasValue){var E=p.value;if(h(E,w))return b=E}return b=w}if(E=b,r(g,w))return E;var N=f(w);return h!==void 0&&h(E,N)?(g=w,E):(g=w,b=N)}var _=!1,g,b,x=d===void 0?null:d;return[function(){return y(l())},x===null?void 0:function(){return y(x())}]},[l,d,f,h]);var v=i(c,m[0],m[1]);return a(function(){p.hasValue=!0,p.value=v},[v]),u(v),v},xr}var Al;function K1(){return Al||(Al=1,_r.exports=X1()),_r.exports}var Z1=K1();const Q1=Iv(Z1),J1={},Ml=e=>{let t;const n=new Set,r=(l,d)=>{const f=typeof l=="function"?l(t):l;if(!Object.is(f,t)){const h=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(m=>m(t,h))}},i=()=>t,u={setState:r,getState:i,getInitialState:()=>c,subscribe:l=>(n.add(l),()=>n.delete(l)),destroy:()=>{(J1?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,i,u);return u},eE=e=>e?Ml(e):Ml,{useDebugValue:tE}=hb,{useSyncExternalStoreWithSelector:nE}=Q1,rE=e=>e;function km(e,t=rE,n){const r=nE(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return tE(r),r}const Tl=(e,t)=>{const n=eE(e),r=(i,o=t)=>km(n,i,o);return Object.assign(r,n),r},iE=(e,t)=>e?Tl(e,t):Tl;function oe(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const zn=j.createContext(null),oE=zn.Provider,Om=Me.error001();function ne(e,t){const n=j.useContext(zn);if(n===null)throw new Error(Om);return km(n,e,t)}function re(){const e=j.useContext(zn);if(e===null)throw new Error(Om);return j.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Pl={display:"none"},aE={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Lm="react-flow__node-desc",Dm="react-flow__edge-desc",sE="react-flow__aria-live",uE=e=>e.ariaLiveMessage,cE=e=>e.ariaLabelConfig;function lE({rfId:e}){const t=ne(uE);return C.jsx("div",{id:`${sE}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:aE,children:t})}function fE({rfId:e,disableKeyboardA11y:t}){const n=ne(cE);return C.jsxs(C.Fragment,{children:[C.jsx("div",{id:`${Lm}-${e}`,style:Pl,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),C.jsx("div",{id:`${Dm}-${e}`,style:Pl,children:n["edge.a11yDescription.default"]}),!t&&C.jsx(lE,{rfId:e})]})}const Vn=j.forwardRef(({position:e="top-left",children:t,className:n,style:r,...i},o)=>{const a=`${e}`.split("-");return C.jsx("div",{className:ue(["react-flow__panel",n,...a]),style:r,ref:o,...i,children:t})});Vn.displayName="Panel";function dE({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:C.jsx(Vn,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:C.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const hE=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},hn=e=>e.id;function pE(e,t){return oe(e.selectedNodes.map(hn),t.selectedNodes.map(hn))&&oe(e.selectedEdges.map(hn),t.selectedEdges.map(hn))}function gE({onSelectionChange:e}){const t=re(),{selectedNodes:n,selectedEdges:r}=ne(hE,pE);return j.useEffect(()=>{const i={nodes:n,edges:r};e?.(i),t.getState().onSelectionChangeHandlers.forEach(o=>o(i))},[n,r,e]),null}const vE=e=>!!e.onSelectionChangeHandlers;function mE({onSelectionChange:e}){const t=ne(vE);return e||t?C.jsx(gE,{onSelectionChange:e}):null}const jm=[0,0],yE={x:0,y:0,zoom:1},bE=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig"],kl=[...bE,"rfId"],_E=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),Ol={translateExtent:Bt,nodeOrigin:jm,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function xE(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:o,setNodeExtent:a,reset:s,setDefaultNodesAndEdges:u,setPaneClickDistance:c}=ne(_E,oe),l=re();j.useEffect(()=>(u(e.defaultNodes,e.defaultEdges),()=>{d.current=Ol,s()}),[]);const d=j.useRef(Ol);return j.useEffect(()=>{for(const f of kl){const h=e[f],m=d.current[f];h!==m&&(typeof e[f]>"u"||(f==="nodes"?t(h):f==="edges"?n(h):f==="minZoom"?r(h):f==="maxZoom"?i(h):f==="translateExtent"?o(h):f==="nodeExtent"?a(h):f==="paneClickDistance"?c(h):f==="ariaLabelConfig"?l.setState({ariaLabelConfig:o1(h)}):f==="fitView"?l.setState({fitViewQueued:h}):f==="fitViewOptions"?l.setState({fitViewOptions:h}):l.setState({[f]:h})))}d.current=e},kl.map(f=>e[f])),null}function Ll(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function wE(e){const[t,n]=j.useState(e==="system"?null:e);return j.useEffect(()=>{if(e!=="system"){n(e);return}const r=Ll(),i=()=>n(r?.matches?"dark":"light");return i(),r?.addEventListener("change",i),()=>{r?.removeEventListener("change",i)}},[e]),t!==null?t:Ll()?.matches?"dark":"light"}const Dl=typeof document<"u"?document:null;function Gt(e=null,t={target:Dl,actInsideInputWithModifier:!0}){const[n,r]=j.useState(!1),i=j.useRef(!1),o=j.useRef(new Set([])),[a,s]=j.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.replace("+",`
`).replace(`

`,`
+`).split(`
`)),l=c.reduce((d,f)=>d.concat(...f),[]);return[c,l]}return[[],[]]},[e]);return j.useEffect(()=>{const u=t?.target??Dl,c=t?.actInsideInputWithModifier??!0;if(e!==null){const l=h=>{if(i.current=h.ctrlKey||h.metaKey||h.shiftKey||h.altKey,(!i.current||i.current&&!c)&&ym(h))return!1;const p=$l(h.code,s);if(o.current.add(h[p]),jl(a,o.current,!1)){const v=h.composedPath?.()?.[0]||h.target,y=v?.nodeName==="BUTTON"||v?.nodeName==="A";t.preventDefault!==!1&&(i.current||!y)&&h.preventDefault(),r(!0)}},d=h=>{const m=$l(h.code,s);jl(a,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(h[m]),h.key==="Meta"&&o.current.clear(),i.current=!1},f=()=>{o.current.clear(),r(!1)};return u?.addEventListener("keydown",l),u?.addEventListener("keyup",d),window.addEventListener("blur",f),window.addEventListener("contextmenu",f),()=>{u?.removeEventListener("keydown",l),u?.removeEventListener("keyup",d),window.removeEventListener("blur",f),window.removeEventListener("contextmenu",f)}}},[e,r]),n}function jl(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function $l(e,t){return t.includes(e)?"code":"key"}const EE=()=>{const e=re();return j.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,i,o],panZoom:a}=e.getState();return a?(await a.setViewport({x:t.x??r,y:t.y??i,zoom:t.zoom??o},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:i,minZoom:o,maxZoom:a,panZoom:s}=e.getState(),u=vc(t,r,i,o,a,n?.padding??.1);return s?(await s.setViewport(u,{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:i,snapToGrid:o,domNode:a}=e.getState();if(!a)return t;const{x:s,y:u}=a.getBoundingClientRect(),c={x:t.x-s,y:t.y-u},l=n.snapGrid??i,d=n.snapToGrid??o;return Kt(c,r,d,l)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:i,y:o}=r.getBoundingClientRect(),a=Rn(t,n);return{x:a.x+i,y:a.y+o}}}),[])};function $m(e,t){const n=[],r=new Map,i=[];for(const o of e)if(o.type==="add"){i.push(o);continue}else if(o.type==="remove"||o.type==="replace")r.set(o.id,[o]);else{const a=r.get(o.id);a?a.push(o):r.set(o.id,[o])}for(const o of t){const a=r.get(o.id);if(!a){n.push(o);continue}if(a[0].type==="remove")continue;if(a[0].type==="replace"){n.push({...a[0].item});continue}const s={...o};for(const u of a)SE(u,s);n.push(s)}return i.length&&i.forEach(o=>{o.index!==void 0?n.splice(o.index,0,{...o.item}):n.push({...o.item})}),n}function SE(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??={},t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function Fm(e,t){return $m(e,t)}function Bm(e,t){return $m(e,t)}function Qe(e,t){return{id:e,type:"select",selected:t}}function ht(e,t=new Set,n=!1){const r=[];for(const[i,o]of e){const a=t.has(i);!(o.selected===void 0&&!a)&&o.selected!==a&&(n&&(o.selected=a),r.push(Qe(o.id,a)))}return r}function Fl({items:e=[],lookup:t}){const n=[],r=new Map(e.map(i=>[i.id,i]));for(const[i,o]of e.entries()){const a=t.get(o.id),s=a?.internals?.userNode??a;s!==void 0&&s!==o&&n.push({id:o.id,item:o,type:"replace"}),s===void 0&&n.push({item:o,type:"add",index:i})}for(const[i]of t)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function Bl(e){return{id:e.id,type:"remove"}}const Hl=e=>Xw(e),CE=e=>lm(e);function Hm(e){return j.forwardRef(e)}const NE=typeof window<"u"?j.useLayoutEffect:j.useEffect;function zl(e){const[t,n]=j.useState(BigInt(0)),[r]=j.useState(()=>IE(()=>n(i=>i+BigInt(1))));return NE(()=>{const i=r.get();i.length&&(e(i),r.reset())},[t]),r}function IE(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const zm=j.createContext(null);function qE({children:e}){const t=re(),n=j.useCallback(s=>{const{nodes:u=[],setNodes:c,hasDefaultNodes:l,onNodesChange:d,nodeLookup:f,fitViewQueued:h}=t.getState();let m=u;for(const v of s)m=typeof v=="function"?v(m):v;const p=Fl({items:m,lookup:f});l&&c(m),p.length>0?d?.(p):h&&window.requestAnimationFrame(()=>{const{fitViewQueued:v,nodes:y,setNodes:_}=t.getState();v&&_(y)})},[]),r=zl(n),i=j.useCallback(s=>{const{edges:u=[],setEdges:c,hasDefaultEdges:l,onEdgesChange:d,edgeLookup:f}=t.getState();let h=u;for(const m of s)h=typeof m=="function"?m(h):m;l?c(h):d&&d(Fl({items:h,lookup:f}))},[]),o=zl(i),a=j.useMemo(()=>({nodeQueue:r,edgeQueue:o}),[]);return C.jsx(zm.Provider,{value:a,children:e})}function RE(){const e=j.useContext(zm);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const AE=e=>!!e.panZoom;function Gn(){const e=EE(),t=re(),n=RE(),r=ne(AE),i=j.useMemo(()=>{const o=d=>t.getState().nodeLookup.get(d),a=d=>{n.nodeQueue.push(d)},s=d=>{n.edgeQueue.push(d)},u=d=>{const{nodeLookup:f,nodeOrigin:h}=t.getState(),m=Hl(d)?d:f.get(d.id),p=m.parentId?vm(m.position,m.measured,m.parentId,f,h):m.position,v={...m,position:p,width:m.measured?.width??m.width,height:m.measured?.height??m.height};return _t(v)},c=(d,f,h={replace:!1})=>{a(m=>m.map(p=>{if(p.id===d){const v=typeof f=="function"?f(p):f;return h.replace&&Hl(v)?v:{...p,...v}}return p}))},l=(d,f,h={replace:!1})=>{s(m=>m.map(p=>{if(p.id===d){const v=typeof f=="function"?f(p):f;return h.replace&&CE(v)?v:{...p,...v}}return p}))};return{getNodes:()=>t.getState().nodes.map(d=>({...d})),getNode:d=>o(d)?.internals.userNode,getInternalNode:o,getEdges:()=>{const{edges:d=[]}=t.getState();return d.map(f=>({...f}))},getEdge:d=>t.getState().edgeLookup.get(d),setNodes:a,setEdges:s,addNodes:d=>{const f=Array.isArray(d)?d:[d];n.nodeQueue.push(h=>[...h,...f])},addEdges:d=>{const f=Array.isArray(d)?d:[d];n.edgeQueue.push(h=>[...h,...f])},toObject:()=>{const{nodes:d=[],edges:f=[],transform:h}=t.getState(),[m,p,v]=h;return{nodes:d.map(y=>({...y})),edges:f.map(y=>({...y})),viewport:{x:m,y:p,zoom:v}}},deleteElements:async({nodes:d=[],edges:f=[]})=>{const{nodes:h,edges:m,onNodesDelete:p,onEdgesDelete:v,triggerNodeChanges:y,triggerEdgeChanges:_,onDelete:g,onBeforeDelete:b}=t.getState(),{nodes:x,edges:w}=await e1({nodesToRemove:d,edgesToRemove:f,nodes:h,edges:m,onBeforeDelete:b}),E=w.length>0,N=x.length>0;if(E){const I=w.map(Bl);v?.(w),_(I)}if(N){const I=x.map(Bl);p?.(x),y(I)}return(N||E)&&g?.({nodes:x,edges:w}),{deletedNodes:x,deletedEdges:w}},getIntersectingNodes:(d,f=!0,h)=>{const m=gl(d),p=m?d:u(d),v=h!==void 0;return p?(h||t.getState().nodes).filter(y=>{const _=t.getState().nodeLookup.get(y.id);if(_&&!m&&(y.id===d.id||!_.internals.positionAbsolute))return!1;const g=_t(v?y:_),b=zt(g,p);return f&&b>0||b>=g.width*g.height||b>=p.width*p.height}):[]},isNodeIntersecting:(d,f,h=!0)=>{const p=gl(d)?d:u(d);if(!p)return!1;const v=zt(p,f);return h&&v>0||v>=p.width*p.height},updateNode:c,updateNodeData:(d,f,h={replace:!1})=>{c(d,m=>{const p=typeof f=="function"?f(m):f;return h.replace?{...m,data:p}:{...m,data:{...m.data,...p}}},h)},updateEdge:l,updateEdgeData:(d,f,h={replace:!1})=>{l(d,m=>{const p=typeof f=="function"?f(m):f;return h.replace?{...m,data:p}:{...m,data:{...m.data,...p}}},h)},getNodesBounds:d=>{const{nodeLookup:f,nodeOrigin:h}=t.getState();return Kw(d,{nodeLookup:f,nodeOrigin:h})},getHandleConnections:({type:d,id:f,nodeId:h})=>Array.from(t.getState().connectionLookup.get(`${h}-${d}${f?`-${f}`:""}`)?.values()??[]),getNodeConnections:({type:d,handleId:f,nodeId:h})=>Array.from(t.getState().connectionLookup.get(`${h}${d?f?`-${d}-${f}`:`-${d}`:""}`)?.values()??[]),fitView:async d=>{const f=t.getState().fitViewResolver??i1();return t.setState({fitViewQueued:!0,fitViewOptions:d,fitViewResolver:f}),n.nodeQueue.push(h=>[...h]),f.promise}}},[]);return j.useMemo(()=>({...i,...e,viewportInitialized:r}),[r])}const Vl=e=>e.selected,ME=typeof window<"u"?window:void 0;function TE({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=re(),{deleteElements:r}=Gn(),i=Gt(e,{actInsideInputWithModifier:!1}),o=Gt(t,{target:ME});j.useEffect(()=>{if(i){const{edges:a,nodes:s}=n.getState();r({nodes:s.filter(Vl),edges:a.filter(Vl)}),n.setState({nodesSelectionActive:!1})}},[i]),j.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])}function PE(e){const t=re();j.useEffect(()=>{const n=()=>{if(!e.current)return!1;const r=mc(e.current);(r.height===0||r.width===0)&&t.getState().onError?.("004",Me.error004()),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const Un={position:"absolute",width:"100%",height:"100%",top:0,left:0},kE=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function OE({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:o=tt.Free,zoomOnDoubleClick:a=!0,panOnDrag:s=!0,defaultViewport:u,translateExtent:c,minZoom:l,maxZoom:d,zoomActivationKeyCode:f,preventScrolling:h=!0,children:m,noWheelClassName:p,noPanClassName:v,onViewportChange:y,isControlledViewport:_,paneClickDistance:g}){const b=re(),x=j.useRef(null),{userSelectionActive:w,lib:E}=ne(kE,oe),N=Gt(f),I=j.useRef();PE(x);const T=j.useCallback(q=>{y?.({x:q[0],y:q[1],zoom:q[2]}),_||b.setState({transform:q})},[y,_]);return j.useEffect(()=>{if(x.current){I.current=$1({domNode:x.current,minZoom:l,maxZoom:d,translateExtent:c,viewport:u,paneClickDistance:g,onDraggingChange:S=>b.setState({paneDragging:S}),onPanZoomStart:(S,R)=>{const{onViewportChangeStart:M,onMoveStart:k}=b.getState();k?.(S,R),M?.(R)},onPanZoom:(S,R)=>{const{onViewportChange:M,onMove:k}=b.getState();k?.(S,R),M?.(R)},onPanZoomEnd:(S,R)=>{const{onViewportChangeEnd:M,onMoveEnd:k}=b.getState();k?.(S,R),M?.(R)}});const{x:q,y:P,zoom:L}=I.current.getViewport();return b.setState({panZoom:I.current,transform:[q,P,L],domNode:x.current.closest(".react-flow")}),()=>{I.current?.destroy()}}},[]),j.useEffect(()=>{I.current?.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:o,zoomOnDoubleClick:a,panOnDrag:s,zoomActivationKeyPressed:N,preventScrolling:h,noPanClassName:v,userSelectionActive:w,noWheelClassName:p,lib:E,onTransformChange:T})},[e,t,n,r,i,o,a,s,N,h,v,w,p,E,T]),C.jsx("div",{className:"react-flow__renderer",ref:x,style:Un,children:m})}const LE=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function DE(){const{userSelectionActive:e,userSelectionRect:t}=ne(LE,oe);return e&&t?C.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Sr=(e,t)=>n=>{n.target===t.current&&e?.(n)},jE=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function $E({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Ht.Full,panOnDrag:r,selectionOnDrag:i,onSelectionStart:o,onSelectionEnd:a,onPaneClick:s,onPaneContextMenu:u,onPaneScroll:c,onPaneMouseEnter:l,onPaneMouseMove:d,onPaneMouseLeave:f,children:h}){const m=re(),{userSelectionActive:p,elementsSelectable:v,dragging:y,connectionInProgress:_}=ne(jE,oe),g=v&&(e||p),b=j.useRef(null),x=j.useRef(),w=j.useRef(new Set),E=j.useRef(new Set),N=j.useRef(!1),I=j.useRef(!1),T=k=>{if(N.current||_){N.current=!1;return}s?.(k),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},q=k=>{if(Array.isArray(r)&&r?.includes(2)){k.preventDefault();return}u?.(k)},P=c?k=>c(k):void 0,L=k=>{const{resetSelectedElements:F,domNode:$}=m.getState();if(x.current=$?.getBoundingClientRect(),!v||!e||k.button!==0||k.target!==b.current||!x.current)return;k.target?.setPointerCapture?.(k.pointerId),I.current=!0,N.current=!1;const{x:H,y:z}=Re(k.nativeEvent,x.current);F(),m.setState({userSelectionRect:{width:0,height:0,startX:H,startY:z,x:H,y:z}}),o?.(k)},S=k=>{const{userSelectionRect:F,transform:$,nodeLookup:H,edgeLookup:z,connectionLookup:G,triggerNodeChanges:Y,triggerEdgeChanges:A,defaultEdgeOptions:O}=m.getState();if(!x.current||!F)return;N.current=!0;const{x:D,y:B}=Re(k.nativeEvent,x.current),{startX:V,startY:U}=F,Z={startX:V,startY:U,x:D<V?D:V,y:B<U?B:U,width:Math.abs(D-V),height:Math.abs(B-U)},ee=w.current,Q=E.current;w.current=new Set(gc(H,Z,$,n===Ht.Partial,!0).map(W=>W.id)),E.current=new Set;const J=O?.selectable??!0;for(const W of w.current){const X=G.get(W);if(X)for(const{edgeId:ae}of X.values()){const te=z.get(ae);te&&(te.selectable??J)&&E.current.add(ae)}}if(!vl(ee,w.current)){const W=ht(H,w.current,!0);Y(W)}if(!vl(Q,E.current)){const W=ht(z,E.current);A(W)}m.setState({userSelectionRect:Z,userSelectionActive:!0,nodesSelectionActive:!1})},R=k=>{if(k.button!==0||!I.current)return;k.target?.releasePointerCapture?.(k.pointerId);const{userSelectionRect:F}=m.getState();!p&&F&&k.target===b.current&&T?.(k),m.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:w.current.size>0}),a?.(k),(t||i)&&(N.current=!1),I.current=!1},M=r===!0||Array.isArray(r)&&r.includes(0);return C.jsxs("div",{className:ue(["react-flow__pane",{draggable:M,dragging:y,selection:e}]),onClick:g?void 0:Sr(T,b),onContextMenu:Sr(q,b),onWheel:Sr(P,b),onPointerEnter:g?void 0:l,onPointerDown:g?L:d,onPointerMove:g?S:d,onPointerUp:g?R:void 0,onPointerLeave:f,ref:b,style:Un,children:[h,C.jsx(DE,{})]})}function oc({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:a,nodeLookup:s,onError:u}=t.getState(),c=s.get(e);if(!c){u?.("012",Me.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&a)&&(o({nodes:[c],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):i([e])}function Vm({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,nodeClickDistance:a}){const s=re(),[u,c]=j.useState(!1),l=j.useRef();return j.useEffect(()=>{l.current=S1({getStoreItems:()=>s.getState(),onNodeMouseDown:d=>{oc({id:d,store:s,nodeRef:e})},onDragStart:()=>{c(!0)},onDragStop:()=>{c(!1)}})},[]),j.useEffect(()=>{if(t)l.current?.destroy();else if(e.current)return l.current?.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:o,nodeId:i,nodeClickDistance:a}),()=>{l.current?.destroy()}},[n,r,t,o,e,i]),u}const FE=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function Gm(){const e=re();return j.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:o,nodesDraggable:a,onError:s,updateNodePositions:u,nodeLookup:c,nodeOrigin:l}=e.getState(),d=new Map,f=FE(a),h=i?o[0]:5,m=i?o[1]:5,p=n.direction.x*h*n.factor,v=n.direction.y*m*n.factor;for(const[,y]of c){if(!f(y))continue;let _={x:y.internals.positionAbsolute.x+p,y:y.internals.positionAbsolute.y+v};i&&(_=Bn(_,o));const{position:g,positionAbsolute:b}=fm({nodeId:y.id,nextPosition:_,nodeLookup:c,nodeExtent:r,nodeOrigin:l,onError:s});y.position=g,y.internals.positionAbsolute=b,d.set(y.id,y)}u(d)},[])}const wc=j.createContext(null),BE=wc.Provider;wc.Consumer;const Um=()=>j.useContext(wc),HE=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),zE=(e,t,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:o,connection:a}=r,{fromHandle:s,toHandle:u,isValid:c}=a,l=u?.nodeId===e&&u?.id===t&&u?.type===n;return{connectingFrom:s?.nodeId===e&&s?.id===t&&s?.type===n,connectingTo:l,clickConnecting:i?.nodeId===e&&i?.id===t&&i?.type===n,isPossibleEndHandle:o===yt.Strict?s?.type!==n:e!==s?.nodeId||t!==s?.id,connectionInProcess:!!s,clickConnectionInProcess:!!i,valid:l&&c}};function VE({type:e="source",position:t=K.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:a,onConnect:s,children:u,className:c,onMouseDown:l,onTouchStart:d,...f},h){const m=a||null,p=e==="target",v=re(),y=Um(),{connectOnClick:_,noPanClassName:g,rfId:b}=ne(HE,oe),{connectingFrom:x,connectingTo:w,clickConnecting:E,isPossibleEndHandle:N,connectionInProcess:I,clickConnectionInProcess:T,valid:q}=ne(zE(y,m,e),oe);y||v.getState().onError?.("010",Me.error010());const P=R=>{const{defaultEdgeOptions:M,onConnect:k,hasDefaultEdges:F}=v.getState(),$={...M,...R};if(F){const{edges:H,setEdges:z}=v.getState();z(f1($,H))}k?.($),s?.($)},L=R=>{if(!y)return;const M=bm(R.nativeEvent);if(i&&(M&&R.button===0||!M)){const k=v.getState();ic.onPointerDown(R.nativeEvent,{autoPanOnConnect:k.autoPanOnConnect,connectionMode:k.connectionMode,connectionRadius:k.connectionRadius,domNode:k.domNode,nodeLookup:k.nodeLookup,lib:k.lib,isTarget:p,handleId:m,nodeId:y,flowId:k.rfId,panBy:k.panBy,cancelConnection:k.cancelConnection,onConnectStart:k.onConnectStart,onConnectEnd:k.onConnectEnd,updateConnection:k.updateConnection,onConnect:P,isValidConnection:n||k.isValidConnection,getTransform:()=>v.getState().transform,getFromHandle:()=>v.getState().connection.fromHandle,autoPanSpeed:k.autoPanSpeed,dragThreshold:k.connectionDragThreshold})}M?l?.(R):d?.(R)},S=R=>{const{onClickConnectStart:M,onClickConnectEnd:k,connectionClickStartHandle:F,connectionMode:$,isValidConnection:H,lib:z,rfId:G,nodeLookup:Y,connection:A}=v.getState();if(!y||!F&&!i)return;if(!F){M?.(R.nativeEvent,{nodeId:y,handleId:m,handleType:e}),v.setState({connectionClickStartHandle:{nodeId:y,type:e,id:m}});return}const O=mm(R.target),D=n||H,{connection:B,isValid:V}=ic.isValid(R.nativeEvent,{handle:{nodeId:y,id:m,type:e},connectionMode:$,fromNodeId:F.nodeId,fromHandleId:F.id||null,fromType:F.type,isValidConnection:D,flowId:G,doc:O,lib:z,nodeLookup:Y});V&&B&&P(B);const U=structuredClone(A);delete U.inProgress,U.toPosition=U.toHandle?U.toHandle.position:null,k?.(R,U),v.setState({connectionClickStartHandle:null})};return C.jsx("div",{"data-handleid":m,"data-nodeid":y,"data-handlepos":t,"data-id":`${b}-${y}-${m}-${e}`,className:ue(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",g,c,{source:!p,target:p,connectable:r,connectablestart:i,connectableend:o,clickconnecting:E,connectingfrom:x,connectingto:w,valid:q,connectionindicator:r&&(!I||N)&&(I||T?o:i)}]),onMouseDown:L,onTouchStart:L,onClick:_?S:void 0,ref:h,...f,children:u})}const Mn=j.memo(Hm(VE));function GE({data:e,isConnectable:t,sourcePosition:n=K.Bottom}){return C.jsxs(C.Fragment,{children:[e?.label,C.jsx(Mn,{type:"source",position:n,isConnectable:t})]})}function UE({data:e,isConnectable:t,targetPosition:n=K.Top,sourcePosition:r=K.Bottom}){return C.jsxs(C.Fragment,{children:[C.jsx(Mn,{type:"target",position:n,isConnectable:t}),e?.label,C.jsx(Mn,{type:"source",position:r,isConnectable:t})]})}function YE(){return null}function WE({data:e,isConnectable:t,targetPosition:n=K.Top}){return C.jsxs(C.Fragment,{children:[C.jsx(Mn,{type:"target",position:n,isConnectable:t}),e?.label]})}const Tn={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Gl={input:GE,default:UE,output:WE,group:YE};function XE(e){return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??e.style?.width,height:e.height??e.initialHeight??e.style?.height}:{width:e.width??e.style?.width,height:e.height??e.style?.height}}const KE=e=>{const{width:t,height:n,x:r,y:i}=Xt(e.nodeLookup,{filter:o=>!!o.selected});return{width:Ee(t)?t:null,height:Ee(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${i}px)`}};function ZE({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=re(),{width:i,height:o,transformString:a,userSelectionActive:s}=ne(KE,oe),u=Gm(),c=j.useRef(null);if(j.useEffect(()=>{n||c.current?.focus({preventScroll:!0})},[n]),Vm({nodeRef:c}),s||!i||!o)return null;const l=e?f=>{const h=r.getState().nodes.filter(m=>m.selected);e(f,h)}:void 0,d=f=>{Object.prototype.hasOwnProperty.call(Tn,f.key)&&(f.preventDefault(),u({direction:Tn[f.key],factor:f.shiftKey?4:1}))};return C.jsx("div",{className:ue(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a},children:C.jsx("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:l,tabIndex:n?void 0:-1,onKeyDown:n?void 0:d,style:{width:i,height:o}})})}const Ul=typeof window<"u"?window:void 0,QE=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function Ym({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:a,paneClickDistance:s,deleteKeyCode:u,selectionKeyCode:c,selectionOnDrag:l,selectionMode:d,onSelectionStart:f,onSelectionEnd:h,multiSelectionKeyCode:m,panActivationKeyCode:p,zoomActivationKeyCode:v,elementsSelectable:y,zoomOnScroll:_,zoomOnPinch:g,panOnScroll:b,panOnScrollSpeed:x,panOnScrollMode:w,zoomOnDoubleClick:E,panOnDrag:N,defaultViewport:I,translateExtent:T,minZoom:q,maxZoom:P,preventScrolling:L,onSelectionContextMenu:S,noWheelClassName:R,noPanClassName:M,disableKeyboardA11y:k,onViewportChange:F,isControlledViewport:$}){const{nodesSelectionActive:H,userSelectionActive:z}=ne(QE),G=Gt(c,{target:Ul}),Y=Gt(p,{target:Ul}),A=Y||N,O=Y||b,D=l&&A!==!0,B=G||z||D;return TE({deleteKeyCode:u,multiSelectionKeyCode:m}),C.jsx(OE,{onPaneContextMenu:o,elementsSelectable:y,zoomOnScroll:_,zoomOnPinch:g,panOnScroll:O,panOnScrollSpeed:x,panOnScrollMode:w,zoomOnDoubleClick:E,panOnDrag:!G&&A,defaultViewport:I,translateExtent:T,minZoom:q,maxZoom:P,zoomActivationKeyCode:v,preventScrolling:L,noWheelClassName:R,noPanClassName:M,onViewportChange:F,isControlledViewport:$,paneClickDistance:s,children:C.jsxs($E,{onSelectionStart:f,onSelectionEnd:h,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:a,panOnDrag:A,isSelecting:!!B,selectionMode:d,selectionKeyPressed:G,selectionOnDrag:D,children:[e,H&&C.jsx(ZE,{onSelectionContextMenu:S,noPanClassName:M,disableKeyboardA11y:k})]})})}Ym.displayName="FlowRenderer";const JE=j.memo(Ym),eS=e=>t=>e?gc(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function tS(e){return ne(j.useCallback(eS(e),[e]),oe)}const nS=e=>e.updateNodeInternals;function rS(){const e=ne(nS),[t]=j.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const o=i.target.getAttribute("data-id");r.set(o,{id:o,nodeElement:i.target,force:!0})}),e(r)}));return j.useEffect(()=>()=>{t?.disconnect()},[t]),t}function iS({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const i=re(),o=j.useRef(null),a=j.useRef(null),s=j.useRef(e.sourcePosition),u=j.useRef(e.targetPosition),c=j.useRef(t),l=n&&!!e.internals.handleBounds;return j.useEffect(()=>{o.current&&!e.hidden&&(!l||a.current!==o.current)&&(a.current&&r?.unobserve(a.current),r?.observe(o.current),a.current=o.current)},[l,e.hidden]),j.useEffect(()=>()=>{a.current&&(r?.unobserve(a.current),a.current=null)},[]),j.useEffect(()=>{if(o.current){const d=c.current!==t,f=s.current!==e.sourcePosition,h=u.current!==e.targetPosition;(d||f||h)&&(c.current=t,s.current=e.sourcePosition,u.current=e.targetPosition,i.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:o.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),o}function oS({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:o,onDoubleClick:a,nodesDraggable:s,elementsSelectable:u,nodesConnectable:c,nodesFocusable:l,resizeObserver:d,noDragClassName:f,noPanClassName:h,disableKeyboardA11y:m,rfId:p,nodeTypes:v,nodeClickDistance:y,onError:_}){const{node:g,internals:b,isParent:x}=ne(V=>{const U=V.nodeLookup.get(e),Z=V.parentLookup.has(e);return{node:U,internals:U.internals,isParent:Z}},oe);let w=g.type||"default",E=v?.[w]||Gl[w];E===void 0&&(_?.("003",Me.error003(w)),w="default",E=v?.default||Gl.default);const N=!!(g.draggable||s&&typeof g.draggable>"u"),I=!!(g.selectable||u&&typeof g.selectable>"u"),T=!!(g.connectable||c&&typeof g.connectable>"u"),q=!!(g.focusable||l&&typeof g.focusable>"u"),P=re(),L=gm(g),S=iS({node:g,nodeType:w,hasDimensions:L,resizeObserver:d}),R=Vm({nodeRef:S,disabled:g.hidden||!N,noDragClassName:f,handleSelector:g.dragHandle,nodeId:e,isSelectable:I,nodeClickDistance:y}),M=Gm();if(g.hidden)return null;const k=Be(g),F=XE(g),$=I||N||t||n||r||i,H=n?V=>n(V,{...b.userNode}):void 0,z=r?V=>r(V,{...b.userNode}):void 0,G=i?V=>i(V,{...b.userNode}):void 0,Y=o?V=>o(V,{...b.userNode}):void 0,A=a?V=>a(V,{...b.userNode}):void 0,O=V=>{const{selectNodesOnDrag:U,nodeDragThreshold:Z}=P.getState();I&&(!U||!N||Z>0)&&oc({id:e,store:P,nodeRef:S}),t&&t(V,{...b.userNode})},D=V=>{if(!(ym(V.nativeEvent)||m)){if(am.includes(V.key)&&I){const U=V.key==="Escape";oc({id:e,store:P,unselect:U,nodeRef:S})}else if(N&&g.selected&&Object.prototype.hasOwnProperty.call(Tn,V.key)){V.preventDefault();const{ariaLabelConfig:U}=P.getState();P.setState({ariaLiveMessage:U["node.a11yDescription.ariaLiveMessage"]({direction:V.key.replace("Arrow","").toLowerCase(),x:~~b.positionAbsolute.x,y:~~b.positionAbsolute.y})}),M({direction:Tn[V.key],factor:V.shiftKey?4:1})}}},B=()=>{if(m||!S.current?.matches(":focus-visible"))return;const{transform:V,width:U,height:Z,autoPanOnNodeFocus:ee,setCenter:Q}=P.getState();if(!ee)return;gc(new Map([[e,g]]),{x:0,y:0,width:U,height:Z},V,!0).length>0||Q(g.position.x+k.width/2,g.position.y+k.height/2,{zoom:V[2]})};return C.jsx("div",{className:ue(["react-flow__node",`react-flow__node-${w}`,{[h]:N},g.className,{selected:g.selected,selectable:I,parent:x,draggable:N,dragging:R}]),ref:S,style:{zIndex:b.z,transform:`translate(${b.positionAbsolute.x}px,${b.positionAbsolute.y}px)`,pointerEvents:$?"all":"none",visibility:L?"visible":"hidden",...g.style,...F},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:H,onMouseMove:z,onMouseLeave:G,onContextMenu:Y,onClick:O,onDoubleClick:A,onKeyDown:q?D:void 0,tabIndex:q?0:void 0,onFocus:q?B:void 0,role:g.ariaRole??(q?"group":void 0),"aria-roledescription":"node","aria-describedby":m?void 0:`${Lm}-${p}`,"aria-label":g.ariaLabel,...g.domAttributes,children:C.jsx(BE,{value:e,children:C.jsx(E,{id:e,data:g.data,type:w,positionAbsoluteX:b.positionAbsolute.x,positionAbsoluteY:b.positionAbsolute.y,selected:g.selected??!1,selectable:I,draggable:N,deletable:g.deletable??!0,isConnectable:T,sourcePosition:g.sourcePosition,targetPosition:g.targetPosition,dragging:R,dragHandle:g.dragHandle,zIndex:b.z,parentId:g.parentId,...k})})})}const aS=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function Wm(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:o}=ne(aS,oe),a=tS(e.onlyRenderVisibleElements),s=rS();return C.jsx("div",{className:"react-flow__nodes",style:Un,children:a.map(u=>C.jsx(oS,{id:u,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:s,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:e.nodeClickDistance,onError:o},u))})}Wm.displayName="NodeRenderer";const sS=j.memo(Wm);function uS(e){return ne(j.useCallback(n=>{if(!e)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const o=n.nodeLookup.get(i.source),a=n.nodeLookup.get(i.target);o&&a&&u1({sourceNode:o,targetNode:a,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[e]),oe)}const cS=({color:e="none",strokeWidth:t=1})=>C.jsx("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),lS=({color:e="none",strokeWidth:t=1})=>C.jsx("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Yl={[In.Arrow]:cS,[In.ArrowClosed]:lS};function fS(e){const t=re();return j.useMemo(()=>Object.prototype.hasOwnProperty.call(Yl,e)?Yl[e]:(t.getState().onError?.("009",Me.error009(e)),null),[e])}const dS=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:a,orient:s="auto-start-reverse"})=>{const u=fS(t);return u?C.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:s,refX:"0",refY:"0",children:C.jsx(u,{color:n,strokeWidth:a})}):null},Xm=({defaultColor:e,rfId:t})=>{const n=ne(o=>o.edges),r=ne(o=>o.defaultEdgeOptions),i=j.useMemo(()=>v1(n,{id:t,defaultColor:e,defaultMarkerStart:r?.markerStart,defaultMarkerEnd:r?.markerEnd}),[n,r,t,e]);return i.length?C.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:C.jsx("defs",{children:i.map(o=>C.jsx(dS,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};Xm.displayName="MarkerDefinitions";var hS=j.memo(Xm);function Km({x:e,y:t,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:o,labelBgPadding:a=[2,4],labelBgBorderRadius:s=2,children:u,className:c,...l}){const[d,f]=j.useState({x:1,y:0,width:0,height:0}),h=ue(["react-flow__edge-textwrapper",c]),m=j.useRef(null);return j.useEffect(()=>{if(m.current){const p=m.current.getBBox();f({x:p.x,y:p.y,width:p.width,height:p.height})}},[n]),n?C.jsxs("g",{transform:`translate(${e-d.width/2} ${t-d.height/2})`,className:h,visibility:d.width?"visible":"hidden",...l,children:[i&&C.jsx("rect",{width:d.width+2*a[0],x:-a[0],y:-a[1],height:d.height+2*a[1],className:"react-flow__edge-textbg",style:o,rx:s,ry:s}),C.jsx("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:m,style:r,children:n}),u]}):null}Km.displayName="EdgeText";const pS=j.memo(Km);function Yn({path:e,labelX:t,labelY:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:s,labelBgBorderRadius:u,interactionWidth:c=20,...l}){return C.jsxs(C.Fragment,{children:[C.jsx("path",{...l,d:e,fill:"none",className:ue(["react-flow__edge-path",l.className])}),c&&C.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:c,className:"react-flow__edge-interaction"}),r&&Ee(t)&&Ee(n)?C.jsx(pS,{x:t,y:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:s,labelBgBorderRadius:u}):null]})}function Wl({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===K.Left||e===K.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function Zm({sourceX:e,sourceY:t,sourcePosition:n=K.Bottom,targetX:r,targetY:i,targetPosition:o=K.Top}){const[a,s]=Wl({pos:n,x1:e,y1:t,x2:r,y2:i}),[u,c]=Wl({pos:o,x1:r,y1:i,x2:e,y2:t}),[l,d,f,h]=_m({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:s,targetControlX:u,targetControlY:c});return[`M${e},${t} C${a},${s} ${u},${c} ${r},${i}`,l,d,f,h]}function Qm(e){return j.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:a,targetPosition:s,label:u,labelStyle:c,labelShowBg:l,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:m,markerEnd:p,markerStart:v,interactionWidth:y})=>{const[_,g,b]=Zm({sourceX:n,sourceY:r,sourcePosition:a,targetX:i,targetY:o,targetPosition:s}),x=e.isInternal?void 0:t;return C.jsx(Yn,{id:x,path:_,labelX:g,labelY:b,label:u,labelStyle:c,labelShowBg:l,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:m,markerEnd:p,markerStart:v,interactionWidth:y})})}const gS=Qm({isInternal:!1}),Jm=Qm({isInternal:!0});gS.displayName="SimpleBezierEdge";Jm.displayName="SimpleBezierEdgeInternal";function ey(e){return j.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,label:a,labelStyle:s,labelShowBg:u,labelBgStyle:c,labelBgPadding:l,labelBgBorderRadius:d,style:f,sourcePosition:h=K.Bottom,targetPosition:m=K.Top,markerEnd:p,markerStart:v,pathOptions:y,interactionWidth:_})=>{const[g,b,x]=tc({sourceX:n,sourceY:r,sourcePosition:h,targetX:i,targetY:o,targetPosition:m,borderRadius:y?.borderRadius,offset:y?.offset,stepPosition:y?.stepPosition}),w=e.isInternal?void 0:t;return C.jsx(Yn,{id:w,path:g,labelX:b,labelY:x,label:a,labelStyle:s,labelShowBg:u,labelBgStyle:c,labelBgPadding:l,labelBgBorderRadius:d,style:f,markerEnd:p,markerStart:v,interactionWidth:_})})}const ty=ey({isInternal:!1}),ny=ey({isInternal:!0});ty.displayName="SmoothStepEdge";ny.displayName="SmoothStepEdgeInternal";function ry(e){return j.memo(({id:t,...n})=>{const r=e.isInternal?void 0:t;return C.jsx(ty,{...n,id:r,pathOptions:j.useMemo(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}const vS=ry({isInternal:!1}),iy=ry({isInternal:!0});vS.displayName="StepEdge";iy.displayName="StepEdgeInternal";function oy(e){return j.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,label:a,labelStyle:s,labelShowBg:u,labelBgStyle:c,labelBgPadding:l,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:m,interactionWidth:p})=>{const[v,y,_]=Em({sourceX:n,sourceY:r,targetX:i,targetY:o}),g=e.isInternal?void 0:t;return C.jsx(Yn,{id:g,path:v,labelX:y,labelY:_,label:a,labelStyle:s,labelShowBg:u,labelBgStyle:c,labelBgPadding:l,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:m,interactionWidth:p})})}const mS=oy({isInternal:!1}),ay=oy({isInternal:!0});mS.displayName="StraightEdge";ay.displayName="StraightEdgeInternal";function sy(e){return j.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:a=K.Bottom,targetPosition:s=K.Top,label:u,labelStyle:c,labelShowBg:l,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:m,markerEnd:p,markerStart:v,pathOptions:y,interactionWidth:_})=>{const[g,b,x]=xm({sourceX:n,sourceY:r,sourcePosition:a,targetX:i,targetY:o,targetPosition:s,curvature:y?.curvature}),w=e.isInternal?void 0:t;return C.jsx(Yn,{id:w,path:g,labelX:b,labelY:x,label:u,labelStyle:c,labelShowBg:l,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:m,markerEnd:p,markerStart:v,interactionWidth:_})})}const yS=sy({isInternal:!1}),uy=sy({isInternal:!0});yS.displayName="BezierEdge";uy.displayName="BezierEdgeInternal";const Xl={default:uy,straight:ay,step:iy,smoothstep:ny,simplebezier:Jm},Kl={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},bS=(e,t,n)=>n===K.Left?e-t:n===K.Right?e+t:e,_S=(e,t,n)=>n===K.Top?e-t:n===K.Bottom?e+t:e,Zl="react-flow__edgeupdater";function Ql({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:a,type:s}){return C.jsx("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:a,className:ue([Zl,`${Zl}-${s}`]),cx:bS(t,r,e),cy:_S(n,r,e),r,stroke:"transparent",fill:"transparent"})}function xS({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:i,targetX:o,targetY:a,sourcePosition:s,targetPosition:u,onReconnect:c,onReconnectStart:l,onReconnectEnd:d,setReconnecting:f,setUpdateHover:h}){const m=re(),p=(b,x)=>{if(b.button!==0)return;const{autoPanOnConnect:w,domNode:E,isValidConnection:N,connectionMode:I,connectionRadius:T,lib:q,onConnectStart:P,onConnectEnd:L,cancelConnection:S,nodeLookup:R,rfId:M,panBy:k,updateConnection:F}=m.getState(),$=x.type==="target",H=(Y,A)=>{f(!1),d?.(Y,n,x.type,A)},z=Y=>c?.(n,Y),G=(Y,A)=>{f(!0),l?.(b,n,x.type),P?.(Y,A)};ic.onPointerDown(b.nativeEvent,{autoPanOnConnect:w,connectionMode:I,connectionRadius:T,domNode:E,handleId:x.id,nodeId:x.nodeId,nodeLookup:R,isTarget:$,edgeUpdaterType:x.type,lib:q,flowId:M,cancelConnection:S,panBy:k,isValidConnection:N,onConnect:z,onConnectStart:G,onConnectEnd:L,onReconnectEnd:H,updateConnection:F,getTransform:()=>m.getState().transform,getFromHandle:()=>m.getState().connection.fromHandle,dragThreshold:m.getState().connectionDragThreshold})},v=b=>p(b,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),y=b=>p(b,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),_=()=>h(!0),g=()=>h(!1);return C.jsxs(C.Fragment,{children:[(e===!0||e==="source")&&C.jsx(Ql,{position:s,centerX:r,centerY:i,radius:t,onMouseDown:v,onMouseEnter:_,onMouseOut:g,type:"source"}),(e===!0||e==="target")&&C.jsx(Ql,{position:u,centerX:o,centerY:a,radius:t,onMouseDown:y,onMouseEnter:_,onMouseOut:g,type:"target"})]})}function wS({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:o,onContextMenu:a,onMouseEnter:s,onMouseMove:u,onMouseLeave:c,reconnectRadius:l,onReconnect:d,onReconnectStart:f,onReconnectEnd:h,rfId:m,edgeTypes:p,noPanClassName:v,onError:y,disableKeyboardA11y:_}){let g=ne(Q=>Q.edgeLookup.get(e));const b=ne(Q=>Q.defaultEdgeOptions);g=b?{...b,...g}:g;let x=g.type||"default",w=p?.[x]||Xl[x];w===void 0&&(y?.("011",Me.error011(x)),x="default",w=p?.default||Xl.default);const E=!!(g.focusable||t&&typeof g.focusable>"u"),N=typeof d<"u"&&(g.reconnectable||n&&typeof g.reconnectable>"u"),I=!!(g.selectable||r&&typeof g.selectable>"u"),T=j.useRef(null),[q,P]=j.useState(!1),[L,S]=j.useState(!1),R=re(),{zIndex:M,sourceX:k,sourceY:F,targetX:$,targetY:H,sourcePosition:z,targetPosition:G}=ne(j.useCallback(Q=>{const J=Q.nodeLookup.get(g.source),W=Q.nodeLookup.get(g.target);if(!J||!W)return{zIndex:g.zIndex,...Kl};const X=g1({id:e,sourceNode:J,targetNode:W,sourceHandle:g.sourceHandle||null,targetHandle:g.targetHandle||null,connectionMode:Q.connectionMode,onError:y});return{zIndex:s1({selected:g.selected,zIndex:g.zIndex,sourceNode:J,targetNode:W,elevateOnSelect:Q.elevateEdgesOnSelect}),...X||Kl}},[g.source,g.target,g.sourceHandle,g.targetHandle,g.selected,g.zIndex]),oe),Y=j.useMemo(()=>g.markerStart?`url('#${nc(g.markerStart,m)}')`:void 0,[g.markerStart,m]),A=j.useMemo(()=>g.markerEnd?`url('#${nc(g.markerEnd,m)}')`:void 0,[g.markerEnd,m]);if(g.hidden||k===null||F===null||$===null||H===null)return null;const O=Q=>{const{addSelectedEdges:J,unselectNodesAndEdges:W,multiSelectionActive:X}=R.getState();I&&(R.setState({nodesSelectionActive:!1}),g.selected&&X?(W({nodes:[],edges:[g]}),T.current?.blur()):J([e])),i&&i(Q,g)},D=o?Q=>{o(Q,{...g})}:void 0,B=a?Q=>{a(Q,{...g})}:void 0,V=s?Q=>{s(Q,{...g})}:void 0,U=u?Q=>{u(Q,{...g})}:void 0,Z=c?Q=>{c(Q,{...g})}:void 0,ee=Q=>{if(!_&&am.includes(Q.key)&&I){const{unselectNodesAndEdges:J,addSelectedEdges:W}=R.getState();Q.key==="Escape"?(T.current?.blur(),J({edges:[g]})):W([e])}};return C.jsx("svg",{style:{zIndex:M},children:C.jsxs("g",{className:ue(["react-flow__edge",`react-flow__edge-${x}`,g.className,v,{selected:g.selected,animated:g.animated,inactive:!I&&!i,updating:q,selectable:I}]),onClick:O,onDoubleClick:D,onContextMenu:B,onMouseEnter:V,onMouseMove:U,onMouseLeave:Z,onKeyDown:E?ee:void 0,tabIndex:E?0:void 0,role:g.ariaRole??(E?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":g.ariaLabel===null?void 0:g.ariaLabel||`Edge from ${g.source} to ${g.target}`,"aria-describedby":E?`${Dm}-${m}`:void 0,ref:T,...g.domAttributes,children:[!L&&C.jsx(w,{id:e,source:g.source,target:g.target,type:g.type,selected:g.selected,animated:g.animated,selectable:I,deletable:g.deletable??!0,label:g.label,labelStyle:g.labelStyle,labelShowBg:g.labelShowBg,labelBgStyle:g.labelBgStyle,labelBgPadding:g.labelBgPadding,labelBgBorderRadius:g.labelBgBorderRadius,sourceX:k,sourceY:F,targetX:$,targetY:H,sourcePosition:z,targetPosition:G,data:g.data,style:g.style,sourceHandleId:g.sourceHandle,targetHandleId:g.targetHandle,markerStart:Y,markerEnd:A,pathOptions:"pathOptions"in g?g.pathOptions:void 0,interactionWidth:g.interactionWidth}),N&&C.jsx(xS,{edge:g,isReconnectable:N,reconnectRadius:l,onReconnect:d,onReconnectStart:f,onReconnectEnd:h,sourceX:k,sourceY:F,targetX:$,targetY:H,sourcePosition:z,targetPosition:G,setUpdateHover:P,setReconnecting:S})]})})}const ES=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function cy({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:o,onEdgeContextMenu:a,onEdgeMouseEnter:s,onEdgeMouseMove:u,onEdgeMouseLeave:c,onEdgeClick:l,reconnectRadius:d,onEdgeDoubleClick:f,onReconnectStart:h,onReconnectEnd:m,disableKeyboardA11y:p}){const{edgesFocusable:v,edgesReconnectable:y,elementsSelectable:_,onError:g}=ne(ES,oe),b=uS(t);return C.jsxs("div",{className:"react-flow__edges",children:[C.jsx(hS,{defaultColor:e,rfId:n}),b.map(x=>C.jsx(wS,{id:x,edgesFocusable:v,edgesReconnectable:y,elementsSelectable:_,noPanClassName:i,onReconnect:o,onContextMenu:a,onMouseEnter:s,onMouseMove:u,onMouseLeave:c,onClick:l,reconnectRadius:d,onDoubleClick:f,onReconnectStart:h,onReconnectEnd:m,rfId:n,onError:g,edgeTypes:r,disableKeyboardA11y:p},x))]})}cy.displayName="EdgeRenderer";const SS=j.memo(cy),CS=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function NS({children:e}){const t=ne(CS);return C.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function IS(e){const t=Gn(),n=j.useRef(!1);j.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const qS=e=>e.panZoom?.syncViewport;function RS(e){const t=ne(qS),n=re();return j.useEffect(()=>{e&&(t?.(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function AS(e){return e.connection.inProgress?{...e.connection,to:Kt(e.connection.to,e.transform)}:{...e.connection}}function MS(e){return AS}function TS(e){const t=MS();return ne(t,oe)}const PS=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function kS({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:i,width:o,height:a,isValid:s,inProgress:u}=ne(PS,oe);return!(o&&i&&u)?null:C.jsx("svg",{style:e,width:o,height:a,className:"react-flow__connectionline react-flow__container",children:C.jsx("g",{className:ue(["react-flow__connection",cm(s)]),children:C.jsx(ly,{style:t,type:n,CustomComponent:r,isValid:s})})})}const ly=({style:e,type:t=Xe.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:o,fromNode:a,fromHandle:s,fromPosition:u,to:c,toNode:l,toHandle:d,toPosition:f}=TS();if(!i)return;if(n)return C.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:a,fromHandle:s,fromX:o.x,fromY:o.y,toX:c.x,toY:c.y,fromPosition:u,toPosition:f,connectionStatus:cm(r),toNode:l,toHandle:d});let h="";const m={sourceX:o.x,sourceY:o.y,sourcePosition:u,targetX:c.x,targetY:c.y,targetPosition:f};switch(t){case Xe.Bezier:[h]=xm(m);break;case Xe.SimpleBezier:[h]=Zm(m);break;case Xe.Step:[h]=tc({...m,borderRadius:0});break;case Xe.SmoothStep:[h]=tc(m);break;default:[h]=Em(m)}return C.jsx("path",{d:h,fill:"none",className:"react-flow__connection-path",style:e})};ly.displayName="ConnectionLine";const OS={};function Jl(e=OS){j.useRef(e),re(),j.useEffect(()=>{},[e])}function LS(){re(),j.useRef(!1),j.useEffect(()=>{},[])}function fy({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:o,onEdgeDoubleClick:a,onNodeMouseEnter:s,onNodeMouseMove:u,onNodeMouseLeave:c,onNodeContextMenu:l,onSelectionContextMenu:d,onSelectionStart:f,onSelectionEnd:h,connectionLineType:m,connectionLineStyle:p,connectionLineComponent:v,connectionLineContainerStyle:y,selectionKeyCode:_,selectionOnDrag:g,selectionMode:b,multiSelectionKeyCode:x,panActivationKeyCode:w,zoomActivationKeyCode:E,deleteKeyCode:N,onlyRenderVisibleElements:I,elementsSelectable:T,defaultViewport:q,translateExtent:P,minZoom:L,maxZoom:S,preventScrolling:R,defaultMarkerColor:M,zoomOnScroll:k,zoomOnPinch:F,panOnScroll:$,panOnScrollSpeed:H,panOnScrollMode:z,zoomOnDoubleClick:G,panOnDrag:Y,onPaneClick:A,onPaneMouseEnter:O,onPaneMouseMove:D,onPaneMouseLeave:B,onPaneScroll:V,onPaneContextMenu:U,paneClickDistance:Z,nodeClickDistance:ee,onEdgeContextMenu:Q,onEdgeMouseEnter:J,onEdgeMouseMove:W,onEdgeMouseLeave:X,reconnectRadius:ae,onReconnect:te,onReconnectStart:he,onReconnectEnd:_e,noDragClassName:ct,noWheelClassName:ke,noPanClassName:le,disableKeyboardA11y:se,nodeExtent:Ve,rfId:Oe,viewport:Ge,onViewportChange:Ue}){return Jl(e),Jl(t),LS(),IS(n),RS(Ge),C.jsx(JE,{onPaneClick:A,onPaneMouseEnter:O,onPaneMouseMove:D,onPaneMouseLeave:B,onPaneContextMenu:U,onPaneScroll:V,paneClickDistance:Z,deleteKeyCode:N,selectionKeyCode:_,selectionOnDrag:g,selectionMode:b,onSelectionStart:f,onSelectionEnd:h,multiSelectionKeyCode:x,panActivationKeyCode:w,zoomActivationKeyCode:E,elementsSelectable:T,zoomOnScroll:k,zoomOnPinch:F,zoomOnDoubleClick:G,panOnScroll:$,panOnScrollSpeed:H,panOnScrollMode:z,panOnDrag:Y,defaultViewport:q,translateExtent:P,minZoom:L,maxZoom:S,onSelectionContextMenu:d,preventScrolling:R,noDragClassName:ct,noWheelClassName:ke,noPanClassName:le,disableKeyboardA11y:se,onViewportChange:Ue,isControlledViewport:!!Ge,children:C.jsxs(NS,{children:[C.jsx(SS,{edgeTypes:t,onEdgeClick:i,onEdgeDoubleClick:a,onReconnect:te,onReconnectStart:he,onReconnectEnd:_e,onlyRenderVisibleElements:I,onEdgeContextMenu:Q,onEdgeMouseEnter:J,onEdgeMouseMove:W,onEdgeMouseLeave:X,reconnectRadius:ae,defaultMarkerColor:M,noPanClassName:le,disableKeyboardA11y:se,rfId:Oe}),C.jsx(kS,{style:p,type:m,component:v,containerStyle:y}),C.jsx("div",{className:"react-flow__edgelabel-renderer"}),C.jsx(sS,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:o,onNodeMouseEnter:s,onNodeMouseMove:u,onNodeMouseLeave:c,onNodeContextMenu:l,nodeClickDistance:ee,onlyRenderVisibleElements:I,noPanClassName:le,noDragClassName:ct,disableKeyboardA11y:se,nodeExtent:Ve,rfId:Oe}),C.jsx("div",{className:"react-flow__viewport-portal"})]})})}fy.displayName="GraphView";const DS=j.memo(fy),ef=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:a,fitViewOptions:s,minZoom:u=.5,maxZoom:c=2,nodeOrigin:l,nodeExtent:d}={})=>{const f=new Map,h=new Map,m=new Map,p=new Map,v=r??t??[],y=n??e??[],_=l??[0,0],g=d??Bt;Cm(m,p,v);const b=rc(y,f,h,{nodeOrigin:_,nodeExtent:g,elevateNodesOnSelect:!1});let x=[0,0,1];if(a&&i&&o){const w=Xt(f,{filter:T=>!!((T.width||T.initialWidth)&&(T.height||T.initialHeight))}),{x:E,y:N,zoom:I}=vc(w,i,o,u,c,s?.padding??.1);x=[E,N,I]}return{rfId:"1",width:0,height:0,transform:x,nodes:y,nodesInitialized:b,nodeLookup:f,parentLookup:h,edges:v,edgeLookup:p,connectionLookup:m,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:u,maxZoom:c,translateExtent:Bt,nodeExtent:g,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:yt.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:_,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:a??!1,fitViewOptions:s,fitViewResolver:null,connection:{...um},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:t1,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:sm}},jS=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:a,fitViewOptions:s,minZoom:u,maxZoom:c,nodeOrigin:l,nodeExtent:d})=>iE((f,h)=>{async function m(){const{nodeLookup:p,panZoom:v,fitViewOptions:y,fitViewResolver:_,width:g,height:b,minZoom:x,maxZoom:w}=h();v&&(await Jw({nodes:p,width:g,height:b,panZoom:v,minZoom:x,maxZoom:w},y),_?.resolve(!0),f({fitViewResolver:null}))}return{...ef({nodes:e,edges:t,width:i,height:o,fitView:a,fitViewOptions:s,minZoom:u,maxZoom:c,nodeOrigin:l,nodeExtent:d,defaultNodes:n,defaultEdges:r}),setNodes:p=>{const{nodeLookup:v,parentLookup:y,nodeOrigin:_,elevateNodesOnSelect:g,fitViewQueued:b}=h(),x=rc(p,v,y,{nodeOrigin:_,nodeExtent:d,elevateNodesOnSelect:g,checkEquality:!0});b&&x?(m(),f({nodes:p,nodesInitialized:x,fitViewQueued:!1,fitViewOptions:void 0})):f({nodes:p,nodesInitialized:x})},setEdges:p=>{const{connectionLookup:v,edgeLookup:y}=h();Cm(v,y,p),f({edges:p})},setDefaultNodesAndEdges:(p,v)=>{if(p){const{setNodes:y}=h();y(p),f({hasDefaultNodes:!0})}if(v){const{setEdges:y}=h();y(v),f({hasDefaultEdges:!0})}},updateNodeInternals:p=>{const{triggerNodeChanges:v,nodeLookup:y,parentLookup:_,domNode:g,nodeOrigin:b,nodeExtent:x,debug:w,fitViewQueued:E}=h(),{changes:N,updatedInternals:I}=x1(p,y,_,g,b,x);I&&(y1(y,_,{nodeOrigin:b,nodeExtent:x}),E?(m(),f({fitViewQueued:!1,fitViewOptions:void 0})):f({}),N?.length>0&&(w&&console.log("React Flow: trigger node changes",N),v?.(N)))},updateNodePositions:(p,v=!1)=>{const y=[],_=[],{nodeLookup:g,triggerNodeChanges:b}=h();for(const[x,w]of p){const E=g.get(x),N=!!(E?.expandParent&&E?.parentId&&w?.position),I={id:x,type:"position",position:N?{x:Math.max(0,w.position.x),y:Math.max(0,w.position.y)}:w.position,dragging:v};N&&E.parentId&&y.push({id:x,parentId:E.parentId,rect:{...w.internals.positionAbsolute,width:w.measured.width??0,height:w.measured.height??0}}),_.push(I)}if(y.length>0){const{parentLookup:x,nodeOrigin:w}=h(),E=xc(y,g,x,w);_.push(...E)}b(_)},triggerNodeChanges:p=>{const{onNodesChange:v,setNodes:y,nodes:_,hasDefaultNodes:g,debug:b}=h();if(p?.length){if(g){const x=Fm(p,_);y(x)}b&&console.log("React Flow: trigger node changes",p),v?.(p)}},triggerEdgeChanges:p=>{const{onEdgesChange:v,setEdges:y,edges:_,hasDefaultEdges:g,debug:b}=h();if(p?.length){if(g){const x=Bm(p,_);y(x)}b&&console.log("React Flow: trigger edge changes",p),v?.(p)}},addSelectedNodes:p=>{const{multiSelectionActive:v,edgeLookup:y,nodeLookup:_,triggerNodeChanges:g,triggerEdgeChanges:b}=h();if(v){const x=p.map(w=>Qe(w,!0));g(x);return}g(ht(_,new Set([...p]),!0)),b(ht(y))},addSelectedEdges:p=>{const{multiSelectionActive:v,edgeLookup:y,nodeLookup:_,triggerNodeChanges:g,triggerEdgeChanges:b}=h();if(v){const x=p.map(w=>Qe(w,!0));b(x);return}b(ht(y,new Set([...p]))),g(ht(_,new Set,!0))},unselectNodesAndEdges:({nodes:p,edges:v}={})=>{const{edges:y,nodes:_,nodeLookup:g,triggerNodeChanges:b,triggerEdgeChanges:x}=h(),w=p||_,E=v||y,N=w.map(T=>{const q=g.get(T.id);return q&&(q.selected=!1),Qe(T.id,!1)}),I=E.map(T=>Qe(T.id,!1));b(N),x(I)},setMinZoom:p=>{const{panZoom:v,maxZoom:y}=h();v?.setScaleExtent([p,y]),f({minZoom:p})},setMaxZoom:p=>{const{panZoom:v,minZoom:y}=h();v?.setScaleExtent([y,p]),f({maxZoom:p})},setTranslateExtent:p=>{h().panZoom?.setTranslateExtent(p),f({translateExtent:p})},setPaneClickDistance:p=>{h().panZoom?.setClickDistance(p)},resetSelectedElements:()=>{const{edges:p,nodes:v,triggerNodeChanges:y,triggerEdgeChanges:_,elementsSelectable:g}=h();if(!g)return;const b=v.reduce((w,E)=>E.selected?[...w,Qe(E.id,!1)]:w,[]),x=p.reduce((w,E)=>E.selected?[...w,Qe(E.id,!1)]:w,[]);y(b),_(x)},setNodeExtent:p=>{const{nodes:v,nodeLookup:y,parentLookup:_,nodeOrigin:g,elevateNodesOnSelect:b,nodeExtent:x}=h();p[0][0]===x[0][0]&&p[0][1]===x[0][1]&&p[1][0]===x[1][0]&&p[1][1]===x[1][1]||(rc(v,y,_,{nodeOrigin:g,nodeExtent:p,elevateNodesOnSelect:b,checkEquality:!1}),f({nodeExtent:p}))},panBy:p=>{const{transform:v,width:y,height:_,panZoom:g,translateExtent:b}=h();return w1({delta:p,panZoom:g,transform:v,translateExtent:b,width:y,height:_})},setCenter:async(p,v,y)=>{const{width:_,height:g,maxZoom:b,panZoom:x}=h();if(!x)return Promise.resolve(!1);const w=typeof y?.zoom<"u"?y.zoom:b;return await x.setViewport({x:_/2-p*w,y:g/2-v*w,zoom:w},{duration:y?.duration,ease:y?.ease,interpolate:y?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{f({connection:{...um}})},updateConnection:p=>{f({connection:p})},reset:()=>f({...ef()})}},Object.is);function dy({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:o,initialMinZoom:a,initialMaxZoom:s,initialFitViewOptions:u,fitView:c,nodeOrigin:l,nodeExtent:d,children:f}){const[h]=j.useState(()=>jS({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:c,minZoom:a,maxZoom:s,fitViewOptions:u,nodeOrigin:l,nodeExtent:d}));return C.jsx(oE,{value:h,children:C.jsx(qE,{children:f})})}function $S({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:i,width:o,height:a,fitView:s,fitViewOptions:u,minZoom:c,maxZoom:l,nodeOrigin:d,nodeExtent:f}){return j.useContext(zn)?C.jsx(C.Fragment,{children:e}):C.jsx(dy,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:o,initialHeight:a,fitView:s,initialFitViewOptions:u,initialMinZoom:c,initialMaxZoom:l,nodeOrigin:d,nodeExtent:f,children:e})}const FS={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function BS({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o,edgeTypes:a,onNodeClick:s,onEdgeClick:u,onInit:c,onMove:l,onMoveStart:d,onMoveEnd:f,onConnect:h,onConnectStart:m,onConnectEnd:p,onClickConnectStart:v,onClickConnectEnd:y,onNodeMouseEnter:_,onNodeMouseMove:g,onNodeMouseLeave:b,onNodeContextMenu:x,onNodeDoubleClick:w,onNodeDragStart:E,onNodeDrag:N,onNodeDragStop:I,onNodesDelete:T,onEdgesDelete:q,onDelete:P,onSelectionChange:L,onSelectionDragStart:S,onSelectionDrag:R,onSelectionDragStop:M,onSelectionContextMenu:k,onSelectionStart:F,onSelectionEnd:$,onBeforeDelete:H,connectionMode:z,connectionLineType:G=Xe.Bezier,connectionLineStyle:Y,connectionLineComponent:A,connectionLineContainerStyle:O,deleteKeyCode:D="Backspace",selectionKeyCode:B="Shift",selectionOnDrag:V=!1,selectionMode:U=Ht.Full,panActivationKeyCode:Z="Space",multiSelectionKeyCode:ee=An()?"Meta":"Control",zoomActivationKeyCode:Q=An()?"Meta":"Control",snapToGrid:J,snapGrid:W,onlyRenderVisibleElements:X=!1,selectNodesOnDrag:ae,nodesDraggable:te,autoPanOnNodeFocus:he,nodesConnectable:_e,nodesFocusable:ct,nodeOrigin:ke=jm,edgesFocusable:le,edgesReconnectable:se,elementsSelectable:Ve=!0,defaultViewport:Oe=yE,minZoom:Ge=.5,maxZoom:Ue=2,translateExtent:Le=Bt,preventScrolling:nn=!0,nodeExtent:lt,defaultMarkerColor:fr="#b1b1b7",zoomOnScroll:rn=!0,zoomOnPinch:Ie=!0,panOnScroll:De=!1,panOnScrollSpeed:g0=.5,panOnScrollMode:v0=tt.Free,zoomOnDoubleClick:m0=!0,panOnDrag:y0=!0,onPaneClick:b0,onPaneMouseEnter:_0,onPaneMouseMove:x0,onPaneMouseLeave:w0,onPaneScroll:E0,onPaneContextMenu:S0,paneClickDistance:Bc=0,nodeClickDistance:C0=0,children:N0,onReconnect:I0,onReconnectStart:q0,onReconnectEnd:R0,onEdgeContextMenu:A0,onEdgeDoubleClick:M0,onEdgeMouseEnter:T0,onEdgeMouseMove:P0,onEdgeMouseLeave:k0,reconnectRadius:O0=10,onNodesChange:L0,onEdgesChange:D0,noDragClassName:j0="nodrag",noWheelClassName:$0="nowheel",noPanClassName:Hc="nopan",fitView:zc,fitViewOptions:Vc,connectOnClick:F0,attributionPosition:B0,proOptions:H0,defaultEdgeOptions:z0,elevateNodesOnSelect:V0,elevateEdgesOnSelect:G0,disableKeyboardA11y:Gc=!1,autoPanOnConnect:U0,autoPanOnNodeDrag:Y0,autoPanSpeed:W0,connectionRadius:X0,isValidConnection:K0,onError:Z0,style:Q0,id:Uc,nodeDragThreshold:J0,connectionDragThreshold:eb,viewport:tb,onViewportChange:nb,width:rb,height:ib,colorMode:ob="light",debug:ab,onScroll:Yc,ariaLabelConfig:sb,...ub},cb){const dr=Uc||"1",lb=wE(ob),fb=j.useCallback(Wc=>{Wc.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Yc?.(Wc)},[Yc]);return C.jsx("div",{"data-testid":"rf__wrapper",...ub,onScroll:fb,style:{...Q0,...FS},ref:cb,className:ue(["react-flow",i,lb]),id:Uc,role:"application",children:C.jsxs($S,{nodes:e,edges:t,width:rb,height:ib,fitView:zc,fitViewOptions:Vc,minZoom:Ge,maxZoom:Ue,nodeOrigin:ke,nodeExtent:lt,children:[C.jsx(DS,{onInit:c,onNodeClick:s,onEdgeClick:u,onNodeMouseEnter:_,onNodeMouseMove:g,onNodeMouseLeave:b,onNodeContextMenu:x,onNodeDoubleClick:w,nodeTypes:o,edgeTypes:a,connectionLineType:G,connectionLineStyle:Y,connectionLineComponent:A,connectionLineContainerStyle:O,selectionKeyCode:B,selectionOnDrag:V,selectionMode:U,deleteKeyCode:D,multiSelectionKeyCode:ee,panActivationKeyCode:Z,zoomActivationKeyCode:Q,onlyRenderVisibleElements:X,defaultViewport:Oe,translateExtent:Le,minZoom:Ge,maxZoom:Ue,preventScrolling:nn,zoomOnScroll:rn,zoomOnPinch:Ie,zoomOnDoubleClick:m0,panOnScroll:De,panOnScrollSpeed:g0,panOnScrollMode:v0,panOnDrag:y0,onPaneClick:b0,onPaneMouseEnter:_0,onPaneMouseMove:x0,onPaneMouseLeave:w0,onPaneScroll:E0,onPaneContextMenu:S0,paneClickDistance:Bc,nodeClickDistance:C0,onSelectionContextMenu:k,onSelectionStart:F,onSelectionEnd:$,onReconnect:I0,onReconnectStart:q0,onReconnectEnd:R0,onEdgeContextMenu:A0,onEdgeDoubleClick:M0,onEdgeMouseEnter:T0,onEdgeMouseMove:P0,onEdgeMouseLeave:k0,reconnectRadius:O0,defaultMarkerColor:fr,noDragClassName:j0,noWheelClassName:$0,noPanClassName:Hc,rfId:dr,disableKeyboardA11y:Gc,nodeExtent:lt,viewport:tb,onViewportChange:nb}),C.jsx(xE,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:m,onConnectEnd:p,onClickConnectStart:v,onClickConnectEnd:y,nodesDraggable:te,autoPanOnNodeFocus:he,nodesConnectable:_e,nodesFocusable:ct,edgesFocusable:le,edgesReconnectable:se,elementsSelectable:Ve,elevateNodesOnSelect:V0,elevateEdgesOnSelect:G0,minZoom:Ge,maxZoom:Ue,nodeExtent:lt,onNodesChange:L0,onEdgesChange:D0,snapToGrid:J,snapGrid:W,connectionMode:z,translateExtent:Le,connectOnClick:F0,defaultEdgeOptions:z0,fitView:zc,fitViewOptions:Vc,onNodesDelete:T,onEdgesDelete:q,onDelete:P,onNodeDragStart:E,onNodeDrag:N,onNodeDragStop:I,onSelectionDrag:R,onSelectionDragStart:S,onSelectionDragStop:M,onMove:l,onMoveStart:d,onMoveEnd:f,noPanClassName:Hc,nodeOrigin:ke,rfId:dr,autoPanOnConnect:U0,autoPanOnNodeDrag:Y0,autoPanSpeed:W0,onError:Z0,connectionRadius:X0,isValidConnection:K0,selectNodesOnDrag:ae,nodeDragThreshold:J0,connectionDragThreshold:eb,onBeforeDelete:H,paneClickDistance:Bc,debug:ab,ariaLabelConfig:sb}),C.jsx(mE,{onSelectionChange:L}),N0,C.jsx(dE,{proOptions:H0,position:B0}),C.jsx(fE,{rfId:dr,disableKeyboardA11y:Gc})]})})}var HS=Hm(BS);function zS(e){const[t,n]=j.useState(e),r=j.useCallback(i=>n(o=>Fm(i,o)),[]);return[t,n,r]}function VS(e){const[t,n]=j.useState(e),r=j.useCallback(i=>n(o=>Bm(i,o)),[]);return[t,n,r]}function GS({dimensions:e,lineWidth:t,variant:n,className:r}){return C.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:ue(["react-flow__background-pattern",n,r])})}function US({radius:e,className:t}){return C.jsx("circle",{cx:e,cy:e,r:e,className:ue(["react-flow__background-pattern","dots",t])})}var Ke;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Ke||(Ke={}));const YS={[Ke.Dots]:1,[Ke.Lines]:1,[Ke.Cross]:6},WS=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function hy({id:e,variant:t=Ke.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=0,color:a,bgColor:s,style:u,className:c,patternClassName:l}){const d=j.useRef(null),{transform:f,patternId:h}=ne(WS,oe),m=r||YS[t],p=t===Ke.Dots,v=t===Ke.Cross,y=Array.isArray(n)?n:[n,n],_=[y[0]*f[2]||1,y[1]*f[2]||1],g=m*f[2],b=Array.isArray(o)?o:[o,o],x=v?[g,g]:_,w=[b[0]*f[2]||1+x[0]/2,b[1]*f[2]||1+x[1]/2],E=`${h}${e||""}`;return C.jsxs("svg",{className:ue(["react-flow__background",c]),style:{...u,...Un,"--xy-background-color-props":s,"--xy-background-pattern-color-props":a},ref:d,"data-testid":"rf__background",children:[C.jsx("pattern",{id:E,x:f[0]%_[0],y:f[1]%_[1],width:_[0],height:_[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${w[0]},-${w[1]})`,children:p?C.jsx(US,{radius:g/2,className:l}):C.jsx(GS,{dimensions:x,lineWidth:i,variant:t,className:l})}),C.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${E})`})]})}hy.displayName="Background";const XS=j.memo(hy);function KS(){return C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:C.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function ZS(){return C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:C.jsx("path",{d:"M0 0h32v4.2H0z"})})}function QS(){return C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:C.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function JS(){return C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:C.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function eC(){return C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:C.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function pn({children:e,className:t,...n}){return C.jsx("button",{type:"button",className:ue(["react-flow__controls-button",t]),...n,children:e})}const tC=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function py({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:a,onFitView:s,onInteractiveChange:u,className:c,children:l,position:d="bottom-left",orientation:f="vertical","aria-label":h}){const m=re(),{isInteractive:p,minZoomReached:v,maxZoomReached:y,ariaLabelConfig:_}=ne(tC,oe),{zoomIn:g,zoomOut:b,fitView:x}=Gn(),w=()=>{g(),o?.()},E=()=>{b(),a?.()},N=()=>{x(i),s?.()},I=()=>{m.setState({nodesDraggable:!p,nodesConnectable:!p,elementsSelectable:!p}),u?.(!p)},T=f==="horizontal"?"horizontal":"vertical";return C.jsxs(Vn,{className:ue(["react-flow__controls",T,c]),position:d,style:e,"data-testid":"rf__controls","aria-label":h??_["controls.ariaLabel"],children:[t&&C.jsxs(C.Fragment,{children:[C.jsx(pn,{onClick:w,className:"react-flow__controls-zoomin",title:_["controls.zoomIn.ariaLabel"],"aria-label":_["controls.zoomIn.ariaLabel"],disabled:y,children:C.jsx(KS,{})}),C.jsx(pn,{onClick:E,className:"react-flow__controls-zoomout",title:_["controls.zoomOut.ariaLabel"],"aria-label":_["controls.zoomOut.ariaLabel"],disabled:v,children:C.jsx(ZS,{})})]}),n&&C.jsx(pn,{className:"react-flow__controls-fitview",onClick:N,title:_["controls.fitView.ariaLabel"],"aria-label":_["controls.fitView.ariaLabel"],children:C.jsx(QS,{})}),r&&C.jsx(pn,{className:"react-flow__controls-interactive",onClick:I,title:_["controls.interactive.ariaLabel"],"aria-label":_["controls.interactive.ariaLabel"],children:p?C.jsx(eC,{}):C.jsx(JS,{})}),l]})}py.displayName="Controls";const nC=j.memo(py);function rC({id:e,x:t,y:n,width:r,height:i,style:o,color:a,strokeColor:s,strokeWidth:u,className:c,borderRadius:l,shapeRendering:d,selected:f,onClick:h}){const{background:m,backgroundColor:p}=o||{},v=a||m||p;return C.jsx("rect",{className:ue(["react-flow__minimap-node",{selected:f},c]),x:t,y:n,rx:l,ry:l,width:r,height:i,style:{fill:v,stroke:s,strokeWidth:u},shapeRendering:d,onClick:h?y=>h(y,e):void 0})}const iC=j.memo(rC),oC=e=>e.nodes.map(t=>t.id),Cr=e=>e instanceof Function?e:()=>e;function aC({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:o=iC,onClick:a}){const s=ne(oC,oe),u=Cr(t),c=Cr(e),l=Cr(n),d=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return C.jsx(C.Fragment,{children:s.map(f=>C.jsx(uC,{id:f,nodeColorFunc:u,nodeStrokeColorFunc:c,nodeClassNameFunc:l,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:o,onClick:a,shapeRendering:d},f))})}function sC({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:o,shapeRendering:a,NodeComponent:s,onClick:u}){const{node:c,x:l,y:d,width:f,height:h}=ne(m=>{const{internals:p}=m.nodeLookup.get(e),v=p.userNode,{x:y,y:_}=p.positionAbsolute,{width:g,height:b}=Be(v);return{node:v,x:y,y:_,width:g,height:b}},oe);return!c||c.hidden||!gm(c)?null:C.jsx(s,{x:l,y:d,width:f,height:h,style:c.style,selected:!!c.selected,className:r(c),color:t(c),borderRadius:i,strokeColor:n(c),strokeWidth:o,shapeRendering:a,onClick:u,id:c.id})}const uC=j.memo(sC);var cC=j.memo(aC);const lC=200,fC=150,dC=e=>!e.hidden,hC=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?pm(Xt(e.nodeLookup,{filter:dC}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},pC="react-flow__minimap-desc";function gy({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:a,nodeComponent:s,bgColor:u,maskColor:c,maskStrokeColor:l,maskStrokeWidth:d,position:f="bottom-right",onClick:h,onNodeClick:m,pannable:p=!1,zoomable:v=!1,ariaLabel:y,inversePan:_,zoomStep:g=10,offsetScale:b=5}){const x=re(),w=j.useRef(null),{boundingRect:E,viewBB:N,rfId:I,panZoom:T,translateExtent:q,flowWidth:P,flowHeight:L,ariaLabelConfig:S}=ne(hC,oe),R=e?.width??lC,M=e?.height??fC,k=E.width/R,F=E.height/M,$=Math.max(k,F),H=$*R,z=$*M,G=b*$,Y=E.x-(H-E.width)/2-G,A=E.y-(z-E.height)/2-G,O=H+G*2,D=z+G*2,B=`${pC}-${I}`,V=j.useRef(0),U=j.useRef();V.current=$,j.useEffect(()=>{if(w.current&&T)return U.current=A1({domNode:w.current,panZoom:T,getTransform:()=>x.getState().transform,getViewScale:()=>V.current}),()=>{U.current?.destroy()}},[T]),j.useEffect(()=>{U.current?.update({translateExtent:q,width:P,height:L,inversePan:_,pannable:p,zoomStep:g,zoomable:v})},[p,v,_,g,q,P,L]);const Z=h?J=>{const[W,X]=U.current?.pointer(J)||[0,0];h(J,{x:W,y:X})}:void 0,ee=m?j.useCallback((J,W)=>{const X=x.getState().nodeLookup.get(W).internals.userNode;m(J,X)},[]):void 0,Q=y??S["minimap.ariaLabel"];return C.jsx(Vn,{position:f,style:{...e,"--xy-minimap-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-stroke-width-props":typeof d=="number"?d*$:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof a=="number"?a:void 0},className:ue(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:C.jsxs("svg",{width:R,height:M,viewBox:`${Y} ${A} ${O} ${D}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":B,ref:w,onClick:Z,children:[Q&&C.jsx("title",{id:B,children:Q}),C.jsx(cC,{onClick:ee,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:a,nodeComponent:s}),C.jsx("path",{className:"react-flow__minimap-mask",d:`M${Y-G},${A-G}h${O+G*2}v${D+G*2}h${-O-G*2}z
        M${N.x},${N.y}h${N.width}v${N.height}h${-N.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}gy.displayName="MiniMap";j.memo(gy);const gC=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,vC={[wt.Line]:"right",[wt.Handle]:"bottom-right"};function mC({nodeId:e,position:t,variant:n=wt.Handle,className:r,style:i=void 0,children:o,color:a,minWidth:s=10,minHeight:u=10,maxWidth:c=Number.MAX_VALUE,maxHeight:l=Number.MAX_VALUE,keepAspectRatio:d=!1,resizeDirection:f,autoScale:h=!0,shouldResize:m,onResizeStart:p,onResize:v,onResizeEnd:y}){const _=Um(),g=typeof e=="string"?e:_,b=re(),x=j.useRef(null),w=n===wt.Handle,E=ne(j.useCallback(gC(w&&h),[w,h]),oe),N=j.useRef(null),I=t??vC[n];j.useEffect(()=>{if(!(!x.current||!g))return N.current||(N.current=U1({domNode:x.current,nodeId:g,getStoreItems:()=>{const{nodeLookup:q,transform:P,snapGrid:L,snapToGrid:S,nodeOrigin:R,domNode:M}=b.getState();return{nodeLookup:q,transform:P,snapGrid:L,snapToGrid:S,nodeOrigin:R,paneDomNode:M}},onChange:(q,P)=>{const{triggerNodeChanges:L,nodeLookup:S,parentLookup:R,nodeOrigin:M}=b.getState(),k=[],F={x:q.x,y:q.y},$=S.get(g);if($&&$.expandParent&&$.parentId){const H=$.origin??M,z=q.width??$.measured.width??0,G=q.height??$.measured.height??0,Y={id:$.id,parentId:$.parentId,rect:{width:z,height:G,...vm({x:q.x??$.position.x,y:q.y??$.position.y},{width:z,height:G},$.parentId,S,H)}},A=xc([Y],S,R,M);k.push(...A),F.x=q.x?Math.max(H[0]*z,q.x):void 0,F.y=q.y?Math.max(H[1]*G,q.y):void 0}if(F.x!==void 0&&F.y!==void 0){const H={id:g,type:"position",position:{...F}};k.push(H)}if(q.width!==void 0&&q.height!==void 0){const z={id:g,type:"dimensions",resizing:!0,setAttributes:f?f==="horizontal"?"width":"height":!0,dimensions:{width:q.width,height:q.height}};k.push(z)}for(const H of P){const z={...H,type:"position"};k.push(z)}L(k)},onEnd:({width:q,height:P})=>{const L={id:g,type:"dimensions",resizing:!1,dimensions:{width:q,height:P}};b.getState().triggerNodeChanges([L])}})),N.current.update({controlPosition:I,boundaries:{minWidth:s,minHeight:u,maxWidth:c,maxHeight:l},keepAspectRatio:d,resizeDirection:f,onResizeStart:p,onResize:v,onResizeEnd:y,shouldResize:m}),()=>{N.current?.destroy()}},[I,s,u,c,l,d,p,v,y,m]);const T=I.split("-");return C.jsx("div",{className:ue(["react-flow__resize-control","nodrag",...T,n,r]),ref:x,style:{...i,scale:E,...a&&{[w?"backgroundColor":"borderColor"]:a}},children:o})}j.memo(mC);function yC(e,t){for(const n of t)for(const r of n.levels)for(const i of r.components)if(i.id===e)return{points:i.points,level:r.level};return null}function bC(e,t,n){const{targetItemId:r,targetAmount:i=60}=e,o=[],a=[],s=new Set,u=m=>{for(const p of t)for(let v=0;v<p.recipes.length;v++){const y=p.recipes[v];if(y.output.id===m)return{building:p,recipe:y,recipeIndex:v}}return null},c=new Map,l=(m,p,v=new Set)=>{if(v.has(m)){console.warn(` Circular dependency detected for ${m}`);return}const _=(c.get(m)||0)+p;c.set(m,_);const g=u(m);if(!g)return;const b=new Set(v);b.add(m);const{recipe:x}=g,w=x.output.amount_per_minute,E=p/w;for(const N of x.inputs){const I=N.amount_per_minute*E;l(N.id,I,b)}},d=(m,p=0)=>{if(s.has(m)){const q=o.find(P=>P.outputItem===m);return q?`${q.buildingId}_${q.recipeIndex}_${q.outputItem}`:""}const v=u(m);if(!v)return s.add(m),"";const{building:y,recipe:_,recipeIndex:g}=v,b=`${y.id}_${g}_${m}`,x=c.get(m)||0,w=_.output.amount_per_minute,E=x/w,N=y.power,I=Math.ceil(E)*N,T={buildingId:y.id,buildingName:y.name,recipeIndex:g,outputItem:m,outputAmount:w,buildingCount:E,powerPerBuilding:N,totalPower:I,x:0,y:0};o.push(T),s.add(m);for(const q of _.inputs)d(q.id,p+1);return b},f=()=>{const m=new Map;o.forEach(p=>{const v=u(p.outputItem);if(!v)return;const{recipe:y}=v,_=`${p.buildingId}_${p.recipeIndex}_${p.outputItem}`;y.inputs.forEach(g=>{const b=o.find(x=>x.outputItem===g.id);if(b){const x=`${b.buildingId}_${b.recipeIndex}_${b.outputItem}`,w=`${x}==>${_}::${g.id}`,E=g.amount_per_minute*p.buildingCount;m.has(w)?m.get(w).totalAmount+=E:m.set(w,{from:x,to:_,itemId:g.id,totalAmount:E})}})}),m.forEach(p=>{a.push({from:p.from,to:p.to,itemId:p.itemId,amount:p.totalAmount})})};if(l(r,i),d(r),f(),yC(r,n)){const p=i/10,v=10,y=Math.ceil(p)*v,_={buildingId:"orbital_cargo_launcher",buildingName:"Orbital Cargo Launcher",recipeIndex:-1,outputItem:r,outputAmount:10,buildingCount:p,powerPerBuilding:v,totalPower:y,x:0,y:0};o.push(_);const g=o.find(b=>b.recipeIndex>=0&&b.outputItem===r);if(g){const b=`${g.buildingId}_${g.recipeIndex}_${g.outputItem}`,x=`${_.buildingId}_${_.recipeIndex}_${_.outputItem}`;a.push({from:b,to:x,itemId:r,amount:i})}}return{nodes:o,edges:a}}function ac(e,t){return t.find(n=>n.id===e)?.name||e}function Ec(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Nr,tf;function _C(){if(tf)return Nr;tf=1;function e(){this.__data__=[],this.size=0}return Nr=e,Nr}var Ir,nf;function Et(){if(nf)return Ir;nf=1;function e(t,n){return t===n||t!==t&&n!==n}return Ir=e,Ir}var qr,rf;function Wn(){if(rf)return qr;rf=1;var e=Et();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return qr=t,qr}var Rr,of;function xC(){if(of)return Rr;of=1;var e=Wn(),t=Array.prototype,n=t.splice;function r(i){var o=this.__data__,a=e(o,i);if(a<0)return!1;var s=o.length-1;return a==s?o.pop():n.call(o,a,1),--this.size,!0}return Rr=r,Rr}var Ar,af;function wC(){if(af)return Ar;af=1;var e=Wn();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return Ar=t,Ar}var Mr,sf;function EC(){if(sf)return Mr;sf=1;var e=Wn();function t(n){return e(this.__data__,n)>-1}return Mr=t,Mr}var Tr,uf;function SC(){if(uf)return Tr;uf=1;var e=Wn();function t(n,r){var i=this.__data__,o=e(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return Tr=t,Tr}var Pr,cf;function Xn(){if(cf)return Pr;cf=1;var e=_C(),t=xC(),n=wC(),r=EC(),i=SC();function o(a){var s=-1,u=a==null?0:a.length;for(this.clear();++s<u;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Pr=o,Pr}var kr,lf;function CC(){if(lf)return kr;lf=1;var e=Xn();function t(){this.__data__=new e,this.size=0}return kr=t,kr}var Or,ff;function NC(){if(ff)return Or;ff=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return Or=e,Or}var Lr,df;function IC(){if(df)return Lr;df=1;function e(t){return this.__data__.get(t)}return Lr=e,Lr}var Dr,hf;function qC(){if(hf)return Dr;hf=1;function e(t){return this.__data__.has(t)}return Dr=e,Dr}var jr,pf;function vy(){if(pf)return jr;pf=1;var e=typeof on=="object"&&on&&on.Object===Object&&on;return jr=e,jr}var $r,gf;function Ne(){if(gf)return $r;gf=1;var e=vy(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return $r=n,$r}var Fr,vf;function St(){if(vf)return Fr;vf=1;var e=Ne(),t=e.Symbol;return Fr=t,Fr}var Br,mf;function RC(){if(mf)return Br;mf=1;var e=St(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function o(a){var s=n.call(a,i),u=a[i];try{a[i]=void 0;var c=!0}catch{}var l=r.call(a);return c&&(s?a[i]=u:delete a[i]),l}return Br=o,Br}var Hr,yf;function AC(){if(yf)return Hr;yf=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Hr=n,Hr}var zr,bf;function ot(){if(bf)return zr;bf=1;var e=St(),t=RC(),n=AC(),r="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function a(s){return s==null?s===void 0?i:r:o&&o in Object(s)?t(s):n(s)}return zr=a,zr}var Vr,_f;function ye(){if(_f)return Vr;_f=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Vr=e,Vr}var Gr,xf;function Zt(){if(xf)return Gr;xf=1;var e=ot(),t=ye(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function a(s){if(!t(s))return!1;var u=e(s);return u==r||u==i||u==n||u==o}return Gr=a,Gr}var Ur,wf;function MC(){if(wf)return Ur;wf=1;var e=Ne(),t=e["__core-js_shared__"];return Ur=t,Ur}var Yr,Ef;function TC(){if(Ef)return Yr;Ef=1;var e=MC(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return Yr=n,Yr}var Wr,Sf;function my(){if(Sf)return Wr;Sf=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Wr=n,Wr}var Xr,Cf;function PC(){if(Cf)return Xr;Cf=1;var e=Zt(),t=TC(),n=ye(),r=my(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,a=Function.prototype,s=Object.prototype,u=a.toString,c=s.hasOwnProperty,l=RegExp("^"+u.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(f){if(!n(f)||t(f))return!1;var h=e(f)?l:o;return h.test(r(f))}return Xr=d,Xr}var Kr,Nf;function kC(){if(Nf)return Kr;Nf=1;function e(t,n){return t?.[n]}return Kr=e,Kr}var Zr,If;function at(){if(If)return Zr;If=1;var e=PC(),t=kC();function n(r,i){var o=t(r,i);return e(o)?o:void 0}return Zr=n,Zr}var Qr,qf;function Sc(){if(qf)return Qr;qf=1;var e=at(),t=Ne(),n=e(t,"Map");return Qr=n,Qr}var Jr,Rf;function Kn(){if(Rf)return Jr;Rf=1;var e=at(),t=e(Object,"create");return Jr=t,Jr}var ei,Af;function OC(){if(Af)return ei;Af=1;var e=Kn();function t(){this.__data__=e?e(null):{},this.size=0}return ei=t,ei}var ti,Mf;function LC(){if(Mf)return ti;Mf=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return ti=e,ti}var ni,Tf;function DC(){if(Tf)return ni;Tf=1;var e=Kn(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var a=this.__data__;if(e){var s=a[o];return s===t?void 0:s}return r.call(a,o)?a[o]:void 0}return ni=i,ni}var ri,Pf;function jC(){if(Pf)return ri;Pf=1;var e=Kn(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var o=this.__data__;return e?o[i]!==void 0:n.call(o,i)}return ri=r,ri}var ii,kf;function $C(){if(kf)return ii;kf=1;var e=Kn(),t="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=e&&i===void 0?t:i,this}return ii=n,ii}var oi,Of;function FC(){if(Of)return oi;Of=1;var e=OC(),t=LC(),n=DC(),r=jC(),i=$C();function o(a){var s=-1,u=a==null?0:a.length;for(this.clear();++s<u;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,oi=o,oi}var ai,Lf;function BC(){if(Lf)return ai;Lf=1;var e=FC(),t=Xn(),n=Sc();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return ai=r,ai}var si,Df;function HC(){if(Df)return si;Df=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return si=e,si}var ui,jf;function Zn(){if(jf)return ui;jf=1;var e=HC();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return ui=t,ui}var ci,$f;function zC(){if($f)return ci;$f=1;var e=Zn();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return ci=t,ci}var li,Ff;function VC(){if(Ff)return li;Ff=1;var e=Zn();function t(n){return e(this,n).get(n)}return li=t,li}var fi,Bf;function GC(){if(Bf)return fi;Bf=1;var e=Zn();function t(n){return e(this,n).has(n)}return fi=t,fi}var di,Hf;function UC(){if(Hf)return di;Hf=1;var e=Zn();function t(n,r){var i=e(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return di=t,di}var hi,zf;function Cc(){if(zf)return hi;zf=1;var e=BC(),t=zC(),n=VC(),r=GC(),i=UC();function o(a){var s=-1,u=a==null?0:a.length;for(this.clear();++s<u;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,hi=o,hi}var pi,Vf;function YC(){if(Vf)return pi;Vf=1;var e=Xn(),t=Sc(),n=Cc(),r=200;function i(o,a){var s=this.__data__;if(s instanceof e){var u=s.__data__;if(!t||u.length<r-1)return u.push([o,a]),this.size=++s.size,this;s=this.__data__=new n(u)}return s.set(o,a),this.size=s.size,this}return pi=i,pi}var gi,Gf;function Qn(){if(Gf)return gi;Gf=1;var e=Xn(),t=CC(),n=NC(),r=IC(),i=qC(),o=YC();function a(s){var u=this.__data__=new e(s);this.size=u.size}return a.prototype.clear=t,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=o,gi=a,gi}var vi,Uf;function Nc(){if(Uf)return vi;Uf=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return vi=e,vi}var mi,Yf;function yy(){if(Yf)return mi;Yf=1;var e=at(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return mi=t,mi}var yi,Wf;function Jn(){if(Wf)return yi;Wf=1;var e=yy();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return yi=t,yi}var bi,Xf;function er(){if(Xf)return bi;Xf=1;var e=Jn(),t=Et(),n=Object.prototype,r=n.hasOwnProperty;function i(o,a,s){var u=o[a];(!(r.call(o,a)&&t(u,s))||s===void 0&&!(a in o))&&e(o,a,s)}return bi=i,bi}var _i,Kf;function Qt(){if(Kf)return _i;Kf=1;var e=er(),t=Jn();function n(r,i,o,a){var s=!o;o||(o={});for(var u=-1,c=i.length;++u<c;){var l=i[u],d=a?a(o[l],r[l],l,o,r):void 0;d===void 0&&(d=r[l]),s?t(o,l,d):e(o,l,d)}return o}return _i=n,_i}var xi,Zf;function WC(){if(Zf)return xi;Zf=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return xi=e,xi}var wi,Qf;function Pe(){if(Qf)return wi;Qf=1;function e(t){return t!=null&&typeof t=="object"}return wi=e,wi}var Ei,Jf;function XC(){if(Jf)return Ei;Jf=1;var e=ot(),t=Pe(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return Ei=r,Ei}var Si,ed;function Jt(){if(ed)return Si;ed=1;var e=XC(),t=Pe(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=e(function(){return arguments}())?e:function(a){return t(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return Si=o,Si}var Ci,td;function ce(){if(td)return Ci;td=1;var e=Array.isArray;return Ci=e,Ci}var Tt={exports:{}},Ni,nd;function KC(){if(nd)return Ni;nd=1;function e(){return!1}return Ni=e,Ni}Tt.exports;var rd;function Ct(){return rd||(rd=1,function(e,t){var n=Ne(),r=KC(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a?n.Buffer:void 0,u=s?s.isBuffer:void 0,c=u||r;e.exports=c}(Tt,Tt.exports)),Tt.exports}var Ii,id;function tr(){if(id)return Ii;id=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return Ii=n,Ii}var qi,od;function Ic(){if(od)return qi;od=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return qi=t,qi}var Ri,ad;function ZC(){if(ad)return Ri;ad=1;var e=ot(),t=Ic(),n=Pe(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",a="[object Date]",s="[object Error]",u="[object Function]",c="[object Map]",l="[object Number]",d="[object Object]",f="[object RegExp]",h="[object Set]",m="[object String]",p="[object WeakMap]",v="[object ArrayBuffer]",y="[object DataView]",_="[object Float32Array]",g="[object Float64Array]",b="[object Int8Array]",x="[object Int16Array]",w="[object Int32Array]",E="[object Uint8Array]",N="[object Uint8ClampedArray]",I="[object Uint16Array]",T="[object Uint32Array]",q={};q[_]=q[g]=q[b]=q[x]=q[w]=q[E]=q[N]=q[I]=q[T]=!0,q[r]=q[i]=q[v]=q[o]=q[y]=q[a]=q[s]=q[u]=q[c]=q[l]=q[d]=q[f]=q[h]=q[m]=q[p]=!1;function P(L){return n(L)&&t(L.length)&&!!q[e(L)]}return Ri=P,Ri}var Ai,sd;function nr(){if(sd)return Ai;sd=1;function e(t){return function(n){return t(n)}}return Ai=e,Ai}var Pt={exports:{}};Pt.exports;var ud;function qc(){return ud||(ud=1,function(e,t){var n=vy(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var u=i&&i.require&&i.require("util").types;return u||a&&a.binding&&a.binding("util")}catch{}}();e.exports=s}(Pt,Pt.exports)),Pt.exports}var Mi,cd;function en(){if(cd)return Mi;cd=1;var e=ZC(),t=nr(),n=qc(),r=n&&n.isTypedArray,i=r?t(r):e;return Mi=i,Mi}var Ti,ld;function by(){if(ld)return Ti;ld=1;var e=WC(),t=Jt(),n=ce(),r=Ct(),i=tr(),o=en(),a=Object.prototype,s=a.hasOwnProperty;function u(c,l){var d=n(c),f=!d&&t(c),h=!d&&!f&&r(c),m=!d&&!f&&!h&&o(c),p=d||f||h||m,v=p?e(c.length,String):[],y=v.length;for(var _ in c)(l||s.call(c,_))&&!(p&&(_=="length"||h&&(_=="offset"||_=="parent")||m&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||i(_,y)))&&v.push(_);return v}return Ti=u,Ti}var Pi,fd;function rr(){if(fd)return Pi;fd=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return Pi=t,Pi}var ki,dd;function _y(){if(dd)return ki;dd=1;function e(t,n){return function(r){return t(n(r))}}return ki=e,ki}var Oi,hd;function QC(){if(hd)return Oi;hd=1;var e=_y(),t=e(Object.keys,Object);return Oi=t,Oi}var Li,pd;function Rc(){if(pd)return Li;pd=1;var e=rr(),t=QC(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!e(o))return t(o);var a=[];for(var s in Object(o))r.call(o,s)&&s!="constructor"&&a.push(s);return a}return Li=i,Li}var Di,gd;function He(){if(gd)return Di;gd=1;var e=Zt(),t=Ic();function n(r){return r!=null&&t(r.length)&&!e(r)}return Di=n,Di}var ji,vd;function Ze(){if(vd)return ji;vd=1;var e=by(),t=Rc(),n=He();function r(i){return n(i)?e(i):t(i)}return ji=r,ji}var $i,md;function JC(){if(md)return $i;md=1;var e=Qt(),t=Ze();function n(r,i){return r&&e(i,t(i),r)}return $i=n,$i}var Fi,yd;function eN(){if(yd)return Fi;yd=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return Fi=e,Fi}var Bi,bd;function tN(){if(bd)return Bi;bd=1;var e=ye(),t=rr(),n=eN(),r=Object.prototype,i=r.hasOwnProperty;function o(a){if(!e(a))return n(a);var s=t(a),u=[];for(var c in a)c=="constructor"&&(s||!i.call(a,c))||u.push(c);return u}return Bi=o,Bi}var Hi,_d;function st(){if(_d)return Hi;_d=1;var e=by(),t=tN(),n=He();function r(i){return n(i)?e(i,!0):t(i)}return Hi=r,Hi}var zi,xd;function nN(){if(xd)return zi;xd=1;var e=Qt(),t=st();function n(r,i){return r&&e(i,t(i),r)}return zi=n,zi}var kt={exports:{}};kt.exports;var wd;function xy(){return wd||(wd=1,function(e,t){var n=Ne(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;function u(c,l){if(l)return c.slice();var d=c.length,f=s?s(d):new c.constructor(d);return c.copy(f),f}e.exports=u}(kt,kt.exports)),kt.exports}var Vi,Ed;function wy(){if(Ed)return Vi;Ed=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return Vi=e,Vi}var Gi,Sd;function Ey(){if(Sd)return Gi;Sd=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=0,a=[];++r<i;){var s=t[r];n(s,r,t)&&(a[o++]=s)}return a}return Gi=e,Gi}var Ui,Cd;function Sy(){if(Cd)return Ui;Cd=1;function e(){return[]}return Ui=e,Ui}var Yi,Nd;function Ac(){if(Nd)return Yi;Nd=1;var e=Ey(),t=Sy(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(a){return a==null?[]:(a=Object(a),e(i(a),function(s){return r.call(a,s)}))}:t;return Yi=o,Yi}var Wi,Id;function rN(){if(Id)return Wi;Id=1;var e=Qt(),t=Ac();function n(r,i){return e(r,t(r),i)}return Wi=n,Wi}var Xi,qd;function Mc(){if(qd)return Xi;qd=1;function e(t,n){for(var r=-1,i=n.length,o=t.length;++r<i;)t[o+r]=n[r];return t}return Xi=e,Xi}var Ki,Rd;function ir(){if(Rd)return Ki;Rd=1;var e=_y(),t=e(Object.getPrototypeOf,Object);return Ki=t,Ki}var Zi,Ad;function Cy(){if(Ad)return Zi;Ad=1;var e=Mc(),t=ir(),n=Ac(),r=Sy(),i=Object.getOwnPropertySymbols,o=i?function(a){for(var s=[];a;)e(s,n(a)),a=t(a);return s}:r;return Zi=o,Zi}var Qi,Md;function iN(){if(Md)return Qi;Md=1;var e=Qt(),t=Cy();function n(r,i){return e(r,t(r),i)}return Qi=n,Qi}var Ji,Td;function Ny(){if(Td)return Ji;Td=1;var e=Mc(),t=ce();function n(r,i,o){var a=i(r);return t(r)?a:e(a,o(r))}return Ji=n,Ji}var eo,Pd;function Iy(){if(Pd)return eo;Pd=1;var e=Ny(),t=Ac(),n=Ze();function r(i){return e(i,n,t)}return eo=r,eo}var to,kd;function oN(){if(kd)return to;kd=1;var e=Ny(),t=Cy(),n=st();function r(i){return e(i,n,t)}return to=r,to}var no,Od;function aN(){if(Od)return no;Od=1;var e=at(),t=Ne(),n=e(t,"DataView");return no=n,no}var ro,Ld;function sN(){if(Ld)return ro;Ld=1;var e=at(),t=Ne(),n=e(t,"Promise");return ro=n,ro}var io,Dd;function qy(){if(Dd)return io;Dd=1;var e=at(),t=Ne(),n=e(t,"Set");return io=n,io}var oo,jd;function uN(){if(jd)return oo;jd=1;var e=at(),t=Ne(),n=e(t,"WeakMap");return oo=n,oo}var ao,$d;function Nt(){if($d)return ao;$d=1;var e=aN(),t=Sc(),n=sN(),r=qy(),i=uN(),o=ot(),a=my(),s="[object Map]",u="[object Object]",c="[object Promise]",l="[object Set]",d="[object WeakMap]",f="[object DataView]",h=a(e),m=a(t),p=a(n),v=a(r),y=a(i),_=o;return(e&&_(new e(new ArrayBuffer(1)))!=f||t&&_(new t)!=s||n&&_(n.resolve())!=c||r&&_(new r)!=l||i&&_(new i)!=d)&&(_=function(g){var b=o(g),x=b==u?g.constructor:void 0,w=x?a(x):"";if(w)switch(w){case h:return f;case m:return s;case p:return c;case v:return l;case y:return d}return b}),ao=_,ao}var so,Fd;function cN(){if(Fd)return so;Fd=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return so=n,so}var uo,Bd;function Ry(){if(Bd)return uo;Bd=1;var e=Ne(),t=e.Uint8Array;return uo=t,uo}var co,Hd;function Tc(){if(Hd)return co;Hd=1;var e=Ry();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return co=t,co}var lo,zd;function lN(){if(zd)return lo;zd=1;var e=Tc();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return lo=t,lo}var fo,Vd;function fN(){if(Vd)return fo;Vd=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return fo=t,fo}var ho,Gd;function dN(){if(Gd)return ho;Gd=1;var e=St(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return ho=r,ho}var po,Ud;function Ay(){if(Ud)return po;Ud=1;var e=Tc();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return po=t,po}var go,Yd;function hN(){if(Yd)return go;Yd=1;var e=Tc(),t=lN(),n=fN(),r=dN(),i=Ay(),o="[object Boolean]",a="[object Date]",s="[object Map]",u="[object Number]",c="[object RegExp]",l="[object Set]",d="[object String]",f="[object Symbol]",h="[object ArrayBuffer]",m="[object DataView]",p="[object Float32Array]",v="[object Float64Array]",y="[object Int8Array]",_="[object Int16Array]",g="[object Int32Array]",b="[object Uint8Array]",x="[object Uint8ClampedArray]",w="[object Uint16Array]",E="[object Uint32Array]";function N(I,T,q){var P=I.constructor;switch(T){case h:return e(I);case o:case a:return new P(+I);case m:return t(I,q);case p:case v:case y:case _:case g:case b:case x:case w:case E:return i(I,q);case s:return new P;case u:case d:return new P(I);case c:return n(I);case l:return new P;case f:return r(I)}}return go=N,go}var vo,Wd;function My(){if(Wd)return vo;Wd=1;var e=ye(),t=Object.create,n=function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var o=new r;return r.prototype=void 0,o}}();return vo=n,vo}var mo,Xd;function Ty(){if(Xd)return mo;Xd=1;var e=My(),t=ir(),n=rr();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return mo=r,mo}var yo,Kd;function pN(){if(Kd)return yo;Kd=1;var e=Nt(),t=Pe(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return yo=r,yo}var bo,Zd;function gN(){if(Zd)return bo;Zd=1;var e=pN(),t=nr(),n=qc(),r=n&&n.isMap,i=r?t(r):e;return bo=i,bo}var _o,Qd;function vN(){if(Qd)return _o;Qd=1;var e=Nt(),t=Pe(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return _o=r,_o}var xo,Jd;function mN(){if(Jd)return xo;Jd=1;var e=vN(),t=nr(),n=qc(),r=n&&n.isSet,i=r?t(r):e;return xo=i,xo}var wo,eh;function Py(){if(eh)return wo;eh=1;var e=Qn(),t=Nc(),n=er(),r=JC(),i=nN(),o=xy(),a=wy(),s=rN(),u=iN(),c=Iy(),l=oN(),d=Nt(),f=cN(),h=hN(),m=Ty(),p=ce(),v=Ct(),y=gN(),_=ye(),g=mN(),b=Ze(),x=st(),w=1,E=2,N=4,I="[object Arguments]",T="[object Array]",q="[object Boolean]",P="[object Date]",L="[object Error]",S="[object Function]",R="[object GeneratorFunction]",M="[object Map]",k="[object Number]",F="[object Object]",$="[object RegExp]",H="[object Set]",z="[object String]",G="[object Symbol]",Y="[object WeakMap]",A="[object ArrayBuffer]",O="[object DataView]",D="[object Float32Array]",B="[object Float64Array]",V="[object Int8Array]",U="[object Int16Array]",Z="[object Int32Array]",ee="[object Uint8Array]",Q="[object Uint8ClampedArray]",J="[object Uint16Array]",W="[object Uint32Array]",X={};X[I]=X[T]=X[A]=X[O]=X[q]=X[P]=X[D]=X[B]=X[V]=X[U]=X[Z]=X[M]=X[k]=X[F]=X[$]=X[H]=X[z]=X[G]=X[ee]=X[Q]=X[J]=X[W]=!0,X[L]=X[S]=X[Y]=!1;function ae(te,he,_e,ct,ke,le){var se,Ve=he&w,Oe=he&E,Ge=he&N;if(_e&&(se=ke?_e(te,ct,ke,le):_e(te)),se!==void 0)return se;if(!_(te))return te;var Ue=p(te);if(Ue){if(se=f(te),!Ve)return a(te,se)}else{var Le=d(te),nn=Le==S||Le==R;if(v(te))return o(te,Ve);if(Le==F||Le==I||nn&&!ke){if(se=Oe||nn?{}:m(te),!Ve)return Oe?u(te,i(se,te)):s(te,r(se,te))}else{if(!X[Le])return ke?te:{};se=h(te,Le,Ve)}}le||(le=new e);var lt=le.get(te);if(lt)return lt;le.set(te,se),g(te)?te.forEach(function(Ie){se.add(ae(Ie,he,_e,Ie,te,le))}):y(te)&&te.forEach(function(Ie,De){se.set(De,ae(Ie,he,_e,De,te,le))});var fr=Ge?Oe?l:c:Oe?x:b,rn=Ue?void 0:fr(te);return t(rn||te,function(Ie,De){rn&&(De=Ie,Ie=te[De]),n(se,De,ae(Ie,he,_e,De,te,le))}),se}return wo=ae,wo}var Eo,th;function yN(){if(th)return Eo;th=1;var e=Py(),t=4;function n(r){return e(r,t)}return Eo=n,Eo}var So,nh;function Pc(){if(nh)return So;nh=1;function e(t){return function(){return t}}return So=e,So}var Co,rh;function bN(){if(rh)return Co;rh=1;function e(t){return function(n,r,i){for(var o=-1,a=Object(n),s=i(n),u=s.length;u--;){var c=s[t?u:++o];if(r(a[c],c,a)===!1)break}return n}}return Co=e,Co}var No,ih;function kc(){if(ih)return No;ih=1;var e=bN(),t=e();return No=t,No}var Io,oh;function Oc(){if(oh)return Io;oh=1;var e=kc(),t=Ze();function n(r,i){return r&&e(r,i,t)}return Io=n,Io}var qo,ah;function _N(){if(ah)return qo;ah=1;var e=He();function t(n,r){return function(i,o){if(i==null)return i;if(!e(i))return n(i,o);for(var a=i.length,s=r?a:-1,u=Object(i);(r?s--:++s<a)&&o(u[s],s,u)!==!1;);return i}}return qo=t,qo}var Ro,sh;function or(){if(sh)return Ro;sh=1;var e=Oc(),t=_N(),n=t(e);return Ro=n,Ro}var Ao,uh;function ut(){if(uh)return Ao;uh=1;function e(t){return t}return Ao=e,Ao}var Mo,ch;function ky(){if(ch)return Mo;ch=1;var e=ut();function t(n){return typeof n=="function"?n:e}return Mo=t,Mo}var To,lh;function Oy(){if(lh)return To;lh=1;var e=Nc(),t=or(),n=ky(),r=ce();function i(o,a){var s=r(o)?e:t;return s(o,n(a))}return To=i,To}var Po,fh;function Ly(){return fh||(fh=1,Po=Oy()),Po}var ko,dh;function xN(){if(dh)return ko;dh=1;var e=or();function t(n,r){var i=[];return e(n,function(o,a,s){r(o,a,s)&&i.push(o)}),i}return ko=t,ko}var Oo,hh;function wN(){if(hh)return Oo;hh=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return Oo=t,Oo}var Lo,ph;function EN(){if(ph)return Lo;ph=1;function e(t){return this.__data__.has(t)}return Lo=e,Lo}var Do,gh;function Dy(){if(gh)return Do;gh=1;var e=Cc(),t=wN(),n=EN();function r(i){var o=-1,a=i==null?0:i.length;for(this.__data__=new e;++o<a;)this.add(i[o])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,Do=r,Do}var jo,vh;function SN(){if(vh)return jo;vh=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return jo=e,jo}var $o,mh;function jy(){if(mh)return $o;mh=1;function e(t,n){return t.has(n)}return $o=e,$o}var Fo,yh;function $y(){if(yh)return Fo;yh=1;var e=Dy(),t=SN(),n=jy(),r=1,i=2;function o(a,s,u,c,l,d){var f=u&r,h=a.length,m=s.length;if(h!=m&&!(f&&m>h))return!1;var p=d.get(a),v=d.get(s);if(p&&v)return p==s&&v==a;var y=-1,_=!0,g=u&i?new e:void 0;for(d.set(a,s),d.set(s,a);++y<h;){var b=a[y],x=s[y];if(c)var w=f?c(x,b,y,s,a,d):c(b,x,y,a,s,d);if(w!==void 0){if(w)continue;_=!1;break}if(g){if(!t(s,function(E,N){if(!n(g,N)&&(b===E||l(b,E,u,c,d)))return g.push(N)})){_=!1;break}}else if(!(b===x||l(b,x,u,c,d))){_=!1;break}}return d.delete(a),d.delete(s),_}return Fo=o,Fo}var Bo,bh;function CN(){if(bh)return Bo;bh=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,o){r[++n]=[o,i]}),r}return Bo=e,Bo}var Ho,_h;function Lc(){if(_h)return Ho;_h=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return Ho=e,Ho}var zo,xh;function NN(){if(xh)return zo;xh=1;var e=St(),t=Ry(),n=Et(),r=$y(),i=CN(),o=Lc(),a=1,s=2,u="[object Boolean]",c="[object Date]",l="[object Error]",d="[object Map]",f="[object Number]",h="[object RegExp]",m="[object Set]",p="[object String]",v="[object Symbol]",y="[object ArrayBuffer]",_="[object DataView]",g=e?e.prototype:void 0,b=g?g.valueOf:void 0;function x(w,E,N,I,T,q,P){switch(N){case _:if(w.byteLength!=E.byteLength||w.byteOffset!=E.byteOffset)return!1;w=w.buffer,E=E.buffer;case y:return!(w.byteLength!=E.byteLength||!q(new t(w),new t(E)));case u:case c:case f:return n(+w,+E);case l:return w.name==E.name&&w.message==E.message;case h:case p:return w==E+"";case d:var L=i;case m:var S=I&a;if(L||(L=o),w.size!=E.size&&!S)return!1;var R=P.get(w);if(R)return R==E;I|=s,P.set(w,E);var M=r(L(w),L(E),I,T,q,P);return P.delete(w),M;case v:if(b)return b.call(w)==b.call(E)}return!1}return zo=x,zo}var Vo,wh;function IN(){if(wh)return Vo;wh=1;var e=Iy(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,a,s,u,c,l){var d=s&t,f=e(o),h=f.length,m=e(a),p=m.length;if(h!=p&&!d)return!1;for(var v=h;v--;){var y=f[v];if(!(d?y in a:r.call(a,y)))return!1}var _=l.get(o),g=l.get(a);if(_&&g)return _==a&&g==o;var b=!0;l.set(o,a),l.set(a,o);for(var x=d;++v<h;){y=f[v];var w=o[y],E=a[y];if(u)var N=d?u(E,w,y,a,o,l):u(w,E,y,o,a,l);if(!(N===void 0?w===E||c(w,E,s,u,l):N)){b=!1;break}x||(x=y=="constructor")}if(b&&!x){var I=o.constructor,T=a.constructor;I!=T&&"constructor"in o&&"constructor"in a&&!(typeof I=="function"&&I instanceof I&&typeof T=="function"&&T instanceof T)&&(b=!1)}return l.delete(o),l.delete(a),b}return Vo=i,Vo}var Go,Eh;function qN(){if(Eh)return Go;Eh=1;var e=Qn(),t=$y(),n=NN(),r=IN(),i=Nt(),o=ce(),a=Ct(),s=en(),u=1,c="[object Arguments]",l="[object Array]",d="[object Object]",f=Object.prototype,h=f.hasOwnProperty;function m(p,v,y,_,g,b){var x=o(p),w=o(v),E=x?l:i(p),N=w?l:i(v);E=E==c?d:E,N=N==c?d:N;var I=E==d,T=N==d,q=E==N;if(q&&a(p)){if(!a(v))return!1;x=!0,I=!1}if(q&&!I)return b||(b=new e),x||s(p)?t(p,v,y,_,g,b):n(p,v,E,y,_,g,b);if(!(y&u)){var P=I&&h.call(p,"__wrapped__"),L=T&&h.call(v,"__wrapped__");if(P||L){var S=P?p.value():p,R=L?v.value():v;return b||(b=new e),g(S,R,y,_,b)}}return q?(b||(b=new e),r(p,v,y,_,g,b)):!1}return Go=m,Go}var Uo,Sh;function Fy(){if(Sh)return Uo;Sh=1;var e=qN(),t=Pe();function n(r,i,o,a,s){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,o,a,n,s)}return Uo=n,Uo}var Yo,Ch;function RN(){if(Ch)return Yo;Ch=1;var e=Qn(),t=Fy(),n=1,r=2;function i(o,a,s,u){var c=s.length,l=c,d=!u;if(o==null)return!l;for(o=Object(o);c--;){var f=s[c];if(d&&f[2]?f[1]!==o[f[0]]:!(f[0]in o))return!1}for(;++c<l;){f=s[c];var h=f[0],m=o[h],p=f[1];if(d&&f[2]){if(m===void 0&&!(h in o))return!1}else{var v=new e;if(u)var y=u(m,p,h,o,a,v);if(!(y===void 0?t(p,m,n|r,u,v):y))return!1}}return!0}return Yo=i,Yo}var Wo,Nh;function By(){if(Nh)return Wo;Nh=1;var e=ye();function t(n){return n===n&&!e(n)}return Wo=t,Wo}var Xo,Ih;function AN(){if(Ih)return Xo;Ih=1;var e=By(),t=Ze();function n(r){for(var i=t(r),o=i.length;o--;){var a=i[o],s=r[a];i[o]=[a,s,e(s)]}return i}return Xo=n,Xo}var Ko,qh;function Hy(){if(qh)return Ko;qh=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return Ko=e,Ko}var Zo,Rh;function MN(){if(Rh)return Zo;Rh=1;var e=RN(),t=AN(),n=Hy();function r(i){var o=t(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(a){return a===i||e(a,i,o)}}return Zo=r,Zo}var Qo,Ah;function It(){if(Ah)return Qo;Ah=1;var e=ot(),t=Pe(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return Qo=r,Qo}var Jo,Mh;function Dc(){if(Mh)return Jo;Mh=1;var e=ce(),t=It(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){if(e(o))return!1;var s=typeof o;return s=="number"||s=="symbol"||s=="boolean"||o==null||t(o)?!0:r.test(o)||!n.test(o)||a!=null&&o in Object(a)}return Jo=i,Jo}var ea,Th;function TN(){if(Th)return ea;Th=1;var e=Cc(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var a=arguments,s=i?i.apply(this,a):a[0],u=o.cache;if(u.has(s))return u.get(s);var c=r.apply(this,a);return o.cache=u.set(s,c)||u,c};return o.cache=new(n.Cache||e),o}return n.Cache=e,ea=n,ea}var ta,Ph;function PN(){if(Ph)return ta;Ph=1;var e=TN(),t=500;function n(r){var i=e(r,function(a){return o.size===t&&o.clear(),a}),o=i.cache;return i}return ta=n,ta}var na,kh;function kN(){if(kh)return na;kh=1;var e=PN(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(a,s,u,c){o.push(u?c.replace(n,"$1"):s||a)}),o});return na=r,na}var ra,Oh;function ar(){if(Oh)return ra;Oh=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=Array(i);++r<i;)o[r]=n(t[r],r,t);return o}return ra=e,ra}var ia,Lh;function ON(){if(Lh)return ia;Lh=1;var e=St(),t=ar(),n=ce(),r=It(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function a(s){if(typeof s=="string")return s;if(n(s))return t(s,a)+"";if(r(s))return o?o.call(s):"";var u=s+"";return u=="0"&&1/s==-1/0?"-0":u}return ia=a,ia}var oa,Dh;function zy(){if(Dh)return oa;Dh=1;var e=ON();function t(n){return n==null?"":e(n)}return oa=t,oa}var aa,jh;function sr(){if(jh)return aa;jh=1;var e=ce(),t=Dc(),n=kN(),r=zy();function i(o,a){return e(o)?o:t(o,a)?[o]:n(r(o))}return aa=i,aa}var sa,$h;function tn(){if($h)return sa;$h=1;var e=It();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return sa=t,sa}var ua,Fh;function ur(){if(Fh)return ua;Fh=1;var e=sr(),t=tn();function n(r,i){i=e(i,r);for(var o=0,a=i.length;r!=null&&o<a;)r=r[t(i[o++])];return o&&o==a?r:void 0}return ua=n,ua}var ca,Bh;function LN(){if(Bh)return ca;Bh=1;var e=ur();function t(n,r,i){var o=n==null?void 0:e(n,r);return o===void 0?i:o}return ca=t,ca}var la,Hh;function DN(){if(Hh)return la;Hh=1;function e(t,n){return t!=null&&n in Object(t)}return la=e,la}var fa,zh;function Vy(){if(zh)return fa;zh=1;var e=sr(),t=Jt(),n=ce(),r=tr(),i=Ic(),o=tn();function a(s,u,c){u=e(u,s);for(var l=-1,d=u.length,f=!1;++l<d;){var h=o(u[l]);if(!(f=s!=null&&c(s,h)))break;s=s[h]}return f||++l!=d?f:(d=s==null?0:s.length,!!d&&i(d)&&r(h,d)&&(n(s)||t(s)))}return fa=a,fa}var da,Vh;function Gy(){if(Vh)return da;Vh=1;var e=DN(),t=Vy();function n(r,i){return r!=null&&t(r,i,e)}return da=n,da}var ha,Gh;function jN(){if(Gh)return ha;Gh=1;var e=Fy(),t=LN(),n=Gy(),r=Dc(),i=By(),o=Hy(),a=tn(),s=1,u=2;function c(l,d){return r(l)&&i(d)?o(a(l),d):function(f){var h=t(f,l);return h===void 0&&h===d?n(f,l):e(d,h,s|u)}}return ha=c,ha}var pa,Uh;function Uy(){if(Uh)return pa;Uh=1;function e(t){return function(n){return n?.[t]}}return pa=e,pa}var ga,Yh;function $N(){if(Yh)return ga;Yh=1;var e=ur();function t(n){return function(r){return e(r,n)}}return ga=t,ga}var va,Wh;function FN(){if(Wh)return va;Wh=1;var e=Uy(),t=$N(),n=Dc(),r=tn();function i(o){return n(o)?e(r(o)):t(o)}return va=i,va}var ma,Xh;function ze(){if(Xh)return ma;Xh=1;var e=MN(),t=jN(),n=ut(),r=ce(),i=FN();function o(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?t(a[0],a[1]):e(a):i(a)}return ma=o,ma}var ya,Kh;function Yy(){if(Kh)return ya;Kh=1;var e=Ey(),t=xN(),n=ze(),r=ce();function i(o,a){var s=r(o)?e:t;return s(o,n(a,3))}return ya=i,ya}var ba,Zh;function BN(){if(Zh)return ba;Zh=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,i){return r!=null&&t.call(r,i)}return ba=n,ba}var _a,Qh;function Wy(){if(Qh)return _a;Qh=1;var e=BN(),t=Vy();function n(r,i){return r!=null&&t(r,i,e)}return _a=n,_a}var xa,Jh;function HN(){if(Jh)return xa;Jh=1;var e=Rc(),t=Nt(),n=Jt(),r=ce(),i=He(),o=Ct(),a=rr(),s=en(),u="[object Map]",c="[object Set]",l=Object.prototype,d=l.hasOwnProperty;function f(h){if(h==null)return!0;if(i(h)&&(r(h)||typeof h=="string"||typeof h.splice=="function"||o(h)||s(h)||n(h)))return!h.length;var m=t(h);if(m==u||m==c)return!h.size;if(a(h))return!e(h).length;for(var p in h)if(d.call(h,p))return!1;return!0}return xa=f,xa}var wa,ep;function Xy(){if(ep)return wa;ep=1;function e(t){return t===void 0}return wa=e,wa}var Ea,tp;function Ky(){if(tp)return Ea;tp=1;var e=or(),t=He();function n(r,i){var o=-1,a=t(r)?Array(r.length):[];return e(r,function(s,u,c){a[++o]=i(s,u,c)}),a}return Ea=n,Ea}var Sa,np;function Zy(){if(np)return Sa;np=1;var e=ar(),t=ze(),n=Ky(),r=ce();function i(o,a){var s=r(o)?e:n;return s(o,t(a,3))}return Sa=i,Sa}var Ca,rp;function zN(){if(rp)return Ca;rp=1;function e(t,n,r,i){var o=-1,a=t==null?0:t.length;for(i&&a&&(r=t[++o]);++o<a;)r=n(r,t[o],o,t);return r}return Ca=e,Ca}var Na,ip;function VN(){if(ip)return Na;ip=1;function e(t,n,r,i,o){return o(t,function(a,s,u){r=i?(i=!1,a):n(r,a,s,u)}),r}return Na=e,Na}var Ia,op;function Qy(){if(op)return Ia;op=1;var e=zN(),t=or(),n=ze(),r=VN(),i=ce();function o(a,s,u){var c=i(a)?e:r,l=arguments.length<3;return c(a,n(s,4),u,l,t)}return Ia=o,Ia}var qa,ap;function GN(){if(ap)return qa;ap=1;var e=ot(),t=ce(),n=Pe(),r="[object String]";function i(o){return typeof o=="string"||!t(o)&&n(o)&&e(o)==r}return qa=i,qa}var Ra,sp;function UN(){if(sp)return Ra;sp=1;var e=Uy(),t=e("length");return Ra=t,Ra}var Aa,up;function YN(){if(up)return Aa;up=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",a="\\u200d",s=RegExp("["+a+e+i+o+"]");function u(c){return s.test(c)}return Aa=u,Aa}var Ma,cp;function WN(){if(cp)return Ma;cp=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",a="["+e+"]",s="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",c="(?:"+s+"|"+u+")",l="[^"+e+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",m=c+"?",p="["+o+"]?",v="(?:"+h+"(?:"+[l,d,f].join("|")+")"+p+m+")*",y=p+m+v,_="(?:"+[l+s+"?",s,d,f,a].join("|")+")",g=RegExp(u+"(?="+u+")|"+_+y,"g");function b(x){for(var w=g.lastIndex=0;g.test(x);)++w;return w}return Ma=b,Ma}var Ta,lp;function XN(){if(lp)return Ta;lp=1;var e=UN(),t=YN(),n=WN();function r(i){return t(i)?n(i):e(i)}return Ta=r,Ta}var Pa,fp;function KN(){if(fp)return Pa;fp=1;var e=Rc(),t=Nt(),n=He(),r=GN(),i=XN(),o="[object Map]",a="[object Set]";function s(u){if(u==null)return 0;if(n(u))return r(u)?i(u):u.length;var c=t(u);return c==o||c==a?u.size:e(u).length}return Pa=s,Pa}var ka,dp;function ZN(){if(dp)return ka;dp=1;var e=Nc(),t=My(),n=Oc(),r=ze(),i=ir(),o=ce(),a=Ct(),s=Zt(),u=ye(),c=en();function l(d,f,h){var m=o(d),p=m||a(d)||c(d);if(f=r(f,4),h==null){var v=d&&d.constructor;p?h=m?new v:[]:u(d)?h=s(v)?t(i(d)):{}:h={}}return(p?e:n)(d,function(y,_,g){return f(h,y,_,g)}),h}return ka=l,ka}var Oa,hp;function QN(){if(hp)return Oa;hp=1;var e=St(),t=Jt(),n=ce(),r=e?e.isConcatSpreadable:void 0;function i(o){return n(o)||t(o)||!!(r&&o&&o[r])}return Oa=i,Oa}var La,pp;function jc(){if(pp)return La;pp=1;var e=Mc(),t=QN();function n(r,i,o,a,s){var u=-1,c=r.length;for(o||(o=t),s||(s=[]);++u<c;){var l=r[u];i>0&&o(l)?i>1?n(l,i-1,o,a,s):e(s,l):a||(s[s.length]=l)}return s}return La=n,La}var Da,gp;function JN(){if(gp)return Da;gp=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return Da=e,Da}var ja,vp;function Jy(){if(vp)return ja;vp=1;var e=JN(),t=Math.max;function n(r,i,o){return i=t(i===void 0?r.length-1:i,0),function(){for(var a=arguments,s=-1,u=t(a.length-i,0),c=Array(u);++s<u;)c[s]=a[i+s];s=-1;for(var l=Array(i+1);++s<i;)l[s]=a[s];return l[i]=o(c),e(r,this,l)}}return ja=n,ja}var $a,mp;function eI(){if(mp)return $a;mp=1;var e=Pc(),t=yy(),n=ut(),r=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:n;return $a=r,$a}var Fa,yp;function tI(){if(yp)return Fa;yp=1;var e=800,t=16,n=Date.now;function r(i){var o=0,a=0;return function(){var s=n(),u=t-(s-a);if(a=s,u>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return Fa=r,Fa}var Ba,bp;function e0(){if(bp)return Ba;bp=1;var e=eI(),t=tI(),n=t(e);return Ba=n,Ba}var Ha,_p;function cr(){if(_p)return Ha;_p=1;var e=ut(),t=Jy(),n=e0();function r(i,o){return n(t(i,o,e),i+"")}return Ha=r,Ha}var za,xp;function t0(){if(xp)return za;xp=1;function e(t,n,r,i){for(var o=t.length,a=r+(i?1:-1);i?a--:++a<o;)if(n(t[a],a,t))return a;return-1}return za=e,za}var Va,wp;function nI(){if(wp)return Va;wp=1;function e(t){return t!==t}return Va=e,Va}var Ga,Ep;function rI(){if(Ep)return Ga;Ep=1;function e(t,n,r){for(var i=r-1,o=t.length;++i<o;)if(t[i]===n)return i;return-1}return Ga=e,Ga}var Ua,Sp;function iI(){if(Sp)return Ua;Sp=1;var e=t0(),t=nI(),n=rI();function r(i,o,a){return o===o?n(i,o,a):e(i,t,a)}return Ua=r,Ua}var Ya,Cp;function oI(){if(Cp)return Ya;Cp=1;var e=iI();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return Ya=t,Ya}var Wa,Np;function aI(){if(Np)return Wa;Np=1;function e(t,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;)if(r(n,t[i]))return!0;return!1}return Wa=e,Wa}var Xa,Ip;function sI(){if(Ip)return Xa;Ip=1;function e(){}return Xa=e,Xa}var Ka,qp;function uI(){if(qp)return Ka;qp=1;var e=qy(),t=sI(),n=Lc(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(o){return new e(o)}:t;return Ka=i,Ka}var Za,Rp;function cI(){if(Rp)return Za;Rp=1;var e=Dy(),t=oI(),n=aI(),r=jy(),i=uI(),o=Lc(),a=200;function s(u,c,l){var d=-1,f=t,h=u.length,m=!0,p=[],v=p;if(l)m=!1,f=n;else if(h>=a){var y=c?null:i(u);if(y)return o(y);m=!1,f=r,v=new e}else v=c?[]:p;e:for(;++d<h;){var _=u[d],g=c?c(_):_;if(_=l||_!==0?_:0,m&&g===g){for(var b=v.length;b--;)if(v[b]===g)continue e;c&&v.push(g),p.push(_)}else f(v,g,l)||(v!==p&&v.push(g),p.push(_))}return p}return Za=s,Za}var Qa,Ap;function n0(){if(Ap)return Qa;Ap=1;var e=He(),t=Pe();function n(r){return t(r)&&e(r)}return Qa=n,Qa}var Ja,Mp;function lI(){if(Mp)return Ja;Mp=1;var e=jc(),t=cr(),n=cI(),r=n0(),i=t(function(o){return n(e(o,1,r,!0))});return Ja=i,Ja}var es,Tp;function fI(){if(Tp)return es;Tp=1;var e=ar();function t(n,r){return e(r,function(i){return n[i]})}return es=t,es}var ts,Pp;function r0(){if(Pp)return ts;Pp=1;var e=fI(),t=Ze();function n(r){return r==null?[]:e(r,t(r))}return ts=n,ts}var ns,kp;function be(){if(kp)return ns;kp=1;var e;if(typeof Ec=="function")try{e={clone:yN(),constant:Pc(),each:Ly(),filter:Yy(),has:Wy(),isArray:ce(),isEmpty:HN(),isFunction:Zt(),isUndefined:Xy(),keys:Ze(),map:Zy(),reduce:Qy(),size:KN(),transform:ZN(),union:lI(),values:r0()}}catch{}return e||(e=window._),ns=e,ns}var rs,Op;function $c(){if(Op)return rs;Op=1;var e=be();rs=i;var t="\0",n="\0",r="";function i(l){this._isDirected=e.has(l,"directed")?l.directed:!0,this._isMultigraph=e.has(l,"multigraph")?l.multigraph:!1,this._isCompound=e.has(l,"compound")?l.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(l){return this._label=l,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(l){return e.isFunction(l)||(l=e.constant(l)),this._defaultNodeLabelFn=l,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var l=this;return e.filter(this.nodes(),function(d){return e.isEmpty(l._in[d])})},i.prototype.sinks=function(){var l=this;return e.filter(this.nodes(),function(d){return e.isEmpty(l._out[d])})},i.prototype.setNodes=function(l,d){var f=arguments,h=this;return e.each(l,function(m){f.length>1?h.setNode(m,d):h.setNode(m)}),this},i.prototype.setNode=function(l,d){return e.has(this._nodes,l)?(arguments.length>1&&(this._nodes[l]=d),this):(this._nodes[l]=arguments.length>1?d:this._defaultNodeLabelFn(l),this._isCompound&&(this._parent[l]=n,this._children[l]={},this._children[n][l]=!0),this._in[l]={},this._preds[l]={},this._out[l]={},this._sucs[l]={},++this._nodeCount,this)},i.prototype.node=function(l){return this._nodes[l]},i.prototype.hasNode=function(l){return e.has(this._nodes,l)},i.prototype.removeNode=function(l){var d=this;if(e.has(this._nodes,l)){var f=function(h){d.removeEdge(d._edgeObjs[h])};delete this._nodes[l],this._isCompound&&(this._removeFromParentsChildList(l),delete this._parent[l],e.each(this.children(l),function(h){d.setParent(h)}),delete this._children[l]),e.each(e.keys(this._in[l]),f),delete this._in[l],delete this._preds[l],e.each(e.keys(this._out[l]),f),delete this._out[l],delete this._sucs[l],--this._nodeCount}return this},i.prototype.setParent=function(l,d){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(d))d=n;else{d+="";for(var f=d;!e.isUndefined(f);f=this.parent(f))if(f===l)throw new Error("Setting "+d+" as parent of "+l+" would create a cycle");this.setNode(d)}return this.setNode(l),this._removeFromParentsChildList(l),this._parent[l]=d,this._children[d][l]=!0,this},i.prototype._removeFromParentsChildList=function(l){delete this._children[this._parent[l]][l]},i.prototype.parent=function(l){if(this._isCompound){var d=this._parent[l];if(d!==n)return d}},i.prototype.children=function(l){if(e.isUndefined(l)&&(l=n),this._isCompound){var d=this._children[l];if(d)return e.keys(d)}else{if(l===n)return this.nodes();if(this.hasNode(l))return[]}},i.prototype.predecessors=function(l){var d=this._preds[l];if(d)return e.keys(d)},i.prototype.successors=function(l){var d=this._sucs[l];if(d)return e.keys(d)},i.prototype.neighbors=function(l){var d=this.predecessors(l);if(d)return e.union(d,this.successors(l))},i.prototype.isLeaf=function(l){var d;return this.isDirected()?d=this.successors(l):d=this.neighbors(l),d.length===0},i.prototype.filterNodes=function(l){var d=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});d.setGraph(this.graph());var f=this;e.each(this._nodes,function(p,v){l(v)&&d.setNode(v,p)}),e.each(this._edgeObjs,function(p){d.hasNode(p.v)&&d.hasNode(p.w)&&d.setEdge(p,f.edge(p))});var h={};function m(p){var v=f.parent(p);return v===void 0||d.hasNode(v)?(h[p]=v,v):v in h?h[v]:m(v)}return this._isCompound&&e.each(d.nodes(),function(p){d.setParent(p,m(p))}),d},i.prototype.setDefaultEdgeLabel=function(l){return e.isFunction(l)||(l=e.constant(l)),this._defaultEdgeLabelFn=l,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(l,d){var f=this,h=arguments;return e.reduce(l,function(m,p){return h.length>1?f.setEdge(m,p,d):f.setEdge(m,p),p}),this},i.prototype.setEdge=function(){var l,d,f,h,m=!1,p=arguments[0];typeof p=="object"&&p!==null&&"v"in p?(l=p.v,d=p.w,f=p.name,arguments.length===2&&(h=arguments[1],m=!0)):(l=p,d=arguments[1],f=arguments[3],arguments.length>2&&(h=arguments[2],m=!0)),l=""+l,d=""+d,e.isUndefined(f)||(f=""+f);var v=s(this._isDirected,l,d,f);if(e.has(this._edgeLabels,v))return m&&(this._edgeLabels[v]=h),this;if(!e.isUndefined(f)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(l),this.setNode(d),this._edgeLabels[v]=m?h:this._defaultEdgeLabelFn(l,d,f);var y=u(this._isDirected,l,d,f);return l=y.v,d=y.w,Object.freeze(y),this._edgeObjs[v]=y,o(this._preds[d],l),o(this._sucs[l],d),this._in[d][v]=y,this._out[l][v]=y,this._edgeCount++,this},i.prototype.edge=function(l,d,f){var h=arguments.length===1?c(this._isDirected,arguments[0]):s(this._isDirected,l,d,f);return this._edgeLabels[h]},i.prototype.hasEdge=function(l,d,f){var h=arguments.length===1?c(this._isDirected,arguments[0]):s(this._isDirected,l,d,f);return e.has(this._edgeLabels,h)},i.prototype.removeEdge=function(l,d,f){var h=arguments.length===1?c(this._isDirected,arguments[0]):s(this._isDirected,l,d,f),m=this._edgeObjs[h];return m&&(l=m.v,d=m.w,delete this._edgeLabels[h],delete this._edgeObjs[h],a(this._preds[d],l),a(this._sucs[l],d),delete this._in[d][h],delete this._out[l][h],this._edgeCount--),this},i.prototype.inEdges=function(l,d){var f=this._in[l];if(f){var h=e.values(f);return d?e.filter(h,function(m){return m.v===d}):h}},i.prototype.outEdges=function(l,d){var f=this._out[l];if(f){var h=e.values(f);return d?e.filter(h,function(m){return m.w===d}):h}},i.prototype.nodeEdges=function(l,d){var f=this.inEdges(l,d);if(f)return f.concat(this.outEdges(l,d))};function o(l,d){l[d]?l[d]++:l[d]=1}function a(l,d){--l[d]||delete l[d]}function s(l,d,f,h){var m=""+d,p=""+f;if(!l&&m>p){var v=m;m=p,p=v}return m+r+p+r+(e.isUndefined(h)?t:h)}function u(l,d,f,h){var m=""+d,p=""+f;if(!l&&m>p){var v=m;m=p,p=v}var y={v:m,w:p};return h&&(y.name=h),y}function c(l,d){return s(l,d.v,d.w,d.name)}return rs}var is,Lp;function dI(){return Lp||(Lp=1,is="2.1.8"),is}var os,Dp;function hI(){return Dp||(Dp=1,os={Graph:$c(),version:dI()}),os}var as,jp;function pI(){if(jp)return as;jp=1;var e=be(),t=$c();as={write:n,read:o};function n(a){var s={options:{directed:a.isDirected(),multigraph:a.isMultigraph(),compound:a.isCompound()},nodes:r(a),edges:i(a)};return e.isUndefined(a.graph())||(s.value=e.clone(a.graph())),s}function r(a){return e.map(a.nodes(),function(s){var u=a.node(s),c=a.parent(s),l={v:s};return e.isUndefined(u)||(l.value=u),e.isUndefined(c)||(l.parent=c),l})}function i(a){return e.map(a.edges(),function(s){var u=a.edge(s),c={v:s.v,w:s.w};return e.isUndefined(s.name)||(c.name=s.name),e.isUndefined(u)||(c.value=u),c})}function o(a){var s=new t(a.options).setGraph(a.value);return e.each(a.nodes,function(u){s.setNode(u.v,u.value),u.parent&&s.setParent(u.v,u.parent)}),e.each(a.edges,function(u){s.setEdge({v:u.v,w:u.w,name:u.name},u.value)}),s}return as}var ss,$p;function gI(){if($p)return ss;$p=1;var e=be();ss=t;function t(n){var r={},i=[],o;function a(s){e.has(r,s)||(r[s]=!0,o.push(s),e.each(n.successors(s),a),e.each(n.predecessors(s),a))}return e.each(n.nodes(),function(s){o=[],a(s),o.length&&i.push(o)}),i}return ss}var us,Fp;function i0(){if(Fp)return us;Fp=1;var e=be();us=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!e.has(i,n)){var o=this._arr,a=o.length;return i[n]=a,o.push({key:n,priority:r}),this._decrease(a),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},t.prototype._heapify=function(n){var r=this._arr,i=2*n,o=i+1,a=n;i<r.length&&(a=r[i].priority<r[a].priority?i:a,o<r.length&&(a=r[o].priority<r[a].priority?o:a),a!==n&&(this._swap(n,a),this._heapify(a)))},t.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,o;n!==0&&(o=n>>1,!(r[o].priority<i));)this._swap(n,o),n=o},t.prototype._swap=function(n,r){var i=this._arr,o=this._keyIndices,a=i[n],s=i[r];i[n]=s,i[r]=a,o[s.key]=n,o[a.key]=r},us}var cs,Bp;function o0(){if(Bp)return cs;Bp=1;var e=be(),t=i0();cs=r;var n=e.constant(1);function r(o,a,s,u){return i(o,String(a),s||n,u||function(c){return o.outEdges(c)})}function i(o,a,s,u){var c={},l=new t,d,f,h=function(m){var p=m.v!==d?m.v:m.w,v=c[p],y=s(m),_=f.distance+y;if(y<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+m+" Weight: "+y);_<v.distance&&(v.distance=_,v.predecessor=d,l.decrease(p,_))};for(o.nodes().forEach(function(m){var p=m===a?0:Number.POSITIVE_INFINITY;c[m]={distance:p},l.add(m,p)});l.size()>0&&(d=l.removeMin(),f=c[d],f.distance!==Number.POSITIVE_INFINITY);)u(d).forEach(h);return c}return cs}var ls,Hp;function vI(){if(Hp)return ls;Hp=1;var e=o0(),t=be();ls=n;function n(r,i,o){return t.transform(r.nodes(),function(a,s){a[s]=e(r,s,i,o)},{})}return ls}var fs,zp;function a0(){if(zp)return fs;zp=1;var e=be();fs=t;function t(n){var r=0,i=[],o={},a=[];function s(u){var c=o[u]={onStack:!0,lowlink:r,index:r++};if(i.push(u),n.successors(u).forEach(function(f){e.has(o,f)?o[f].onStack&&(c.lowlink=Math.min(c.lowlink,o[f].index)):(s(f),c.lowlink=Math.min(c.lowlink,o[f].lowlink))}),c.lowlink===c.index){var l=[],d;do d=i.pop(),o[d].onStack=!1,l.push(d);while(u!==d);a.push(l)}}return n.nodes().forEach(function(u){e.has(o,u)||s(u)}),a}return fs}var ds,Vp;function mI(){if(Vp)return ds;Vp=1;var e=be(),t=a0();ds=n;function n(r){return e.filter(t(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return ds}var hs,Gp;function yI(){if(Gp)return hs;Gp=1;var e=be();hs=n;var t=e.constant(1);function n(i,o,a){return r(i,o||t,a||function(s){return i.outEdges(s)})}function r(i,o,a){var s={},u=i.nodes();return u.forEach(function(c){s[c]={},s[c][c]={distance:0},u.forEach(function(l){c!==l&&(s[c][l]={distance:Number.POSITIVE_INFINITY})}),a(c).forEach(function(l){var d=l.v===c?l.w:l.v,f=o(l);s[c][d]={distance:f,predecessor:c}})}),u.forEach(function(c){var l=s[c];u.forEach(function(d){var f=s[d];u.forEach(function(h){var m=f[c],p=l[h],v=f[h],y=m.distance+p.distance;y<v.distance&&(v.distance=y,v.predecessor=p.predecessor)})})}),s}return hs}var ps,Up;function s0(){if(Up)return ps;Up=1;var e=be();ps=t,t.CycleException=n;function t(r){var i={},o={},a=[];function s(u){if(e.has(o,u))throw new n;e.has(i,u)||(o[u]=!0,i[u]=!0,e.each(r.predecessors(u),s),delete o[u],a.push(u))}if(e.each(r.sinks(),s),e.size(i)!==r.nodeCount())throw new n;return a}function n(){}return n.prototype=new Error,ps}var gs,Yp;function bI(){if(Yp)return gs;Yp=1;var e=s0();gs=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return gs}var vs,Wp;function u0(){if(Wp)return vs;Wp=1;var e=be();vs=t;function t(r,i,o){e.isArray(i)||(i=[i]);var a=(r.isDirected()?r.successors:r.neighbors).bind(r),s=[],u={};return e.each(i,function(c){if(!r.hasNode(c))throw new Error("Graph does not have node: "+c);n(r,c,o==="post",u,a,s)}),s}function n(r,i,o,a,s,u){e.has(a,i)||(a[i]=!0,o||u.push(i),e.each(s(i),function(c){n(r,c,o,a,s,u)}),o&&u.push(i))}return vs}var ms,Xp;function _I(){if(Xp)return ms;Xp=1;var e=u0();ms=t;function t(n,r){return e(n,r,"post")}return ms}var ys,Kp;function xI(){if(Kp)return ys;Kp=1;var e=u0();ys=t;function t(n,r){return e(n,r,"pre")}return ys}var bs,Zp;function wI(){if(Zp)return bs;Zp=1;var e=be(),t=$c(),n=i0();bs=r;function r(i,o){var a=new t,s={},u=new n,c;function l(f){var h=f.v===c?f.w:f.v,m=u.priority(h);if(m!==void 0){var p=o(f);p<m&&(s[h]=c,u.decrease(h,p))}}if(i.nodeCount()===0)return a;e.each(i.nodes(),function(f){u.add(f,Number.POSITIVE_INFINITY),a.setNode(f)}),u.decrease(i.nodes()[0],0);for(var d=!1;u.size()>0;){if(c=u.removeMin(),e.has(s,c))a.setEdge(c,s[c]);else{if(d)throw new Error("Input graph is not connected: "+i);d=!0}i.nodeEdges(c).forEach(l)}return a}return bs}var _s,Qp;function EI(){return Qp||(Qp=1,_s={components:gI(),dijkstra:o0(),dijkstraAll:vI(),findCycles:mI(),floydWarshall:yI(),isAcyclic:bI(),postorder:_I(),preorder:xI(),prim:wI(),tarjan:a0(),topsort:s0()}),_s}var xs,Jp;function SI(){if(Jp)return xs;Jp=1;var e=hI();return xs={Graph:e.Graph,json:pI(),alg:EI(),version:e.version},xs}var ws,eg;function Se(){if(eg)return ws;eg=1;var e;if(typeof Ec=="function")try{e=SI()}catch{}return e||(e=window.graphlib),ws=e,ws}var Es,tg;function CI(){if(tg)return Es;tg=1;var e=Py(),t=1,n=4;function r(i){return e(i,t|n)}return Es=r,Es}var Ss,ng;function lr(){if(ng)return Ss;ng=1;var e=Et(),t=He(),n=tr(),r=ye();function i(o,a,s){if(!r(s))return!1;var u=typeof a;return(u=="number"?t(s)&&n(a,s.length):u=="string"&&a in s)?e(s[a],o):!1}return Ss=i,Ss}var Cs,rg;function NI(){if(rg)return Cs;rg=1;var e=cr(),t=Et(),n=lr(),r=st(),i=Object.prototype,o=i.hasOwnProperty,a=e(function(s,u){s=Object(s);var c=-1,l=u.length,d=l>2?u[2]:void 0;for(d&&n(u[0],u[1],d)&&(l=1);++c<l;)for(var f=u[c],h=r(f),m=-1,p=h.length;++m<p;){var v=h[m],y=s[v];(y===void 0||t(y,i[v])&&!o.call(s,v))&&(s[v]=f[v])}return s});return Cs=a,Cs}var Ns,ig;function II(){if(ig)return Ns;ig=1;var e=ze(),t=He(),n=Ze();function r(i){return function(o,a,s){var u=Object(o);if(!t(o)){var c=e(a,3);o=n(o),a=function(d){return c(u[d],d,u)}}var l=i(o,a,s);return l>-1?u[c?o[l]:l]:void 0}}return Ns=r,Ns}var Is,og;function qI(){if(og)return Is;og=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return Is=t,Is}var qs,ag;function RI(){if(ag)return qs;ag=1;var e=qI(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return qs=n,qs}var Rs,sg;function AI(){if(sg)return Rs;sg=1;var e=RI(),t=ye(),n=It(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt;function u(c){if(typeof c=="number")return c;if(n(c))return r;if(t(c)){var l=typeof c.valueOf=="function"?c.valueOf():c;c=t(l)?l+"":l}if(typeof c!="string")return c===0?c:+c;c=e(c);var d=o.test(c);return d||a.test(c)?s(c.slice(2),d?2:8):i.test(c)?r:+c}return Rs=u,Rs}var As,ug;function c0(){if(ug)return As;ug=1;var e=AI(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var o=i<0?-1:1;return o*n}return i===i?i:0}return As=r,As}var Ms,cg;function MI(){if(cg)return Ms;cg=1;var e=c0();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return Ms=t,Ms}var Ts,lg;function TI(){if(lg)return Ts;lg=1;var e=t0(),t=ze(),n=MI(),r=Math.max;function i(o,a,s){var u=o==null?0:o.length;if(!u)return-1;var c=s==null?0:n(s);return c<0&&(c=r(u+c,0)),e(o,t(a,3),c)}return Ts=i,Ts}var Ps,fg;function PI(){if(fg)return Ps;fg=1;var e=II(),t=TI(),n=e(t);return Ps=n,Ps}var ks,dg;function l0(){if(dg)return ks;dg=1;var e=jc();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return ks=t,ks}var Os,hg;function kI(){if(hg)return Os;hg=1;var e=kc(),t=ky(),n=st();function r(i,o){return i==null?i:e(i,t(o),n)}return Os=r,Os}var Ls,pg;function OI(){if(pg)return Ls;pg=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return Ls=e,Ls}var Ds,gg;function LI(){if(gg)return Ds;gg=1;var e=Jn(),t=Oc(),n=ze();function r(i,o){var a={};return o=n(o,3),t(i,function(s,u,c){e(a,u,o(s,u,c))}),a}return Ds=r,Ds}var js,vg;function Fc(){if(vg)return js;vg=1;var e=It();function t(n,r,i){for(var o=-1,a=n.length;++o<a;){var s=n[o],u=r(s);if(u!=null&&(c===void 0?u===u&&!e(u):i(u,c)))var c=u,l=s}return l}return js=t,js}var $s,mg;function DI(){if(mg)return $s;mg=1;function e(t,n){return t>n}return $s=e,$s}var Fs,yg;function jI(){if(yg)return Fs;yg=1;var e=Fc(),t=DI(),n=ut();function r(i){return i&&i.length?e(i,n,t):void 0}return Fs=r,Fs}var Bs,bg;function f0(){if(bg)return Bs;bg=1;var e=Jn(),t=Et();function n(r,i,o){(o!==void 0&&!t(r[i],o)||o===void 0&&!(i in r))&&e(r,i,o)}return Bs=n,Bs}var Hs,_g;function $I(){if(_g)return Hs;_g=1;var e=ot(),t=ir(),n=Pe(),r="[object Object]",i=Function.prototype,o=Object.prototype,a=i.toString,s=o.hasOwnProperty,u=a.call(Object);function c(l){if(!n(l)||e(l)!=r)return!1;var d=t(l);if(d===null)return!0;var f=s.call(d,"constructor")&&d.constructor;return typeof f=="function"&&f instanceof f&&a.call(f)==u}return Hs=c,Hs}var zs,xg;function d0(){if(xg)return zs;xg=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return zs=e,zs}var Vs,wg;function FI(){if(wg)return Vs;wg=1;var e=Qt(),t=st();function n(r){return e(r,t(r))}return Vs=n,Vs}var Gs,Eg;function BI(){if(Eg)return Gs;Eg=1;var e=f0(),t=xy(),n=Ay(),r=wy(),i=Ty(),o=Jt(),a=ce(),s=n0(),u=Ct(),c=Zt(),l=ye(),d=$I(),f=en(),h=d0(),m=FI();function p(v,y,_,g,b,x,w){var E=h(v,_),N=h(y,_),I=w.get(N);if(I){e(v,_,I);return}var T=x?x(E,N,_+"",v,y,w):void 0,q=T===void 0;if(q){var P=a(N),L=!P&&u(N),S=!P&&!L&&f(N);T=N,P||L||S?a(E)?T=E:s(E)?T=r(E):L?(q=!1,T=t(N,!0)):S?(q=!1,T=n(N,!0)):T=[]:d(N)||o(N)?(T=E,o(E)?T=m(E):(!l(E)||c(E))&&(T=i(N))):q=!1}q&&(w.set(N,T),b(T,N,g,x,w),w.delete(N)),e(v,_,T)}return Gs=p,Gs}var Us,Sg;function HI(){if(Sg)return Us;Sg=1;var e=Qn(),t=f0(),n=kc(),r=BI(),i=ye(),o=st(),a=d0();function s(u,c,l,d,f){u!==c&&n(c,function(h,m){if(f||(f=new e),i(h))r(u,c,m,l,s,d,f);else{var p=d?d(a(u,m),h,m+"",u,c,f):void 0;p===void 0&&(p=h),t(u,m,p)}},o)}return Us=s,Us}var Ys,Cg;function zI(){if(Cg)return Ys;Cg=1;var e=cr(),t=lr();function n(r){return e(function(i,o){var a=-1,s=o.length,u=s>1?o[s-1]:void 0,c=s>2?o[2]:void 0;for(u=r.length>3&&typeof u=="function"?(s--,u):void 0,c&&t(o[0],o[1],c)&&(u=s<3?void 0:u,s=1),i=Object(i);++a<s;){var l=o[a];l&&r(i,l,a,u)}return i})}return Ys=n,Ys}var Ws,Ng;function VI(){if(Ng)return Ws;Ng=1;var e=HI(),t=zI(),n=t(function(r,i,o){e(r,i,o)});return Ws=n,Ws}var Xs,Ig;function h0(){if(Ig)return Xs;Ig=1;function e(t,n){return t<n}return Xs=e,Xs}var Ks,qg;function GI(){if(qg)return Ks;qg=1;var e=Fc(),t=h0(),n=ut();function r(i){return i&&i.length?e(i,n,t):void 0}return Ks=r,Ks}var Zs,Rg;function UI(){if(Rg)return Zs;Rg=1;var e=Fc(),t=ze(),n=h0();function r(i,o){return i&&i.length?e(i,t(o,2),n):void 0}return Zs=r,Zs}var Qs,Ag;function YI(){if(Ag)return Qs;Ag=1;var e=Ne(),t=function(){return e.Date.now()};return Qs=t,Qs}var Js,Mg;function WI(){if(Mg)return Js;Mg=1;var e=er(),t=sr(),n=tr(),r=ye(),i=tn();function o(a,s,u,c){if(!r(a))return a;s=t(s,a);for(var l=-1,d=s.length,f=d-1,h=a;h!=null&&++l<d;){var m=i(s[l]),p=u;if(m==="__proto__"||m==="constructor"||m==="prototype")return a;if(l!=f){var v=h[m];p=c?c(v,m,h):void 0,p===void 0&&(p=r(v)?v:n(s[l+1])?[]:{})}e(h,m,p),h=h[m]}return a}return Js=o,Js}var eu,Tg;function XI(){if(Tg)return eu;Tg=1;var e=ur(),t=WI(),n=sr();function r(i,o,a){for(var s=-1,u=o.length,c={};++s<u;){var l=o[s],d=e(i,l);a(d,l)&&t(c,n(l,i),d)}return c}return eu=r,eu}var tu,Pg;function KI(){if(Pg)return tu;Pg=1;var e=XI(),t=Gy();function n(r,i){return e(r,i,function(o,a){return t(r,a)})}return tu=n,tu}var nu,kg;function ZI(){if(kg)return nu;kg=1;var e=l0(),t=Jy(),n=e0();function r(i){return n(t(i,void 0,e),i+"")}return nu=r,nu}var ru,Og;function QI(){if(Og)return ru;Og=1;var e=KI(),t=ZI(),n=t(function(r,i){return r==null?{}:e(r,i)});return ru=n,ru}var iu,Lg;function JI(){if(Lg)return iu;Lg=1;var e=Math.ceil,t=Math.max;function n(r,i,o,a){for(var s=-1,u=t(e((i-r)/(o||1)),0),c=Array(u);u--;)c[a?u:++s]=r,r+=o;return c}return iu=n,iu}var ou,Dg;function eq(){if(Dg)return ou;Dg=1;var e=JI(),t=lr(),n=c0();function r(i){return function(o,a,s){return s&&typeof s!="number"&&t(o,a,s)&&(a=s=void 0),o=n(o),a===void 0?(a=o,o=0):a=n(a),s=s===void 0?o<a?1:-1:n(s),e(o,a,s,i)}}return ou=r,ou}var au,jg;function tq(){if(jg)return au;jg=1;var e=eq(),t=e();return au=t,au}var su,$g;function nq(){if($g)return su;$g=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return su=e,su}var uu,Fg;function rq(){if(Fg)return uu;Fg=1;var e=It();function t(n,r){if(n!==r){var i=n!==void 0,o=n===null,a=n===n,s=e(n),u=r!==void 0,c=r===null,l=r===r,d=e(r);if(!c&&!d&&!s&&n>r||s&&u&&l&&!c&&!d||o&&u&&l||!i&&l||!a)return 1;if(!o&&!s&&!d&&n<r||d&&i&&a&&!o&&!s||c&&i&&a||!u&&a||!l)return-1}return 0}return uu=t,uu}var cu,Bg;function iq(){if(Bg)return cu;Bg=1;var e=rq();function t(n,r,i){for(var o=-1,a=n.criteria,s=r.criteria,u=a.length,c=i.length;++o<u;){var l=e(a[o],s[o]);if(l){if(o>=c)return l;var d=i[o];return l*(d=="desc"?-1:1)}}return n.index-r.index}return cu=t,cu}var lu,Hg;function oq(){if(Hg)return lu;Hg=1;var e=ar(),t=ur(),n=ze(),r=Ky(),i=nq(),o=nr(),a=iq(),s=ut(),u=ce();function c(l,d,f){d.length?d=e(d,function(p){return u(p)?function(v){return t(v,p.length===1?p[0]:p)}:p}):d=[s];var h=-1;d=e(d,o(n));var m=r(l,function(p,v,y){var _=e(d,function(g){return g(p)});return{criteria:_,index:++h,value:p}});return i(m,function(p,v){return a(p,v,f)})}return lu=c,lu}var fu,zg;function aq(){if(zg)return fu;zg=1;var e=jc(),t=oq(),n=cr(),r=lr(),i=n(function(o,a){if(o==null)return[];var s=a.length;return s>1&&r(o,a[0],a[1])?a=[]:s>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),t(o,e(a,1),[])});return fu=i,fu}var du,Vg;function sq(){if(Vg)return du;Vg=1;var e=zy(),t=0;function n(r){var i=++t;return e(r)+i}return du=n,du}var hu,Gg;function uq(){if(Gg)return hu;Gg=1;function e(t,n,r){for(var i=-1,o=t.length,a=n.length,s={};++i<o;){var u=i<a?n[i]:void 0;r(s,t[i],u)}return s}return hu=e,hu}var pu,Ug;function cq(){if(Ug)return pu;Ug=1;var e=er(),t=uq();function n(r,i){return t(r||[],i||[],e)}return pu=n,pu}var gu,Yg;function ie(){if(Yg)return gu;Yg=1;var e;if(typeof Ec=="function")try{e={cloneDeep:CI(),constant:Pc(),defaults:NI(),each:Ly(),filter:Yy(),find:PI(),flatten:l0(),forEach:Oy(),forIn:kI(),has:Wy(),isUndefined:Xy(),last:OI(),map:Zy(),mapValues:LI(),max:jI(),merge:VI(),min:GI(),minBy:UI(),now:YI(),pick:QI(),range:tq(),reduce:Qy(),sortBy:aq(),uniqueId:sq(),values:r0(),zipObject:cq()}}catch{}return e||(e=window._),gu=e,gu}var vu,Wg;function lq(){if(Wg)return vu;Wg=1,vu=e;function e(){var r={};r._next=r._prev=r,this._sentinel=r}e.prototype.dequeue=function(){var r=this._sentinel,i=r._prev;if(i!==r)return t(i),i},e.prototype.enqueue=function(r){var i=this._sentinel;r._prev&&r._next&&t(r),r._next=i._next,i._next._prev=r,i._next=r,r._prev=i},e.prototype.toString=function(){for(var r=[],i=this._sentinel,o=i._prev;o!==i;)r.push(JSON.stringify(o,n)),o=o._prev;return"["+r.join(", ")+"]"};function t(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,i){if(r!=="_next"&&r!=="_prev")return i}return vu}var mu,Xg;function fq(){if(Xg)return mu;Xg=1;var e=ie(),t=Se().Graph,n=lq();mu=i;var r=e.constant(1);function i(c,l){if(c.nodeCount()<=1)return[];var d=s(c,l||r),f=o(d.graph,d.buckets,d.zeroIdx);return e.flatten(e.map(f,function(h){return c.outEdges(h.v,h.w)}),!0)}function o(c,l,d){for(var f=[],h=l[l.length-1],m=l[0],p;c.nodeCount();){for(;p=m.dequeue();)a(c,l,d,p);for(;p=h.dequeue();)a(c,l,d,p);if(c.nodeCount()){for(var v=l.length-2;v>0;--v)if(p=l[v].dequeue(),p){f=f.concat(a(c,l,d,p,!0));break}}}return f}function a(c,l,d,f,h){var m=h?[]:void 0;return e.forEach(c.inEdges(f.v),function(p){var v=c.edge(p),y=c.node(p.v);h&&m.push({v:p.v,w:p.w}),y.out-=v,u(l,d,y)}),e.forEach(c.outEdges(f.v),function(p){var v=c.edge(p),y=p.w,_=c.node(y);_.in-=v,u(l,d,_)}),c.removeNode(f.v),m}function s(c,l){var d=new t,f=0,h=0;e.forEach(c.nodes(),function(v){d.setNode(v,{v,in:0,out:0})}),e.forEach(c.edges(),function(v){var y=d.edge(v.v,v.w)||0,_=l(v),g=y+_;d.setEdge(v.v,v.w,g),h=Math.max(h,d.node(v.v).out+=_),f=Math.max(f,d.node(v.w).in+=_)});var m=e.range(h+f+3).map(function(){return new n}),p=f+1;return e.forEach(d.nodes(),function(v){u(m,p,d.node(v))}),{graph:d,buckets:m,zeroIdx:p}}function u(c,l,d){d.out?d.in?c[d.out-d.in+l].enqueue(d):c[c.length-1].enqueue(d):c[0].enqueue(d)}return mu}var yu,Kg;function dq(){if(Kg)return yu;Kg=1;var e=ie(),t=fq();yu={run:n,undo:i};function n(o){var a=o.graph().acyclicer==="greedy"?t(o,s(o)):r(o);e.forEach(a,function(u){var c=o.edge(u);o.removeEdge(u),c.forwardName=u.name,c.reversed=!0,o.setEdge(u.w,u.v,c,e.uniqueId("rev"))});function s(u){return function(c){return u.edge(c).weight}}}function r(o){var a=[],s={},u={};function c(l){e.has(u,l)||(u[l]=!0,s[l]=!0,e.forEach(o.outEdges(l),function(d){e.has(s,d.w)?a.push(d):c(d.w)}),delete s[l])}return e.forEach(o.nodes(),c),a}function i(o){e.forEach(o.edges(),function(a){var s=o.edge(a);if(s.reversed){o.removeEdge(a);var u=s.forwardName;delete s.reversed,delete s.forwardName,o.setEdge(a.w,a.v,s,u)}})}return yu}var bu,Zg;function de(){if(Zg)return bu;Zg=1;var e=ie(),t=Se().Graph;bu={addDummyNode:n,simplify:r,asNonCompoundGraph:i,successorWeights:o,predecessorWeights:a,intersectRect:s,buildLayerMatrix:u,normalizeRanks:c,removeEmptyRanks:l,addBorderNode:d,maxRank:f,partition:h,time:m,notime:p};function n(v,y,_,g){var b;do b=e.uniqueId(g);while(v.hasNode(b));return _.dummy=y,v.setNode(b,_),b}function r(v){var y=new t().setGraph(v.graph());return e.forEach(v.nodes(),function(_){y.setNode(_,v.node(_))}),e.forEach(v.edges(),function(_){var g=y.edge(_.v,_.w)||{weight:0,minlen:1},b=v.edge(_);y.setEdge(_.v,_.w,{weight:g.weight+b.weight,minlen:Math.max(g.minlen,b.minlen)})}),y}function i(v){var y=new t({multigraph:v.isMultigraph()}).setGraph(v.graph());return e.forEach(v.nodes(),function(_){v.children(_).length||y.setNode(_,v.node(_))}),e.forEach(v.edges(),function(_){y.setEdge(_,v.edge(_))}),y}function o(v){var y=e.map(v.nodes(),function(_){var g={};return e.forEach(v.outEdges(_),function(b){g[b.w]=(g[b.w]||0)+v.edge(b).weight}),g});return e.zipObject(v.nodes(),y)}function a(v){var y=e.map(v.nodes(),function(_){var g={};return e.forEach(v.inEdges(_),function(b){g[b.v]=(g[b.v]||0)+v.edge(b).weight}),g});return e.zipObject(v.nodes(),y)}function s(v,y){var _=v.x,g=v.y,b=y.x-_,x=y.y-g,w=v.width/2,E=v.height/2;if(!b&&!x)throw new Error("Not possible to find intersection inside of the rectangle");var N,I;return Math.abs(x)*w>Math.abs(b)*E?(x<0&&(E=-E),N=E*b/x,I=E):(b<0&&(w=-w),N=w,I=w*x/b),{x:_+N,y:g+I}}function u(v){var y=e.map(e.range(f(v)+1),function(){return[]});return e.forEach(v.nodes(),function(_){var g=v.node(_),b=g.rank;e.isUndefined(b)||(y[b][g.order]=_)}),y}function c(v){var y=e.min(e.map(v.nodes(),function(_){return v.node(_).rank}));e.forEach(v.nodes(),function(_){var g=v.node(_);e.has(g,"rank")&&(g.rank-=y)})}function l(v){var y=e.min(e.map(v.nodes(),function(x){return v.node(x).rank})),_=[];e.forEach(v.nodes(),function(x){var w=v.node(x).rank-y;_[w]||(_[w]=[]),_[w].push(x)});var g=0,b=v.graph().nodeRankFactor;e.forEach(_,function(x,w){e.isUndefined(x)&&w%b!==0?--g:g&&e.forEach(x,function(E){v.node(E).rank+=g})})}function d(v,y,_,g){var b={width:0,height:0};return arguments.length>=4&&(b.rank=_,b.order=g),n(v,"border",b,y)}function f(v){return e.max(e.map(v.nodes(),function(y){var _=v.node(y).rank;if(!e.isUndefined(_))return _}))}function h(v,y){var _={lhs:[],rhs:[]};return e.forEach(v,function(g){y(g)?_.lhs.push(g):_.rhs.push(g)}),_}function m(v,y){var _=e.now();try{return y()}finally{console.log(v+" time: "+(e.now()-_)+"ms")}}function p(v,y){return y()}return bu}var _u,Qg;function hq(){if(Qg)return _u;Qg=1;var e=ie(),t=de();_u={run:n,undo:i};function n(o){o.graph().dummyChains=[],e.forEach(o.edges(),function(a){r(o,a)})}function r(o,a){var s=a.v,u=o.node(s).rank,c=a.w,l=o.node(c).rank,d=a.name,f=o.edge(a),h=f.labelRank;if(l!==u+1){o.removeEdge(a);var m,p,v;for(v=0,++u;u<l;++v,++u)f.points=[],p={width:0,height:0,edgeLabel:f,edgeObj:a,rank:u},m=t.addDummyNode(o,"edge",p,"_d"),u===h&&(p.width=f.width,p.height=f.height,p.dummy="edge-label",p.labelpos=f.labelpos),o.setEdge(s,m,{weight:f.weight},d),v===0&&o.graph().dummyChains.push(m),s=m;o.setEdge(s,c,{weight:f.weight},d)}}function i(o){e.forEach(o.graph().dummyChains,function(a){var s=o.node(a),u=s.edgeLabel,c;for(o.setEdge(s.edgeObj,u);s.dummy;)c=o.successors(a)[0],o.removeNode(a),u.points.push({x:s.x,y:s.y}),s.dummy==="edge-label"&&(u.x=s.x,u.y=s.y,u.width=s.width,u.height=s.height),a=c,s=o.node(a)})}return _u}var xu,Jg;function Pn(){if(Jg)return xu;Jg=1;var e=ie();xu={longestPath:t,slack:n};function t(r){var i={};function o(a){var s=r.node(a);if(e.has(i,a))return s.rank;i[a]=!0;var u=e.min(e.map(r.outEdges(a),function(c){return o(c.w)-r.edge(c).minlen}));return(u===Number.POSITIVE_INFINITY||u===void 0||u===null)&&(u=0),s.rank=u}e.forEach(r.sources(),o)}function n(r,i){return r.node(i.w).rank-r.node(i.v).rank-r.edge(i).minlen}return xu}var wu,ev;function p0(){if(ev)return wu;ev=1;var e=ie(),t=Se().Graph,n=Pn().slack;wu=r;function r(s){var u=new t({directed:!1}),c=s.nodes()[0],l=s.nodeCount();u.setNode(c,{});for(var d,f;i(u,s)<l;)d=o(u,s),f=u.hasNode(d.v)?n(s,d):-n(s,d),a(u,s,f);return u}function i(s,u){function c(l){e.forEach(u.nodeEdges(l),function(d){var f=d.v,h=l===f?d.w:f;!s.hasNode(h)&&!n(u,d)&&(s.setNode(h,{}),s.setEdge(l,h,{}),c(h))})}return e.forEach(s.nodes(),c),s.nodeCount()}function o(s,u){return e.minBy(u.edges(),function(c){if(s.hasNode(c.v)!==s.hasNode(c.w))return n(u,c)})}function a(s,u,c){e.forEach(s.nodes(),function(l){u.node(l).rank+=c})}return wu}var Eu,tv;function pq(){if(tv)return Eu;tv=1;var e=ie(),t=p0(),n=Pn().slack,r=Pn().longestPath,i=Se().alg.preorder,o=Se().alg.postorder,a=de().simplify;Eu=s,s.initLowLimValues=d,s.initCutValues=u,s.calcCutValue=l,s.leaveEdge=h,s.enterEdge=m,s.exchangeEdges=p;function s(g){g=a(g),r(g);var b=t(g);d(b),u(b,g);for(var x,w;x=h(b);)w=m(b,g,x),p(b,g,x,w)}function u(g,b){var x=o(g,g.nodes());x=x.slice(0,x.length-1),e.forEach(x,function(w){c(g,b,w)})}function c(g,b,x){var w=g.node(x),E=w.parent;g.edge(x,E).cutvalue=l(g,b,x)}function l(g,b,x){var w=g.node(x),E=w.parent,N=!0,I=b.edge(x,E),T=0;return I||(N=!1,I=b.edge(E,x)),T=I.weight,e.forEach(b.nodeEdges(x),function(q){var P=q.v===x,L=P?q.w:q.v;if(L!==E){var S=P===N,R=b.edge(q).weight;if(T+=S?R:-R,y(g,x,L)){var M=g.edge(x,L).cutvalue;T+=S?-M:M}}}),T}function d(g,b){arguments.length<2&&(b=g.nodes()[0]),f(g,{},1,b)}function f(g,b,x,w,E){var N=x,I=g.node(w);return b[w]=!0,e.forEach(g.neighbors(w),function(T){e.has(b,T)||(x=f(g,b,x,T,w))}),I.low=N,I.lim=x++,E?I.parent=E:delete I.parent,x}function h(g){return e.find(g.edges(),function(b){return g.edge(b).cutvalue<0})}function m(g,b,x){var w=x.v,E=x.w;b.hasEdge(w,E)||(w=x.w,E=x.v);var N=g.node(w),I=g.node(E),T=N,q=!1;N.lim>I.lim&&(T=I,q=!0);var P=e.filter(b.edges(),function(L){return q===_(g,g.node(L.v),T)&&q!==_(g,g.node(L.w),T)});return e.minBy(P,function(L){return n(b,L)})}function p(g,b,x,w){var E=x.v,N=x.w;g.removeEdge(E,N),g.setEdge(w.v,w.w,{}),d(g),u(g,b),v(g,b)}function v(g,b){var x=e.find(g.nodes(),function(E){return!b.node(E).parent}),w=i(g,x);w=w.slice(1),e.forEach(w,function(E){var N=g.node(E).parent,I=b.edge(E,N),T=!1;I||(I=b.edge(N,E),T=!0),b.node(E).rank=b.node(N).rank+(T?I.minlen:-I.minlen)})}function y(g,b,x){return g.hasEdge(b,x)}function _(g,b,x){return x.low<=b.lim&&b.lim<=x.lim}return Eu}var Su,nv;function gq(){if(nv)return Su;nv=1;var e=Pn(),t=e.longestPath,n=p0(),r=pq();Su=i;function i(u){switch(u.graph().ranker){case"network-simplex":s(u);break;case"tight-tree":a(u);break;case"longest-path":o(u);break;default:s(u)}}var o=t;function a(u){t(u),n(u)}function s(u){r(u)}return Su}var Cu,rv;function vq(){if(rv)return Cu;rv=1;var e=ie();Cu=t;function t(i){var o=r(i);e.forEach(i.graph().dummyChains,function(a){for(var s=i.node(a),u=s.edgeObj,c=n(i,o,u.v,u.w),l=c.path,d=c.lca,f=0,h=l[f],m=!0;a!==u.w;){if(s=i.node(a),m){for(;(h=l[f])!==d&&i.node(h).maxRank<s.rank;)f++;h===d&&(m=!1)}if(!m){for(;f<l.length-1&&i.node(h=l[f+1]).minRank<=s.rank;)f++;h=l[f]}i.setParent(a,h),a=i.successors(a)[0]}})}function n(i,o,a,s){var u=[],c=[],l=Math.min(o[a].low,o[s].low),d=Math.max(o[a].lim,o[s].lim),f,h;f=a;do f=i.parent(f),u.push(f);while(f&&(o[f].low>l||d>o[f].lim));for(h=f,f=s;(f=i.parent(f))!==h;)c.push(f);return{path:u.concat(c.reverse()),lca:h}}function r(i){var o={},a=0;function s(u){var c=a;e.forEach(i.children(u),s),o[u]={low:c,lim:a++}}return e.forEach(i.children(),s),o}return Cu}var Nu,iv;function mq(){if(iv)return Nu;iv=1;var e=ie(),t=de();Nu={run:n,cleanup:a};function n(s){var u=t.addDummyNode(s,"root",{},"_root"),c=i(s),l=e.max(e.values(c))-1,d=2*l+1;s.graph().nestingRoot=u,e.forEach(s.edges(),function(h){s.edge(h).minlen*=d});var f=o(s)+1;e.forEach(s.children(),function(h){r(s,u,d,f,l,c,h)}),s.graph().nodeRankFactor=d}function r(s,u,c,l,d,f,h){var m=s.children(h);if(!m.length){h!==u&&s.setEdge(u,h,{weight:0,minlen:c});return}var p=t.addBorderNode(s,"_bt"),v=t.addBorderNode(s,"_bb"),y=s.node(h);s.setParent(p,h),y.borderTop=p,s.setParent(v,h),y.borderBottom=v,e.forEach(m,function(_){r(s,u,c,l,d,f,_);var g=s.node(_),b=g.borderTop?g.borderTop:_,x=g.borderBottom?g.borderBottom:_,w=g.borderTop?l:2*l,E=b!==x?1:d-f[h]+1;s.setEdge(p,b,{weight:w,minlen:E,nestingEdge:!0}),s.setEdge(x,v,{weight:w,minlen:E,nestingEdge:!0})}),s.parent(h)||s.setEdge(u,p,{weight:0,minlen:d+f[h]})}function i(s){var u={};function c(l,d){var f=s.children(l);f&&f.length&&e.forEach(f,function(h){c(h,d+1)}),u[l]=d}return e.forEach(s.children(),function(l){c(l,1)}),u}function o(s){return e.reduce(s.edges(),function(u,c){return u+s.edge(c).weight},0)}function a(s){var u=s.graph();s.removeNode(u.nestingRoot),delete u.nestingRoot,e.forEach(s.edges(),function(c){var l=s.edge(c);l.nestingEdge&&s.removeEdge(c)})}return Nu}var Iu,ov;function yq(){if(ov)return Iu;ov=1;var e=ie(),t=de();Iu=n;function n(i){function o(a){var s=i.children(a),u=i.node(a);if(s.length&&e.forEach(s,o),e.has(u,"minRank")){u.borderLeft=[],u.borderRight=[];for(var c=u.minRank,l=u.maxRank+1;c<l;++c)r(i,"borderLeft","_bl",a,u,c),r(i,"borderRight","_br",a,u,c)}}e.forEach(i.children(),o)}function r(i,o,a,s,u,c){var l={width:0,height:0,rank:c,borderType:o},d=u[o][c-1],f=t.addDummyNode(i,"border",l,a);u[o][c]=f,i.setParent(f,s),d&&i.setEdge(d,f,{weight:1})}return Iu}var qu,av;function bq(){if(av)return qu;av=1;var e=ie();qu={adjust:t,undo:n};function t(c){var l=c.graph().rankdir.toLowerCase();(l==="lr"||l==="rl")&&r(c)}function n(c){var l=c.graph().rankdir.toLowerCase();(l==="bt"||l==="rl")&&o(c),(l==="lr"||l==="rl")&&(s(c),r(c))}function r(c){e.forEach(c.nodes(),function(l){i(c.node(l))}),e.forEach(c.edges(),function(l){i(c.edge(l))})}function i(c){var l=c.width;c.width=c.height,c.height=l}function o(c){e.forEach(c.nodes(),function(l){a(c.node(l))}),e.forEach(c.edges(),function(l){var d=c.edge(l);e.forEach(d.points,a),e.has(d,"y")&&a(d)})}function a(c){c.y=-c.y}function s(c){e.forEach(c.nodes(),function(l){u(c.node(l))}),e.forEach(c.edges(),function(l){var d=c.edge(l);e.forEach(d.points,u),e.has(d,"x")&&u(d)})}function u(c){var l=c.x;c.x=c.y,c.y=l}return qu}var Ru,sv;function _q(){if(sv)return Ru;sv=1;var e=ie();Ru=t;function t(n){var r={},i=e.filter(n.nodes(),function(c){return!n.children(c).length}),o=e.max(e.map(i,function(c){return n.node(c).rank})),a=e.map(e.range(o+1),function(){return[]});function s(c){if(!e.has(r,c)){r[c]=!0;var l=n.node(c);a[l.rank].push(c),e.forEach(n.successors(c),s)}}var u=e.sortBy(i,function(c){return n.node(c).rank});return e.forEach(u,s),a}return Ru}var Au,uv;function xq(){if(uv)return Au;uv=1;var e=ie();Au=t;function t(r,i){for(var o=0,a=1;a<i.length;++a)o+=n(r,i[a-1],i[a]);return o}function n(r,i,o){for(var a=e.zipObject(o,e.map(o,function(f,h){return h})),s=e.flatten(e.map(i,function(f){return e.sortBy(e.map(r.outEdges(f),function(h){return{pos:a[h.w],weight:r.edge(h).weight}}),"pos")}),!0),u=1;u<o.length;)u<<=1;var c=2*u-1;u-=1;var l=e.map(new Array(c),function(){return 0}),d=0;return e.forEach(s.forEach(function(f){var h=f.pos+u;l[h]+=f.weight;for(var m=0;h>0;)h%2&&(m+=l[h+1]),h=h-1>>1,l[h]+=f.weight;d+=f.weight*m})),d}return Au}var Mu,cv;function wq(){if(cv)return Mu;cv=1;var e=ie();Mu=t;function t(n,r){return e.map(r,function(i){var o=n.inEdges(i);if(o.length){var a=e.reduce(o,function(s,u){var c=n.edge(u),l=n.node(u.v);return{sum:s.sum+c.weight*l.order,weight:s.weight+c.weight}},{sum:0,weight:0});return{v:i,barycenter:a.sum/a.weight,weight:a.weight}}else return{v:i}})}return Mu}var Tu,lv;function Eq(){if(lv)return Tu;lv=1;var e=ie();Tu=t;function t(i,o){var a={};e.forEach(i,function(u,c){var l=a[u.v]={indegree:0,in:[],out:[],vs:[u.v],i:c};e.isUndefined(u.barycenter)||(l.barycenter=u.barycenter,l.weight=u.weight)}),e.forEach(o.edges(),function(u){var c=a[u.v],l=a[u.w];!e.isUndefined(c)&&!e.isUndefined(l)&&(l.indegree++,c.out.push(a[u.w]))});var s=e.filter(a,function(u){return!u.indegree});return n(s)}function n(i){var o=[];function a(c){return function(l){l.merged||(e.isUndefined(l.barycenter)||e.isUndefined(c.barycenter)||l.barycenter>=c.barycenter)&&r(c,l)}}function s(c){return function(l){l.in.push(c),--l.indegree===0&&i.push(l)}}for(;i.length;){var u=i.pop();o.push(u),e.forEach(u.in.reverse(),a(u)),e.forEach(u.out,s(u))}return e.map(e.filter(o,function(c){return!c.merged}),function(c){return e.pick(c,["vs","i","barycenter","weight"])})}function r(i,o){var a=0,s=0;i.weight&&(a+=i.barycenter*i.weight,s+=i.weight),o.weight&&(a+=o.barycenter*o.weight,s+=o.weight),i.vs=o.vs.concat(i.vs),i.barycenter=a/s,i.weight=s,i.i=Math.min(o.i,i.i),o.merged=!0}return Tu}var Pu,fv;function Sq(){if(fv)return Pu;fv=1;var e=ie(),t=de();Pu=n;function n(o,a){var s=t.partition(o,function(p){return e.has(p,"barycenter")}),u=s.lhs,c=e.sortBy(s.rhs,function(p){return-p.i}),l=[],d=0,f=0,h=0;u.sort(i(!!a)),h=r(l,c,h),e.forEach(u,function(p){h+=p.vs.length,l.push(p.vs),d+=p.barycenter*p.weight,f+=p.weight,h=r(l,c,h)});var m={vs:e.flatten(l,!0)};return f&&(m.barycenter=d/f,m.weight=f),m}function r(o,a,s){for(var u;a.length&&(u=e.last(a)).i<=s;)a.pop(),o.push(u.vs),s++;return s}function i(o){return function(a,s){return a.barycenter<s.barycenter?-1:a.barycenter>s.barycenter?1:o?s.i-a.i:a.i-s.i}}return Pu}var ku,dv;function Cq(){if(dv)return ku;dv=1;var e=ie(),t=wq(),n=Eq(),r=Sq();ku=i;function i(s,u,c,l){var d=s.children(u),f=s.node(u),h=f?f.borderLeft:void 0,m=f?f.borderRight:void 0,p={};h&&(d=e.filter(d,function(x){return x!==h&&x!==m}));var v=t(s,d);e.forEach(v,function(x){if(s.children(x.v).length){var w=i(s,x.v,c,l);p[x.v]=w,e.has(w,"barycenter")&&a(x,w)}});var y=n(v,c);o(y,p);var _=r(y,l);if(h&&(_.vs=e.flatten([h,_.vs,m],!0),s.predecessors(h).length)){var g=s.node(s.predecessors(h)[0]),b=s.node(s.predecessors(m)[0]);e.has(_,"barycenter")||(_.barycenter=0,_.weight=0),_.barycenter=(_.barycenter*_.weight+g.order+b.order)/(_.weight+2),_.weight+=2}return _}function o(s,u){e.forEach(s,function(c){c.vs=e.flatten(c.vs.map(function(l){return u[l]?u[l].vs:l}),!0)})}function a(s,u){e.isUndefined(s.barycenter)?(s.barycenter=u.barycenter,s.weight=u.weight):(s.barycenter=(s.barycenter*s.weight+u.barycenter*u.weight)/(s.weight+u.weight),s.weight+=u.weight)}return ku}var Ou,hv;function Nq(){if(hv)return Ou;hv=1;var e=ie(),t=Se().Graph;Ou=n;function n(i,o,a){var s=r(i),u=new t({compound:!0}).setGraph({root:s}).setDefaultNodeLabel(function(c){return i.node(c)});return e.forEach(i.nodes(),function(c){var l=i.node(c),d=i.parent(c);(l.rank===o||l.minRank<=o&&o<=l.maxRank)&&(u.setNode(c),u.setParent(c,d||s),e.forEach(i[a](c),function(f){var h=f.v===c?f.w:f.v,m=u.edge(h,c),p=e.isUndefined(m)?0:m.weight;u.setEdge(h,c,{weight:i.edge(f).weight+p})}),e.has(l,"minRank")&&u.setNode(c,{borderLeft:l.borderLeft[o],borderRight:l.borderRight[o]}))}),u}function r(i){for(var o;i.hasNode(o=e.uniqueId("_root")););return o}return Ou}var Lu,pv;function Iq(){if(pv)return Lu;pv=1;var e=ie();Lu=t;function t(n,r,i){var o={},a;e.forEach(i,function(s){for(var u=n.parent(s),c,l;u;){if(c=n.parent(u),c?(l=o[c],o[c]=u):(l=a,a=u),l&&l!==u){r.setEdge(l,u);return}u=c}})}return Lu}var Du,gv;function qq(){if(gv)return Du;gv=1;var e=ie(),t=_q(),n=xq(),r=Cq(),i=Nq(),o=Iq(),a=Se().Graph,s=de();Du=u;function u(f){var h=s.maxRank(f),m=c(f,e.range(1,h+1),"inEdges"),p=c(f,e.range(h-1,-1,-1),"outEdges"),v=t(f);d(f,v);for(var y=Number.POSITIVE_INFINITY,_,g=0,b=0;b<4;++g,++b){l(g%2?m:p,g%4>=2),v=s.buildLayerMatrix(f);var x=n(f,v);x<y&&(b=0,_=e.cloneDeep(v),y=x)}d(f,_)}function c(f,h,m){return e.map(h,function(p){return i(f,p,m)})}function l(f,h){var m=new a;e.forEach(f,function(p){var v=p.graph().root,y=r(p,v,m,h);e.forEach(y.vs,function(_,g){p.node(_).order=g}),o(p,m,y.vs)})}function d(f,h){e.forEach(h,function(m){e.forEach(m,function(p,v){f.node(p).order=v})})}return Du}var ju,vv;function Rq(){if(vv)return ju;vv=1;var e=ie(),t=Se().Graph,n=de();ju={positionX:m,findType1Conflicts:r,findType2Conflicts:i,addConflict:a,hasConflict:s,verticalAlignment:u,horizontalCompaction:c,alignCoordinates:f,findSmallestWidthAlignment:d,balance:h};function r(y,_){var g={};function b(x,w){var E=0,N=0,I=x.length,T=e.last(w);return e.forEach(w,function(q,P){var L=o(y,q),S=L?y.node(L).order:I;(L||q===T)&&(e.forEach(w.slice(N,P+1),function(R){e.forEach(y.predecessors(R),function(M){var k=y.node(M),F=k.order;(F<E||S<F)&&!(k.dummy&&y.node(R).dummy)&&a(g,M,R)})}),N=P+1,E=S)}),w}return e.reduce(_,b),g}function i(y,_){var g={};function b(w,E,N,I,T){var q;e.forEach(e.range(E,N),function(P){q=w[P],y.node(q).dummy&&e.forEach(y.predecessors(q),function(L){var S=y.node(L);S.dummy&&(S.order<I||S.order>T)&&a(g,L,q)})})}function x(w,E){var N=-1,I,T=0;return e.forEach(E,function(q,P){if(y.node(q).dummy==="border"){var L=y.predecessors(q);L.length&&(I=y.node(L[0]).order,b(E,T,P,N,I),T=P,N=I)}b(E,T,E.length,I,w.length)}),E}return e.reduce(_,x),g}function o(y,_){if(y.node(_).dummy)return e.find(y.predecessors(_),function(g){return y.node(g).dummy})}function a(y,_,g){if(_>g){var b=_;_=g,g=b}var x=y[_];x||(y[_]=x={}),x[g]=!0}function s(y,_,g){if(_>g){var b=_;_=g,g=b}return e.has(y[_],g)}function u(y,_,g,b){var x={},w={},E={};return e.forEach(_,function(N){e.forEach(N,function(I,T){x[I]=I,w[I]=I,E[I]=T})}),e.forEach(_,function(N){var I=-1;e.forEach(N,function(T){var q=b(T);if(q.length){q=e.sortBy(q,function(M){return E[M]});for(var P=(q.length-1)/2,L=Math.floor(P),S=Math.ceil(P);L<=S;++L){var R=q[L];w[T]===T&&I<E[R]&&!s(g,T,R)&&(w[R]=T,w[T]=x[T]=x[R],I=E[R])}}})}),{root:x,align:w}}function c(y,_,g,b,x){var w={},E=l(y,_,g,x),N=x?"borderLeft":"borderRight";function I(P,L){for(var S=E.nodes(),R=S.pop(),M={};R;)M[R]?P(R):(M[R]=!0,S.push(R),S=S.concat(L(R))),R=S.pop()}function T(P){w[P]=E.inEdges(P).reduce(function(L,S){return Math.max(L,w[S.v]+E.edge(S))},0)}function q(P){var L=E.outEdges(P).reduce(function(R,M){return Math.min(R,w[M.w]-E.edge(M))},Number.POSITIVE_INFINITY),S=y.node(P);L!==Number.POSITIVE_INFINITY&&S.borderType!==N&&(w[P]=Math.max(w[P],L))}return I(T,E.predecessors.bind(E)),I(q,E.successors.bind(E)),e.forEach(b,function(P){w[P]=w[g[P]]}),w}function l(y,_,g,b){var x=new t,w=y.graph(),E=p(w.nodesep,w.edgesep,b);return e.forEach(_,function(N){var I;e.forEach(N,function(T){var q=g[T];if(x.setNode(q),I){var P=g[I],L=x.edge(P,q);x.setEdge(P,q,Math.max(E(y,T,I),L||0))}I=T})}),x}function d(y,_){return e.minBy(e.values(_),function(g){var b=Number.NEGATIVE_INFINITY,x=Number.POSITIVE_INFINITY;return e.forIn(g,function(w,E){var N=v(y,E)/2;b=Math.max(w+N,b),x=Math.min(w-N,x)}),b-x})}function f(y,_){var g=e.values(_),b=e.min(g),x=e.max(g);e.forEach(["u","d"],function(w){e.forEach(["l","r"],function(E){var N=w+E,I=y[N],T;if(I!==_){var q=e.values(I);T=E==="l"?b-e.min(q):x-e.max(q),T&&(y[N]=e.mapValues(I,function(P){return P+T}))}})})}function h(y,_){return e.mapValues(y.ul,function(g,b){if(_)return y[_.toLowerCase()][b];var x=e.sortBy(e.map(y,b));return(x[1]+x[2])/2})}function m(y){var _=n.buildLayerMatrix(y),g=e.merge(r(y,_),i(y,_)),b={},x;e.forEach(["u","d"],function(E){x=E==="u"?_:e.values(_).reverse(),e.forEach(["l","r"],function(N){N==="r"&&(x=e.map(x,function(P){return e.values(P).reverse()}));var I=(E==="u"?y.predecessors:y.successors).bind(y),T=u(y,x,g,I),q=c(y,x,T.root,T.align,N==="r");N==="r"&&(q=e.mapValues(q,function(P){return-P})),b[E+N]=q})});var w=d(y,b);return f(b,w),h(b,y.graph().align)}function p(y,_,g){return function(b,x,w){var E=b.node(x),N=b.node(w),I=0,T;if(I+=E.width/2,e.has(E,"labelpos"))switch(E.labelpos.toLowerCase()){case"l":T=-E.width/2;break;case"r":T=E.width/2;break}if(T&&(I+=g?T:-T),T=0,I+=(E.dummy?_:y)/2,I+=(N.dummy?_:y)/2,I+=N.width/2,e.has(N,"labelpos"))switch(N.labelpos.toLowerCase()){case"l":T=N.width/2;break;case"r":T=-N.width/2;break}return T&&(I+=g?T:-T),T=0,I}}function v(y,_){return y.node(_).width}return ju}var $u,mv;function Aq(){if(mv)return $u;mv=1;var e=ie(),t=de(),n=Rq().positionX;$u=r;function r(o){o=t.asNonCompoundGraph(o),i(o),e.forEach(n(o),function(a,s){o.node(s).x=a})}function i(o){var a=t.buildLayerMatrix(o),s=o.graph().ranksep,u=0;e.forEach(a,function(c){var l=e.max(e.map(c,function(d){return o.node(d).height}));e.forEach(c,function(d){o.node(d).y=u+l/2}),u+=l+s})}return $u}var Fu,yv;function Mq(){if(yv)return Fu;yv=1;var e=ie(),t=dq(),n=hq(),r=gq(),i=de().normalizeRanks,o=vq(),a=de().removeEmptyRanks,s=mq(),u=yq(),c=bq(),l=qq(),d=Aq(),f=de(),h=Se().Graph;Fu=m;function m(A,O){var D=O&&O.debugTiming?f.time:f.notime;D("layout",function(){var B=D("  buildLayoutGraph",function(){return I(A)});D("  runLayout",function(){p(B,D)}),D("  updateInputGraph",function(){v(A,B)})})}function p(A,O){O("    makeSpaceForEdgeLabels",function(){T(A)}),O("    removeSelfEdges",function(){$(A)}),O("    acyclic",function(){t.run(A)}),O("    nestingGraph.run",function(){s.run(A)}),O("    rank",function(){r(f.asNonCompoundGraph(A))}),O("    injectEdgeLabelProxies",function(){q(A)}),O("    removeEmptyRanks",function(){a(A)}),O("    nestingGraph.cleanup",function(){s.cleanup(A)}),O("    normalizeRanks",function(){i(A)}),O("    assignRankMinMax",function(){P(A)}),O("    removeEdgeLabelProxies",function(){L(A)}),O("    normalize.run",function(){n.run(A)}),O("    parentDummyChains",function(){o(A)}),O("    addBorderSegments",function(){u(A)}),O("    order",function(){l(A)}),O("    insertSelfEdges",function(){H(A)}),O("    adjustCoordinateSystem",function(){c.adjust(A)}),O("    position",function(){d(A)}),O("    positionSelfEdges",function(){z(A)}),O("    removeBorderNodes",function(){F(A)}),O("    normalize.undo",function(){n.undo(A)}),O("    fixupEdgeLabelCoords",function(){M(A)}),O("    undoCoordinateSystem",function(){c.undo(A)}),O("    translateGraph",function(){S(A)}),O("    assignNodeIntersects",function(){R(A)}),O("    reversePoints",function(){k(A)}),O("    acyclic.undo",function(){t.undo(A)})}function v(A,O){e.forEach(A.nodes(),function(D){var B=A.node(D),V=O.node(D);B&&(B.x=V.x,B.y=V.y,O.children(D).length&&(B.width=V.width,B.height=V.height))}),e.forEach(A.edges(),function(D){var B=A.edge(D),V=O.edge(D);B.points=V.points,e.has(V,"x")&&(B.x=V.x,B.y=V.y)}),A.graph().width=O.graph().width,A.graph().height=O.graph().height}var y=["nodesep","edgesep","ranksep","marginx","marginy"],_={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},g=["acyclicer","ranker","rankdir","align"],b=["width","height"],x={width:0,height:0},w=["minlen","weight","width","height","labeloffset"],E={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},N=["labelpos"];function I(A){var O=new h({multigraph:!0,compound:!0}),D=Y(A.graph());return O.setGraph(e.merge({},_,G(D,y),e.pick(D,g))),e.forEach(A.nodes(),function(B){var V=Y(A.node(B));O.setNode(B,e.defaults(G(V,b),x)),O.setParent(B,A.parent(B))}),e.forEach(A.edges(),function(B){var V=Y(A.edge(B));O.setEdge(B,e.merge({},E,G(V,w),e.pick(V,N)))}),O}function T(A){var O=A.graph();O.ranksep/=2,e.forEach(A.edges(),function(D){var B=A.edge(D);B.minlen*=2,B.labelpos.toLowerCase()!=="c"&&(O.rankdir==="TB"||O.rankdir==="BT"?B.width+=B.labeloffset:B.height+=B.labeloffset)})}function q(A){e.forEach(A.edges(),function(O){var D=A.edge(O);if(D.width&&D.height){var B=A.node(O.v),V=A.node(O.w),U={rank:(V.rank-B.rank)/2+B.rank,e:O};f.addDummyNode(A,"edge-proxy",U,"_ep")}})}function P(A){var O=0;e.forEach(A.nodes(),function(D){var B=A.node(D);B.borderTop&&(B.minRank=A.node(B.borderTop).rank,B.maxRank=A.node(B.borderBottom).rank,O=e.max(O,B.maxRank))}),A.graph().maxRank=O}function L(A){e.forEach(A.nodes(),function(O){var D=A.node(O);D.dummy==="edge-proxy"&&(A.edge(D.e).labelRank=D.rank,A.removeNode(O))})}function S(A){var O=Number.POSITIVE_INFINITY,D=0,B=Number.POSITIVE_INFINITY,V=0,U=A.graph(),Z=U.marginx||0,ee=U.marginy||0;function Q(J){var W=J.x,X=J.y,ae=J.width,te=J.height;O=Math.min(O,W-ae/2),D=Math.max(D,W+ae/2),B=Math.min(B,X-te/2),V=Math.max(V,X+te/2)}e.forEach(A.nodes(),function(J){Q(A.node(J))}),e.forEach(A.edges(),function(J){var W=A.edge(J);e.has(W,"x")&&Q(W)}),O-=Z,B-=ee,e.forEach(A.nodes(),function(J){var W=A.node(J);W.x-=O,W.y-=B}),e.forEach(A.edges(),function(J){var W=A.edge(J);e.forEach(W.points,function(X){X.x-=O,X.y-=B}),e.has(W,"x")&&(W.x-=O),e.has(W,"y")&&(W.y-=B)}),U.width=D-O+Z,U.height=V-B+ee}function R(A){e.forEach(A.edges(),function(O){var D=A.edge(O),B=A.node(O.v),V=A.node(O.w),U,Z;D.points?(U=D.points[0],Z=D.points[D.points.length-1]):(D.points=[],U=V,Z=B),D.points.unshift(f.intersectRect(B,U)),D.points.push(f.intersectRect(V,Z))})}function M(A){e.forEach(A.edges(),function(O){var D=A.edge(O);if(e.has(D,"x"))switch((D.labelpos==="l"||D.labelpos==="r")&&(D.width-=D.labeloffset),D.labelpos){case"l":D.x-=D.width/2+D.labeloffset;break;case"r":D.x+=D.width/2+D.labeloffset;break}})}function k(A){e.forEach(A.edges(),function(O){var D=A.edge(O);D.reversed&&D.points.reverse()})}function F(A){e.forEach(A.nodes(),function(O){if(A.children(O).length){var D=A.node(O),B=A.node(D.borderTop),V=A.node(D.borderBottom),U=A.node(e.last(D.borderLeft)),Z=A.node(e.last(D.borderRight));D.width=Math.abs(Z.x-U.x),D.height=Math.abs(V.y-B.y),D.x=U.x+D.width/2,D.y=B.y+D.height/2}}),e.forEach(A.nodes(),function(O){A.node(O).dummy==="border"&&A.removeNode(O)})}function $(A){e.forEach(A.edges(),function(O){if(O.v===O.w){var D=A.node(O.v);D.selfEdges||(D.selfEdges=[]),D.selfEdges.push({e:O,label:A.edge(O)}),A.removeEdge(O)}})}function H(A){var O=f.buildLayerMatrix(A);e.forEach(O,function(D){var B=0;e.forEach(D,function(V,U){var Z=A.node(V);Z.order=U+B,e.forEach(Z.selfEdges,function(ee){f.addDummyNode(A,"selfedge",{width:ee.label.width,height:ee.label.height,rank:Z.rank,order:U+ ++B,e:ee.e,label:ee.label},"_se")}),delete Z.selfEdges})})}function z(A){e.forEach(A.nodes(),function(O){var D=A.node(O);if(D.dummy==="selfedge"){var B=A.node(D.e.v),V=B.x+B.width/2,U=B.y,Z=D.x-V,ee=B.height/2;A.setEdge(D.e,D.label),A.removeNode(O),D.label.points=[{x:V+2*Z/3,y:U-ee},{x:V+5*Z/6,y:U-ee},{x:V+Z,y:U},{x:V+5*Z/6,y:U+ee},{x:V+2*Z/3,y:U+ee}],D.label.x=D.x,D.label.y=D.y}})}function G(A,O){return e.mapValues(e.pick(A,O),Number)}function Y(A){var O={};return e.forEach(A,function(D,B){O[B.toLowerCase()]=D}),O}return Fu}var Bu,bv;function Tq(){if(bv)return Bu;bv=1;var e=ie(),t=de(),n=Se().Graph;Bu={debugOrdering:r};function r(i){var o=t.buildLayerMatrix(i),a=new n({compound:!0,multigraph:!0}).setGraph({});return e.forEach(i.nodes(),function(s){a.setNode(s,{label:s}),a.setParent(s,"layer"+i.node(s).rank)}),e.forEach(i.edges(),function(s){a.setEdge(s.v,s.w,{},s.name)}),e.forEach(o,function(s,u){var c="layer"+u;a.setNode(c,{rank:"same"}),e.reduce(s,function(l,d){return a.setEdge(l,d,{style:"invis"}),d})}),a}return Bu}var Hu,_v;function Pq(){return _v||(_v=1,Hu="0.8.5"),Hu}var zu,xv;function kq(){return xv||(xv=1,zu={graphlib:Se(),layout:Mq(),debug:Tq(),util:{time:de().time,notime:de().notime},version:Pq()}),zu}var Oq=kq();const wv=Iv(Oq),Lq=({flowNodes:e,flowEdges:t,items:n,getItemColor:r})=>{const i=new wv.graphlib.Graph;i.setDefaultEdgeLabel(()=>({})),i.setGraph({rankdir:"LR",ranksep:150,nodesep:100}),e.forEach((c,l)=>{i.setNode(`node_${l}`,{width:200,height:120})}),t.forEach(c=>{const l=e.findIndex(f=>`${f.buildingId}_${f.recipeIndex}_${f.outputItem}`===c.from),d=e.findIndex(f=>`${f.buildingId}_${f.recipeIndex}_${f.outputItem}`===c.to);l!==-1&&d!==-1&&i.setEdge(`node_${l}`,`node_${d}`)}),wv.layout(i);const o=e.map((c,l)=>{const d=i.node(`node_${l}`);return{id:`node_${l}`,type:"default",position:{x:d.x-100,y:d.y-60},data:{label:C.jsxs("div",{className:"text-center p-2",children:[Math.ceil(c.buildingCount)>1&&C.jsx("div",{className:"text-xs font-semibold absolute top-[-8px] right-[-8px]",children:C.jsx("div",{className:"badge badge-sm badge-secondary",children:Math.ceil(c.buildingCount)})}),C.jsx("div",{className:"absolute top-1/2 right-0 transform -translate-y-1/2 translate-x-1/2 z-50",children:C.jsxs("div",{className:"badge badge-sm badge-primary",children:["x",c.buildingCount.toFixed(2)]})}),C.jsx("div",{className:"text-xs font-semibold mb-1",children:c.buildingName}),C.jsx("div",{className:"flex items-center gap-2 justify-center",children:C.jsx(qv,{buildingId:c.buildingId,className:"w-19 h-19 rounded-full object-cover",size:"medium"})}),C.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[C.jsx("div",{className:"relative flex-shrink-0",children:C.jsx(Rv,{itemId:c.outputItem,size:"small"})}),C.jsxs("div",{className:"text-left",children:[C.jsx("div",{className:"text-xs opacity-75 leading-tight",children:ac(c.outputItem,n)}),C.jsxs("div",{className:"text-xs leading-tight",style:{color:r(c.outputItem)},children:[c.outputAmount.toFixed(1),"/min"]})]})]}),C.jsxs("div",{className:"text-xs font-semibold absolute bottom-1 right-1",children:["",c.powerPerBuilding]})]})},sourcePosition:K.Right,targetPosition:K.Left}}),a=new Map;e.forEach((c,l)=>{const d=`${c.buildingId}_${c.recipeIndex}_${c.outputItem}`;a.set(d,`node_${l}`)});const s=[],u=new Set;return t.forEach(c=>{const l=a.get(c.from),d=a.get(c.to);if(l&&d){const f=`${l}-${d}-${c.itemId}`;if(u.has(f))return;u.add(f);const h=`${ac(c.itemId,n)} (${c.amount.toFixed(1)}/min)`,m={id:f,source:l,target:d,type:"default",style:{stroke:r(c.itemId),strokeWidth:2},label:h,labelStyle:{fontSize:12,fontWeight:"bold",color:r(c.itemId)}};s.push(m)}}),{nodes:o,edges:s}},Dq=()=>{const e=ve([me.ITEMS]),t=j.useCallback(r=>{const i=e.find(a=>a.id===r);return i&&{raw:"#3b82f6",processed:"#8b5cf6",component:"#06d6a0",ammo:"#f59e0b",final:"#10b981"}[i.type]||"#6b7280"},[e]),n=j.useCallback(r=>({ore_excavator:"#3b82f6",helium_extractor:"#06b6d4",smelter:"#f97316",furnace:"#dc2626",fabricator:"#8b5cf6"})[r]||"#6b7280",[]);return{getItemColor:t,getBuildingColor:n}},jq=()=>{const e=ve([me.ITEMS]);return j.useMemo(()=>e.filter(n=>n.type!=="raw").sort((n,r)=>n.name.localeCompare(r.name)),[e])},$q=()=>{const e=ve([me.BUILDINGS]);return j.useCallback(n=>{for(const r of e)for(const i of r.recipes)if(i.output.id===n)return i.output.amount_per_minute;return 60},[])},Ev=({selectedItemId:e,onItemSelect:t,className:n=""})=>{const r=jq();return C.jsxs("select",{className:`select select-bordered ${n}`,value:e,onChange:t,children:[C.jsx("option",{value:"",children:"Choose an item..."}),r.map(i=>C.jsxs("option",{value:i.id,children:[i.name," (",i.type,")"]},i.id))]})},Sv=({targetAmount:e,onTargetAmountChange:t,className:n="",label:r="Target (per min):",showLabel:i=!0})=>{const o=s=>{const u=s.target.value;if(u==="")t(0);else{const c=Number(u);c>=1&&t(c)}},a=s=>{const u=Number(s.target.value);(u<1||isNaN(u))&&t(1)};return C.jsxs("div",{className:"form-control",children:[i&&C.jsx("label",{className:"label pb-1",children:C.jsx("span",{className:"label-text font-semibold text-sm lg:text-base",children:r})}),C.jsx("input",{type:"number",min:"1",step:"1",value:e===0?"":e,onChange:o,onBlur:a,className:`input input-bordered ${n}`})]})},Fq={},Bq={},Hq=({selectedItemId:e,targetAmount:t,onFlowDataChange:n})=>{const{fitView:r}=Gn(),i=ve([me.THEME]),o=ve([me.BUILDINGS]),a=ve([me.ITEMS]),s=ve([me.CORPORATIONS]),{getItemColor:u,getBuildingColor:c}=Dq(),[l,d,f]=zS([]),[h,m,p]=VS([]),v=j.useCallback(()=>{if(e){const y=t>0?t:1,{nodes:_,edges:g}=bC({targetItemId:e,targetAmount:y},o,s);n&&n(_,g);const{nodes:b,edges:x}=Lq({flowNodes:_,flowEdges:g,items:a,getItemColor:u});d(b),m(x)}else d([]),m([]),n&&n([],[])},[e,t,o,s,a,u,c,n,d,m]);return j.useEffect(()=>{v()},[v]),j.useEffect(()=>{l.length>0&&setTimeout(()=>{r({duration:300,padding:.1})},10)},[l,r]),e?C.jsx("div",{className:"w-full h-full",children:C.jsxs(HS,{nodes:l,edges:h,colorMode:i,onNodesChange:f,onEdgesChange:p,nodeTypes:Fq,edgeTypes:Bq,attributionPosition:"bottom-left",children:[C.jsx(XS,{}),C.jsx(nC,{})]})}):C.jsx("div",{className:"flex items-center justify-center h-full",children:C.jsxs("div",{className:"text-center",children:[C.jsx("div",{className:"text-6xl mb-4",children:""}),C.jsx("h2",{className:"text-xl font-semibold text-base-content/80",children:"Select an item to view its production flow"}),C.jsx("p",{className:"text-base-content/60 mt-2",children:"Choose any processed item, component, or ammo to see the required buildings and resource flow."})]})})},Cv=({className:e="",selectedItemId:t=null,targetAmount:n=60})=>{const r=ve([me.PLANNER_AVAILABLE_CORPORATION_LEVELS]),i=ve([me.SELECTED_PLANNER_CORPORATION_LEVEL]),o=ve([me.CORPORATIONS]),[a,s]=j.useState(!1);if(j.useEffect(()=>{if(r.length>0&&!i){const f=r[0];Vu([Gu.SET_PLANNER_CORPORATION_LEVEL,{corporationId:f.corporationId,level:f.level}])}},[r,i]),r.length===0)return null;let u=0,c=0,l="",d=0;if(i&&t){const f=o.find(h=>h.id===i.corporationId);if(f){l=f.name;const h=f.levels.find(m=>m.level===i.level);if(h){const m=h.components.find(p=>p.id===t);m&&(u=m.cost??0,d=Math.max(1,n/10),c=u/(10*d))}}}return C.jsxs("div",{className:`relative ${e}`,children:[C.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-base-200 border border-base-300 rounded-lg cursor-pointer hover:border-primary transition-colors",onClick:()=>s(!a),children:[i?C.jsxs(C.Fragment,{children:[C.jsx(pb,{usage:{corporation:l,level:i.level},corporationId:i.corporationId}),t&&u>0&&C.jsxs(C.Fragment,{children:[C.jsx("span",{className:"text-xs text-base-content/40",children:"|"}),C.jsxs("span",{className:"text-xs text-purple-500 font-semibold",children:[u," items"]}),C.jsxs("span",{className:"text-xs text-yellow-500 font-semibold",children:[c.toFixed(1),"min"]})]})]}):C.jsx("span",{className:"text-xs text-base-content/60",children:"Select corporation..."}),C.jsx("svg",{className:`w-4 h-4 ml-auto transition-transform ${a?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),a&&C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>s(!1)}),C.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 z-20 bg-base-200 border border-base-300 rounded-lg shadow-lg max-h-60 overflow-auto",children:C.jsx("ul",{className:"menu p-3 gap-1",children:r.map(f=>{const h=i?.corporationId===f.corporationId&&i?.level===f.level;return C.jsx("li",{children:C.jsxs("button",{className:`flex items-center gap-2 text-sm py-3 px-4 min-h-[44px] ${h?"active":""}`,onClick:()=>{Vu([Gu.SET_PLANNER_CORPORATION_LEVEL,{corporationId:f.corporationId,level:f.level}]),s(!1)},children:[C.jsx("img",{src:`./icons/corporations/${f.corporationId}.png`,alt:f.corporationName,className:"w-6 h-6 rounded object-cover flex-shrink-0",onError:m=>{m.currentTarget.style.display="none"}}),C.jsxs("span",{children:[f.corporationName," - Level ",f.level]})]})},`${f.corporationId}-${f.level}`)})})})]})]})},zq=({isOpen:e,onClose:t,nodes:n,edges:r,items:i})=>{const o=j.useMemo(()=>{const a=new Map;n.forEach(p=>{const v=a.get(p.buildingId);v?(v.count+=Math.ceil(p.buildingCount),v.totalPower+=p.totalPower):a.set(p.buildingId,{buildingId:p.buildingId,buildingName:p.buildingName,count:Math.ceil(p.buildingCount),totalPower:p.totalPower})});const s=Array.from(a.values()).sort((p,v)=>v.count-p.count),u=n.reduce((p,v)=>p+v.totalPower,0),c=n.reduce((p,v)=>p+Math.ceil(v.buildingCount),0),l=new Set;n.forEach(p=>{l.add(p.outputItem)}),r.forEach(p=>{l.add(p.itemId)});const d=Array.from(l).map(p=>{const v=i.find(y=>y.id===p);return{id:p,name:ac(p,i),type:v?.type||"unknown"}}),f=new Map;d.forEach(p=>{const v=p.type;f.has(v)||f.set(v,[]),f.get(v).push(p)}),f.forEach(p=>{p.sort((v,y)=>v.name.localeCompare(y.name))});const h=["raw","processed","component","ammo","final"],m=Array.from(f.keys()).sort((p,v)=>{const y=h.indexOf(p),_=h.indexOf(v);return y===-1&&_===-1?p.localeCompare(v):y===-1?1:_===-1?-1:y-_});return{buildingStats:s,totalEnergy:u,totalBuildings:c,itemsByType:f,sortedTypes:m}},[n,r,i]);return e?C.jsxs("div",{className:"modal modal-open",children:[C.jsxs("div",{className:"modal-box max-w-3xl max-h-[90vh]",children:[C.jsxs("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:[C.jsx("h3",{className:"text-lg lg:text-xl font-bold pr-4",children:"Production Statistics"}),C.jsx("button",{className:"btn btn-sm btn-circle btn-ghost flex-shrink-0",onClick:t,"aria-label":"Close modal",children:""})]}),C.jsxs("div",{className:"flex items-center gap-4 mb-4 px-2 py-2 bg-base-200 rounded-lg",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"text-sm font-semibold",children:"Buildings:"}),C.jsx("span",{className:"text-base font-bold",children:o.totalBuildings})]}),C.jsx("div",{className:"divider divider-horizontal"}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"text-sm font-semibold",children:"Energy:"}),C.jsxs("span",{className:"text-base font-bold",children:[" ",o.totalEnergy.toFixed(0)]})]})]}),C.jsx("div",{className:"mb-6",children:C.jsx("div",{className:"border border-base-300 rounded-lg overflow-hidden bg-base-100 shadow-sm",children:C.jsx("div",{className:"overflow-y-scroll max-h-60 overflow-x-auto",children:C.jsxs("table",{className:"table table-zebra w-full",children:[C.jsx("thead",{className:"sticky top-0 bg-base-200 z-10",children:C.jsxs("tr",{children:[C.jsx("th",{children:"Building"}),C.jsx("th",{className:"text-right",children:"Count"}),C.jsx("th",{className:"text-right",children:"Power"})]})}),C.jsx("tbody",{children:o.buildingStats.map(a=>C.jsxs("tr",{children:[C.jsx("td",{children:C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(qv,{buildingId:a.buildingId,size:"small",className:"w-8 h-8"}),C.jsx("span",{className:"font-medium",children:a.buildingName})]})}),C.jsx("td",{className:"text-right font-semibold",children:a.count}),C.jsxs("td",{className:"text-right",children:[" ",a.totalPower.toFixed(0)]})]},a.buildingId))})]})})})}),C.jsxs("div",{className:"mb-6",children:[C.jsxs("h4",{className:"text-md font-semibold mb-3",children:["Items Used (",o.sortedTypes.reduce((a,s)=>a+(o.itemsByType.get(s)?.length||0),0),")"]}),C.jsx("div",{className:"border border-base-300 rounded-lg p-3 overflow-y-scroll max-h-40 space-y-4 bg-base-100 shadow-sm",children:o.sortedTypes.map(a=>{const s=o.itemsByType.get(a)||[];return s.length===0?null:C.jsxs("div",{className:"space-y-2",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:`badge ${Xc(a)}`,children:gb(a)}),C.jsxs("span",{className:"text-xs text-base-content/60",children:["(",s.length,")"]})]}),C.jsx("div",{className:"flex flex-wrap gap-2 pl-2",children:s.map(u=>C.jsxs("div",{className:`badge badge-sm gap-1.5 px-2 py-1 ${Xc(u.type)}`,children:[C.jsx(Rv,{itemId:u.id,size:"small",className:"w-4 h-4"}),C.jsx("span",{className:"text-xs",children:u.name})]},u.id))})]},a)})})]}),C.jsx("div",{className:"modal-action",children:C.jsx("button",{className:"btn btn-primary btn-sm lg:btn-md",onClick:t,children:"Close"})})]}),C.jsx("div",{className:"modal-backdrop",onClick:t})]}):null},Vq=()=>{const e=ve([me.SELECTED_PLANNER_ITEM]),t=$q(),n=ve([me.ITEMS]),[r,i]=j.useState(60),[o,a]=j.useState(!1),[s,u]=j.useState([]),[c,l]=j.useState([]);j.useEffect(()=>{if(e){const m=t(e);i(m)}},[e,t]);const d=j.useCallback(m=>{const p=m.target.value;Vu([Gu.SET_PLANNER_ITEM,p||null])},[t]),f=j.useCallback((m,p)=>{u(m),l(p)},[]),h=j.useMemo(()=>{if(!e||s.length===0)return{totalBuildings:0,totalEnergy:0};const m=s.reduce((v,y)=>v+Math.ceil(y.buildingCount),0),p=s.reduce((v,y)=>v+y.totalPower,0);return{totalBuildings:m,totalEnergy:p}},[e,s]);return C.jsxs("div",{className:"h-full flex flex-col bg-base-100",children:[C.jsxs("div",{className:"p-2 lg:p-4 bg-base-200 shadow-lg flex-shrink-0",children:[C.jsxs("div",{className:"flex flex-col gap-2 sm:hidden",children:[C.jsxs("div",{className:"flex gap-2",children:[C.jsx(Ev,{selectedItemId:e||"",onItemSelect:d,className:"select-sm flex-1 text-xs"}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"text-xs font-medium text-base-content/70 whitespace-nowrap",children:"Target/min:"}),C.jsx(Sv,{targetAmount:r,onTargetAmountChange:i,className:"input-sm w-20 text-xs",showLabel:!1})]})]}),C.jsxs("div",{className:"flex gap-2 items-center",children:[e&&C.jsxs("div",{className:"flex items-center gap-2",children:["",h.totalBuildings,C.jsx("span",{className:"text-xs text-base-content/40",children:"|"}),"",h.totalEnergy.toFixed(0),C.jsx("button",{className:"btn btn-sm",onClick:()=>a(!0),children:"Show Stats"})]}),C.jsx(Cv,{selectedItemId:e,targetAmount:r})]})]}),C.jsxs("div",{className:"hidden sm:flex flex-row items-end gap-4 lg:gap-6",children:[C.jsx("div",{className:"form-control",children:C.jsx(Ev,{selectedItemId:e||"",onItemSelect:d,className:"select-sm lg:select-md"})}),C.jsx(Sv,{targetAmount:r,onTargetAmountChange:i,className:"input-sm lg:input-md w-24 lg:w-28"}),e&&C.jsxs("div",{className:"flex items-center gap-2",children:["",h.totalBuildings,C.jsx("span",{className:"text-xs text-base-content/40",children:"|"}),"",h.totalEnergy.toFixed(0),C.jsx("button",{className:"btn btn-sm lg:btn-md",onClick:()=>a(!0),children:"Show Stats"})]}),C.jsx(Cv,{className:"max-w-md",selectedItemId:e,targetAmount:r})]})]}),C.jsx("div",{className:"flex-1 min-h-0",children:C.jsx(Hq,{selectedItemId:e||"",targetAmount:r,onFlowDataChange:f})}),e&&C.jsx(zq,{isOpen:o,onClose:()=>a(!1),nodes:s,edges:c,items:n})]})},Uq=()=>C.jsx(dy,{children:C.jsx(Vq,{})});export{Uq as default};
